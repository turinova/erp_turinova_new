/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/dashboard/weekly-cutting/route";
exports.ids = ["app/api/dashboard/weekly-cutting/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fdashboard%2Fweekly-cutting%2Froute&page=%2Fapi%2Fdashboard%2Fweekly-cutting%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Fweekly-cutting%2Froute.ts&appDir=%2FVolumes%2FT7%2Ferp_turinova_new%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FVolumes%2FT7%2Ferp_turinova_new&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fdashboard%2Fweekly-cutting%2Froute&page=%2Fapi%2Fdashboard%2Fweekly-cutting%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Fweekly-cutting%2Froute.ts&appDir=%2FVolumes%2FT7%2Ferp_turinova_new%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FVolumes%2FT7%2Ferp_turinova_new&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Volumes_T7_erp_turinova_new_src_app_api_dashboard_weekly_cutting_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/dashboard/weekly-cutting/route.ts */ \"(rsc)/./src/app/api/dashboard/weekly-cutting/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/dashboard/weekly-cutting/route\",\n        pathname: \"/api/dashboard/weekly-cutting\",\n        filename: \"route\",\n        bundlePath: \"app/api/dashboard/weekly-cutting/route\"\n    },\n    resolvedPagePath: \"/Volumes/T7/erp_turinova_new/src/app/api/dashboard/weekly-cutting/route.ts\",\n    nextConfigOutput,\n    userland: _Volumes_T7_erp_turinova_new_src_app_api_dashboard_weekly_cutting_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZkYXNoYm9hcmQlMkZ3ZWVrbHktY3V0dGluZyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZGFzaGJvYXJkJTJGd2Vla2x5LWN1dHRpbmclMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZkYXNoYm9hcmQlMkZ3ZWVrbHktY3V0dGluZyUyRnJvdXRlLnRzJmFwcERpcj0lMkZWb2x1bWVzJTJGVDclMkZlcnBfdHVyaW5vdmFfbmV3JTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZWb2x1bWVzJTJGVDclMkZlcnBfdHVyaW5vdmFfbmV3JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUMwQjtBQUN2RztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1ZvbHVtZXMvVDcvZXJwX3R1cmlub3ZhX25ldy9zcmMvYXBwL2FwaS9kYXNoYm9hcmQvd2Vla2x5LWN1dHRpbmcvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2Rhc2hib2FyZC93ZWVrbHktY3V0dGluZy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2Rhc2hib2FyZC93ZWVrbHktY3V0dGluZ1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvZGFzaGJvYXJkL3dlZWtseS1jdXR0aW5nL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1ZvbHVtZXMvVDcvZXJwX3R1cmlub3ZhX25ldy9zcmMvYXBwL2FwaS9kYXNoYm9hcmQvd2Vla2x5LWN1dHRpbmcvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fdashboard%2Fweekly-cutting%2Froute&page=%2Fapi%2Fdashboard%2Fweekly-cutting%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Fweekly-cutting%2Froute.ts&appDir=%2FVolumes%2FT7%2Ferp_turinova_new%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FVolumes%2FT7%2Ferp_turinova_new&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/dashboard/weekly-cutting/route.ts":
/*!*******************************************************!*\
  !*** ./src/app/api/dashboard/weekly-cutting/route.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @supabase/ssr */ \"(rsc)/./node_modules/@supabase/ssr/dist/module/index.js\");\n\n\n\nasync function GET(request) {\n    try {\n        const cookieStore = await (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n        const supabase = (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_2__.createServerClient)(\"https://xgkaviefifbllbmfbyfe.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhna2F2aWVmaWZibGxibWZieWZlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcxNDYxNTEsImV4cCI6MjA3MjcyMjE1MX0.EQFv5-iHscXMhU73oV7f90xmB8g8gr3YJ_-4ROQJ-AY\", {\n            cookies: {\n                getAll () {\n                    return cookieStore.getAll();\n                },\n                setAll (cookiesToSet) {\n                    cookiesToSet.forEach(({ name, value, options })=>{\n                        cookieStore.set(name, value, options);\n                    });\n                }\n            }\n        });\n        // Get current user\n        const { data: { user }, error: userError } = await supabase.auth.getUser();\n        if (userError || !user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Unauthorized'\n            }, {\n                status: 401\n            });\n        }\n        // Get weekOffset from query params (0 = current week, -1 = previous, +1 = next)\n        const { searchParams } = new URL(request.url);\n        const weekOffset = parseInt(searchParams.get('weekOffset') || '0', 10);\n        // Get start and end of target week (Monday to Saturday)\n        const now = new Date();\n        const currentDay = now.getDay() // 0 = Sunday, 1 = Monday, etc.\n        ;\n        // Calculate Monday of current week\n        const monday = new Date(now);\n        const daysFromMonday = currentDay === 0 ? 6 : currentDay - 1 // If Sunday, go back 6 days\n        ;\n        monday.setDate(now.getDate() - daysFromMonday);\n        // Apply week offset (multiply by 7 to get days)\n        monday.setDate(monday.getDate() + weekOffset * 7);\n        monday.setHours(0, 0, 0, 0);\n        // Calculate Saturday of target week (not Sunday)\n        const saturday = new Date(monday);\n        saturday.setDate(monday.getDate() + 5);\n        saturday.setHours(23, 59, 59, 999);\n        // Fetch quotes with production_date in current week and status = 'in_production'\n        // Join with quote_materials_pricing to get cutting_length_m\n        // Group by production_date and production_machine_id\n        const { data: weeklyData, error } = await supabase.from('quotes').select(`\n        id,\n        production_date,\n        production_machine_id,\n        quote_materials_pricing (\n          cutting_length_m\n        )\n      `).eq('status', 'in_production').gte('production_date', monday.toISOString().split('T')[0]).lte('production_date', saturday.toISOString().split('T')[0]).not('production_machine_id', 'is', null).order('production_date', {\n            ascending: true\n        });\n        if (error) {\n            console.error('Error fetching weekly cutting data:', error);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: error.message\n            }, {\n                status: 500\n            });\n        }\n        // Get machine names and usage limits\n        const machineIds = [\n            ...new Set(weeklyData.map((q)=>q.production_machine_id).filter(Boolean))\n        ];\n        const { data: machines } = await supabase.from('production_machines').select('id, machine_name, usage_limit_per_day').in('id', machineIds);\n        const machineMap = new Map(machines?.map((m)=>[\n                m.id,\n                {\n                    name: m.machine_name,\n                    limit: m.usage_limit_per_day\n                }\n            ]) || []);\n        // Process data: group by date and machine, sum cutting_length_m\n        const dataByDateAndMachine = new Map();\n        weeklyData.forEach((quote)=>{\n            const date = quote.production_date;\n            const machineId = quote.production_machine_id;\n            if (!date || !machineId) return;\n            // Sum cutting_length_m for this quote\n            const totalCuttingLength = quote.quote_materials_pricing?.reduce((sum, pricing)=>sum + (pricing.cutting_length_m || 0), 0) || 0;\n            if (!dataByDateAndMachine.has(date)) {\n                dataByDateAndMachine.set(date, new Map());\n            }\n            const machineData = dataByDateAndMachine.get(date);\n            const currentSum = machineData.get(machineId) || 0;\n            machineData.set(machineId, currentSum + totalCuttingLength);\n        });\n        // Convert to array format for ApexCharts\n        // Create array of weekdays with data (Monday to Saturday only)\n        const weekDays = [\n            'Hétfő',\n            'Kedd',\n            'Szerda',\n            'Csütörtök',\n            'Péntek',\n            'Szombat'\n        ];\n        const categories = weekDays;\n        // Prepare series data (one series per machine)\n        const seriesData = {};\n        // Initialize all machines with zeros for all days (6 days: Monday to Saturday)\n        machineIds.forEach((machineId)=>{\n            seriesData[machineId] = [\n                0,\n                0,\n                0,\n                0,\n                0,\n                0\n            ];\n        });\n        // Fill in actual data\n        dataByDateAndMachine.forEach((machineData, dateStr)=>{\n            const date = new Date(dateStr);\n            const dayOfWeek = date.getDay() // 0 = Sunday, 1 = Monday, ..., 6 = Saturday\n            ;\n            // Skip Sunday (dayOfWeek === 0)\n            if (dayOfWeek === 0) return;\n            const dayIndex = dayOfWeek - 1 // Convert to Monday=0, Saturday=5\n            ;\n            machineData.forEach((cuttingLength, machineId)=>{\n                if (seriesData[machineId]) {\n                    seriesData[machineId][dayIndex] = cuttingLength;\n                }\n            });\n        });\n        // Convert to ApexCharts series format\n        const series = Array.from(machineIds).map((machineId)=>{\n            const machineInfo = machineMap.get(machineId);\n            return {\n                name: machineInfo?.name || `Gép ${machineId.substring(0, 8)}`,\n                data: seriesData[machineId]\n            };\n        });\n        // Calculate daily totals (sum all machines for each day)\n        const dailyTotals = [\n            0,\n            0,\n            0,\n            0,\n            0,\n            0\n        ];\n        Object.values(seriesData).forEach((machineData)=>{\n            machineData.forEach((value, index)=>{\n                dailyTotals[index] += value;\n            });\n        });\n        // Create machine limits for annotations\n        const machineLimits = Array.from(machineIds).map((machineId)=>{\n            const machineInfo = machineMap.get(machineId);\n            return {\n                machineId,\n                machineName: machineInfo?.name || 'Unknown',\n                limit: machineInfo?.limit || 0\n            };\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            categories,\n            series,\n            machineLimits,\n            dailyTotals,\n            weekStart: monday.toISOString().split('T')[0],\n            weekEnd: saturday.toISOString().split('T')[0]\n        });\n    } catch (error) {\n        console.error('Error in weekly cutting API:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Internal server error'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9kYXNoYm9hcmQvd2Vla2x5LWN1dHRpbmcvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF1RDtBQUNqQjtBQUNZO0FBRTNDLGVBQWVHLElBQUlDLE9BQW9CO0lBQzVDLElBQUk7UUFDRixNQUFNQyxjQUFjLE1BQU1KLHFEQUFPQTtRQUNqQyxNQUFNSyxXQUFXSixpRUFBa0JBLENBQ2pDSywwQ0FBb0MsRUFDcENBLGtOQUF5QyxFQUN6QztZQUNFTixTQUFTO2dCQUNQVTtvQkFDRSxPQUFPTixZQUFZTSxNQUFNO2dCQUMzQjtnQkFDQUMsUUFBT0MsWUFBWTtvQkFDakJBLGFBQWFDLE9BQU8sQ0FBQyxDQUFDLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFFQyxPQUFPLEVBQUU7d0JBQzVDWixZQUFZYSxHQUFHLENBQUNILE1BQU1DLE9BQU9DO29CQUMvQjtnQkFDRjtZQUNGO1FBQ0Y7UUFHRixtQkFBbUI7UUFDbkIsTUFBTSxFQUFFRSxNQUFNLEVBQUVDLElBQUksRUFBRSxFQUFFQyxPQUFPQyxTQUFTLEVBQUUsR0FBRyxNQUFNaEIsU0FBU2lCLElBQUksQ0FBQ0MsT0FBTztRQUV4RSxJQUFJRixhQUFhLENBQUNGLE1BQU07WUFDdEIsT0FBT3BCLHFEQUFZQSxDQUFDeUIsSUFBSSxDQUFDO2dCQUFFSixPQUFPO1lBQWUsR0FBRztnQkFBRUssUUFBUTtZQUFJO1FBQ3BFO1FBRUEsZ0ZBQWdGO1FBQ2hGLE1BQU0sRUFBRUMsWUFBWSxFQUFFLEdBQUcsSUFBSUMsSUFBSXhCLFFBQVF5QixHQUFHO1FBQzVDLE1BQU1DLGFBQWFDLFNBQVNKLGFBQWFLLEdBQUcsQ0FBQyxpQkFBaUIsS0FBSztRQUVuRSx3REFBd0Q7UUFDeEQsTUFBTUMsTUFBTSxJQUFJQztRQUNoQixNQUFNQyxhQUFhRixJQUFJRyxNQUFNLEdBQUcsK0JBQStCOztRQUUvRCxtQ0FBbUM7UUFDbkMsTUFBTUMsU0FBUyxJQUFJSCxLQUFLRDtRQUN4QixNQUFNSyxp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UUFDeEMsTUFBTXFGLGdCQUFnQlAsTUFBTWxELElBQUksQ0FBQ1ksWUFBWUUsR0FBRyxDQUFDa0IsQ0FBQUE7WUFDL0MsTUFBTW1CLGNBQWM5QixXQUFXakMsR0FBRyxDQUFDNEM7WUFDbkMsT0FBTztnQkFDTEE7Z0JBQ0EwQixhQUFhUCxhQUFhaEYsUUFBUTtnQkFDbEN1RCxPQUFPeUIsYUFBYXpCLFNBQVM7WUFDL0I7UUFDRjtRQUVBLE9BQU90RSxxREFBWUEsQ0FBQ3lCLElBQUksQ0FBQztZQUN2QjhEO1lBQ0FNO1lBQ0FRO1lBQ0FKO1lBQ0FNLFdBQVdsRSxPQUFPVyxXQUFXLEdBQUdDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUM3Q3VELFNBQVM5RCxTQUFTTSxXQUFXLEdBQUdDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUMvQztJQUVGLEVBQUUsT0FBTzVCLE9BQU87UUFDZGlDLFFBQVFqQyxLQUFLLENBQUMsZ0NBQWdDQTtRQUM5QyxPQUFPckIscURBQVlBLENBQUN5QixJQUFJLENBQ3RCO1lBQUVKLE9BQU87UUFBd0IsR0FDakM7WUFBRUssUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIi9Wb2x1bWVzL1Q3L2VycF90dXJpbm92YV9uZXcvc3JjL2FwcC9hcGkvZGFzaGJvYXJkL3dlZWtseS1jdXR0aW5nL3JvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnXG5pbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3NyJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgY29va2llU3RvcmUgPSBhd2FpdCBjb29raWVzKClcbiAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZVNlcnZlckNsaWVudChcbiAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCEsXG4gICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSEsXG4gICAgICB7XG4gICAgICAgIGNvb2tpZXM6IHtcbiAgICAgICAgICBnZXRBbGwoKSB7XG4gICAgICAgICAgICByZXR1cm4gY29va2llU3RvcmUuZ2V0QWxsKClcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldEFsbChjb29raWVzVG9TZXQpIHtcbiAgICAgICAgICAgIGNvb2tpZXNUb1NldC5mb3JFYWNoKCh7IG5hbWUsIHZhbHVlLCBvcHRpb25zIH0pID0+IHtcbiAgICAgICAgICAgICAgY29va2llU3RvcmUuc2V0KG5hbWUsIHZhbHVlLCBvcHRpb25zKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfVxuICAgIClcblxuICAgIC8vIEdldCBjdXJyZW50IHVzZXJcbiAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9LCBlcnJvcjogdXNlckVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKVxuICAgIFxuICAgIGlmICh1c2VyRXJyb3IgfHwgIXVzZXIpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9LCB7IHN0YXR1czogNDAxIH0pXG4gICAgfVxuXG4gICAgLy8gR2V0IHdlZWtPZmZzZXQgZnJvbSBxdWVyeSBwYXJhbXMgKDAgPSBjdXJyZW50IHdlZWssIC0xID0gcHJldmlvdXMsICsxID0gbmV4dClcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybClcbiAgICBjb25zdCB3ZWVrT2Zmc2V0ID0gcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldCgnd2Vla09mZnNldCcpIHx8ICcwJywgMTApXG5cbiAgICAvLyBHZXQgc3RhcnQgYW5kIGVuZCBvZiB0YXJnZXQgd2VlayAoTW9uZGF5IHRvIFNhdHVyZGF5KVxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKClcbiAgICBjb25zdCBjdXJyZW50RGF5ID0gbm93LmdldERheSgpIC8vIDAgPSBTdW5kYXksIDEgPSBNb25kYXksIGV0Yy5cbiAgICBcbiAgICAvLyBDYWxjdWxhdGUgTW9uZGF5IG9mIGN1cnJlbnQgd2Vla1xuICAgIGNvbnN0IG1vbmRheSA9IG5ldyBEYXRlKG5vdylcbiAgICBjb25zdCBkYXlzRnJvbU1vbmRheSA9IGN1cnJlbnREYXkgPT09IDAgPyA2IDogY3VycmVudERheSAtIDEgLy8gSWYgU3VuZGF5LCBnbyBiYWNrIDYgZGF5c1xuICAgIG1vbmRheS5zZXREYXRlKG5vdy5nZXREYXRlKCkgLSBkYXlzRnJvbU1vbmRheSlcbiAgICBcbiAgICAvLyBBcHBseSB3ZWVrIG9mZnNldCAobXVsdGlwbHkgYnkgNyB0byBnZXQgZGF5cylcbiAgICBtb25kYXkuc2V0RGF0ZShtb25kYXkuZ2V0RGF0ZSgpICsgKHdlZWtPZmZzZXQgKiA3KSlcbiAgICBtb25kYXkuc2V0SG91cnMoMCwgMCwgMCwgMClcbiAgICBcbiAgICAvLyBDYWxjdWxhdGUgU2F0dXJkYXkgb2YgdGFyZ2V0IHdlZWsgKG5vdCBTdW5kYXkpXG4gICAgY29uc3Qgc2F0dXJkYXkgPSBuZXcgRGF0ZShtb25kYXkpXG4gICAgc2F0dXJkYXkuc2V0RGF0ZShtb25kYXkuZ2V0RGF0ZSgpICsgNSlcbiAgICBzYXR1cmRheS5zZXRIb3VycygyMywgNTksIDU5LCA5OTkpXG5cbiAgICAvLyBGZXRjaCBxdW90ZXMgd2l0aCBwcm9kdWN0aW9uX2RhdGUgaW4gY3VycmVudCB3ZWVrIGFuZCBzdGF0dXMgPSAnaW5fcHJvZHVjdGlvbidcbiAgICAvLyBKb2luIHdpdGggcXVvdGVfbWF0ZXJpYWxzX3ByaWNpbmcgdG8gZ2V0IGN1dHRpbmdfbGVuZ3RoX21cbiAgICAvLyBHcm91cCBieSBwcm9kdWN0aW9uX2RhdGUgYW5kIHByb2R1Y3Rpb25fbWFjaGluZV9pZFxuICAgIGNvbnN0IHsgZGF0YTogd2Vla2x5RGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncXVvdGVzJylcbiAgICAgIC5zZWxlY3QoYFxuICAgICAgICBpZCxcbiAgICAgICAgcHJvZHVjdGlvbl9kYXRlLFxuICAgICAgICBwcm9kdWN0aW9uX21hY2hpbmVfaWQsXG4gICAgICAgIHF1b3RlX21hdGVyaWFsc19wcmljaW5nIChcbiAgICAgICAgICBjdXR0aW5nX2xlbmd0aF9tXG4gICAgICAgIClcbiAgICAgIGApXG4gICAgICAuZXEoJ3N0YXR1cycsICdpbl9wcm9kdWN0aW9uJylcbiAgICAgIC5ndGUoJ3Byb2R1Y3Rpb25fZGF0ZScsIG1vbmRheS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0pXG4gICAgICAubHRlKCdwcm9kdWN0aW9uX2RhdGUnLCBzYXR1cmRheS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0pXG4gICAgICAubm90KCdwcm9kdWN0aW9uX21hY2hpbmVfaWQnLCAnaXMnLCBudWxsKVxuICAgICAgLm9yZGVyKCdwcm9kdWN0aW9uX2RhdGUnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KVxuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB3ZWVrbHkgY3V0dGluZyBkYXRhOicsIGVycm9yKVxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSwgeyBzdGF0dXM6IDUwMCB9KVxuICAgIH1cblxuICAgIC8vIEdldCBtYWNoaW5lIG5hbWVzIGFuZCB1c2FnZSBsaW1pdHNcbiAgICBjb25zdCBtYWNoaW5lSWRzID0gWy4uLm5ldyBTZXQod2Vla2x5RGF0YS5tYXAocSA9PiBxLnByb2R1Y3Rpb25fbWFjaGluZV9pZCkuZmlsdGVyKEJvb2xlYW4pKV1cbiAgICBjb25zdCB7IGRhdGE6IG1hY2hpbmVzIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3Byb2R1Y3Rpb25fbWFjaGluZXMnKVxuICAgICAgLnNlbGVjdCgnaWQsIG1hY2hpbmVfbmFtZSwgdXNhZ2VfbGltaXRfcGVyX2RheScpXG4gICAgICAuaW4oJ2lkJywgbWFjaGluZUlkcylcblxuICAgIGNvbnN0IG1hY2hpbmVNYXAgPSBuZXcgTWFwKG1hY2hpbmVzPy5tYXAobSA9PiBbbS5pZCwgeyBuYW1lOiBtLm1hY2hpbmVfbmFtZSwgbGltaXQ6IG0udXNhZ2VfbGltaXRfcGVyX2RheSB9XSkgfHwgW10pXG5cbiAgICAvLyBQcm9jZXNzIGRhdGE6IGdyb3VwIGJ5IGRhdGUgYW5kIG1hY2hpbmUsIHN1bSBjdXR0aW5nX2xlbmd0aF9tXG4gICAgY29uc3QgZGF0YUJ5RGF0ZUFuZE1hY2hpbmUgPSBuZXcgTWFwPHN0cmluZywgTWFwPHN0cmluZywgbnVtYmVyPj4oKVxuXG4gICAgd2Vla2x5RGF0YS5mb3JFYWNoKHF1b3RlID0+IHtcbiAgICAgIGNvbnN0IGRhdGUgPSBxdW90ZS5wcm9kdWN0aW9uX2RhdGVcbiAgICAgIGNvbnN0IG1hY2hpbmVJZCA9IHF1b3RlLnByb2R1Y3Rpb25fbWFjaGluZV9pZFxuICAgICAgXG4gICAgICBpZiAoIWRhdGUgfHwgIW1hY2hpbmVJZCkgcmV0dXJuXG5cbiAgICAgIC8vIFN1bSBjdXR0aW5nX2xlbmd0aF9tIGZvciB0aGlzIHF1b3RlXG4gICAgICBjb25zdCB0b3RhbEN1dHRpbmdMZW5ndGggPSBxdW90ZS5xdW90ZV9tYXRlcmlhbHNfcHJpY2luZz8ucmVkdWNlKFxuICAgICAgICAoc3VtOiBudW1iZXIsIHByaWNpbmc6IGFueSkgPT4gc3VtICsgKHByaWNpbmcuY3V0dGluZ19sZW5ndGhfbSB8fCAwKSwgXG4gICAgICAgIDBcbiAgICAgICkgfHwgMFxuXG4gICAgICBpZiAoIWRhdGFCeURhdGVBbmRNYWNoaW5lLmhhcyhkYXRlKSkge1xuICAgICAgICBkYXRhQnlEYXRlQW5kTWFjaGluZS5zZXQoZGF0ZSwgbmV3IE1hcCgpKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBtYWNoaW5lRGF0YSA9IGRhdGFCeURhdGVBbmRNYWNoaW5lLmdldChkYXRlKSFcbiAgICAgIGNvbnN0IGN1cnJlbnRTdW0gPSBtYWNoaW5lRGF0YS5nZXQobWFjaGluZUlkKSB8fCAwXG4gICAgICBtYWNoaW5lRGF0YS5zZXQobWFjaGluZUlkLCBjdXJyZW50U3VtICsgdG90YWxDdXR0aW5nTGVuZ3RoKVxuICAgIH0pXG5cbiAgICAvLyBDb252ZXJ0IHRvIGFycmF5IGZvcm1hdCBmb3IgQXBleENoYXJ0c1xuICAgIC8vIENyZWF0ZSBhcnJheSBvZiB3ZWVrZGF5cyB3aXRoIGRhdGEgKE1vbmRheSB0byBTYXR1cmRheSBvbmx5KVxuICAgIGNvbnN0IHdlZWtEYXlzID0gWydIw6l0ZsWRJywgJ0tlZGQnLCAnU3plcmRhJywgJ0Nzw7x0w7ZydMO2aycsICdQw6ludGVrJywgJ1N6b21iYXQnXVxuICAgIGNvbnN0IGNhdGVnb3JpZXMgPSB3ZWVrRGF5c1xuXG4gICAgLy8gUHJlcGFyZSBzZXJpZXMgZGF0YSAob25lIHNlcmllcyBwZXIgbWFjaGluZSlcbiAgICBjb25zdCBzZXJpZXNEYXRhOiB7IFtrZXk6IHN0cmluZ106IG51bWJlcltdIH0gPSB7fVxuICAgIFxuICAgIC8vIEluaXRpYWxpemUgYWxsIG1hY2hpbmVzIHdpdGggemVyb3MgZm9yIGFsbCBkYXlzICg2IGRheXM6IE1vbmRheSB0byBTYXR1cmRheSlcbiAgICBtYWNoaW5lSWRzLmZvckVhY2gobWFjaGluZUlkID0+IHtcbiAgICAgIHNlcmllc0RhdGFbbWFjaGluZUlkXSA9IFswLCAwLCAwLCAwLCAwLCAwXVxuICAgIH0pXG5cbiAgICAvLyBGaWxsIGluIGFjdHVhbCBkYXRhXG4gICAgZGF0YUJ5RGF0ZUFuZE1hY2hpbmUuZm9yRWFjaCgobWFjaGluZURhdGEsIGRhdGVTdHIpID0+IHtcbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyKVxuICAgICAgY29uc3QgZGF5T2ZXZWVrID0gZGF0ZS5nZXREYXkoKSAvLyAwID0gU3VuZGF5LCAxID0gTW9uZGF5LCAuLi4sIDYgPSBTYXR1cmRheVxuICAgICAgXG4gICAgICAvLyBTa2lwIFN1bmRheSAoZGF5T2ZXZWVrID09PSAwKVxuICAgICAgaWYgKGRheU9mV2VlayA9PT0gMCkgcmV0dXJuXG4gICAgICBcbiAgICAgIGNvbnN0IGRheUluZGV4ID0gZGF5T2ZXZWVrIC0gMSAvLyBDb252ZXJ0IHRvIE1vbmRheT0wLCBTYXR1cmRheT01XG5cbiAgICAgIG1hY2hpbmVEYXRhLmZvckVhY2goKGN1dHRpbmdMZW5ndGgsIG1hY2hpbmVJZCkgPT4ge1xuICAgICAgICBpZiAoc2VyaWVzRGF0YVttYWNoaW5lSWRdKSB7XG4gICAgICAgICAgc2VyaWVzRGF0YVttYWNoaW5lSWRdW2RheUluZGV4XSA9IGN1dHRpbmdMZW5ndGhcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgLy8gQ29udmVydCB0byBBcGV4Q2hhcnRzIHNlcmllcyBmb3JtYXRcbiAgICBjb25zdCBzZXJpZXMgPSBBcnJheS5mcm9tKG1hY2hpbmVJZHMpLm1hcChtYWNoaW5lSWQgPT4ge1xuICAgICAgY29uc3QgbWFjaGluZUluZm8gPSBtYWNoaW5lTWFwLmdldChtYWNoaW5lSWQpXG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBtYWNoaW5lSW5mbz8ubmFtZSB8fCBgR8OpcCAke21hY2hpbmVJZC5zdWJzdHJpbmcoMCwgOCl9YCxcbiAgICAgICAgZGF0YTogc2VyaWVzRGF0YVttYWNoaW5lSWRdXG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIENhbGN1bGF0ZSBkYWlseSB0b3RhbHMgKHN1bSBhbGwgbWFjaGluZXMgZm9yIGVhY2ggZGF5KVxuICAgIGNvbnN0IGRhaWx5VG90YWxzID0gWzAsIDAsIDAsIDAsIDAsIDBdXG4gICAgT2JqZWN0LnZhbHVlcyhzZXJpZXNEYXRhKS5mb3JFYWNoKG1hY2hpbmVEYXRhID0+IHtcbiAgICAgIG1hY2hpbmVEYXRhLmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4ge1xuICAgICAgICBkYWlseVRvdGFsc1tpbmRleF0gKz0gdmFsdWVcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIC8vIENyZWF0ZSBtYWNoaW5lIGxpbWl0cyBmb3IgYW5ub3RhdGlvbnNcbiAgICBjb25zdCBtYWNoaW5lTGltaXRzID0gQXJyYXkuZnJvbShtYWNoaW5lSWRzKS5tYXAobWFjaGluZUlkID0+IHtcbiAgICAgIGNvbnN0IG1hY2hpbmVJbmZvID0gbWFjaGluZU1hcC5nZXQobWFjaGluZUlkKVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWFjaGluZUlkLFxuICAgICAgICBtYWNoaW5lTmFtZTogbWFjaGluZUluZm8/Lm5hbWUgfHwgJ1Vua25vd24nLFxuICAgICAgICBsaW1pdDogbWFjaGluZUluZm8/LmxpbWl0IHx8IDBcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIGNhdGVnb3JpZXMsXG4gICAgICBzZXJpZXMsXG4gICAgICBtYWNoaW5lTGltaXRzLFxuICAgICAgZGFpbHlUb3RhbHMsXG4gICAgICB3ZWVrU3RhcnQ6IG1vbmRheS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0sXG4gICAgICB3ZWVrRW5kOiBzYXR1cmRheS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF1cbiAgICB9KVxuICAgIFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIHdlZWtseSBjdXR0aW5nIEFQSTonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9LCBcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufVxuXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiY29va2llcyIsImNyZWF0ZVNlcnZlckNsaWVudCIsIkdFVCIsInJlcXVlc3QiLCJjb29raWVTdG9yZSIsInN1cGFiYXNlIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiZ2V0QWxsIiwic2V0QWxsIiwiY29va2llc1RvU2V0IiwiZm9yRWFjaCIsIm5hbWUiLCJ2YWx1ZSIsIm9wdGlvbnMiLCJzZXQiLCJkYXRhIiwidXNlciIsImVycm9yIiwidXNlckVycm9yIiwiYXV0aCIsImdldFVzZXIiLCJqc29uIiwic3RhdHVzIiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwid2Vla09mZnNldCIsInBhcnNlSW50IiwiZ2V0Iiwibm93IiwiRGF0ZSIsImN1cnJlbnREYXkiLCJnZXREYXkiLCJtb25kYXkiLCJkYXlzRnJvbU1vbmRheSIsInNldERhdGUiLCJnZXREYXRlIiwic2V0SG91cnMiLCJzYXR1cmRheSIsIndlZWtseURhdGEiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJndGUiLCJ0b0lTT1N0cmluZyIsInNwbGl0IiwibHRlIiwibm90Iiwib3JkZXIiLCJhc2NlbmRpbmciLCJjb25zb2xlIiwibWVzc2FnZSIsIm1hY2hpbmVJZHMiLCJTZXQiLCJtYXAiLCJxIiwicHJvZHVjdGlvbl9tYWNoaW5lX2lkIiwiZmlsdGVyIiwiQm9vbGVhbiIsIm1hY2hpbmVzIiwiaW4iLCJtYWNoaW5lTWFwIiwiTWFwIiwibSIsImlkIiwibWFjaGluZV9uYW1lIiwibGltaXQiLCJ1c2FnZV9saW1pdF9wZXJfZGF5IiwiZGF0YUJ5RGF0ZUFuZE1hY2hpbmUiLCJxdW90ZSIsImRhdGUiLCJwcm9kdWN0aW9uX2RhdGUiLCJtYWNoaW5lSWQiLCJ0b3RhbEN1dHRpbmdMZW5ndGgiLCJxdW90ZV9tYXRlcmlhbHNfcHJpY2luZyIsInJlZHVjZSIsInN1bSIsInByaWNpbmciLCJjdXR0aW5nX2xlbmd0aF9tIiwiaGFzIiwibWFjaGluZURhdGEiLCJjdXJyZW50U3VtIiwid2Vla0RheXMiLCJjYXRlZ29yaWVzIiwic2VyaWVzRGF0YSIsImRhdGVTdHIiLCJkYXlPZldlZWsiLCJkYXlJbmRleCIsImN1dHRpbmdMZW5ndGgiLCJzZXJpZXMiLCJBcnJheSIsIm1hY2hpbmVJbmZvIiwic3Vic3RyaW5nIiwiZGFpbHlUb3RhbHMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJpbmRleCIsIm1hY2hpbmVMaW1pdHMiLCJtYWNoaW5lTmFtZSIsIndlZWtTdGFydCIsIndlZWtFbmQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/dashboard/weekly-cutting/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/whatwg-url","vendor-chunks/cookie","vendor-chunks/webidl-conversions"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fdashboard%2Fweekly-cutting%2Froute&page=%2Fapi%2Fdashboard%2Fweekly-cutting%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Fweekly-cutting%2Froute.ts&appDir=%2FVolumes%2FT7%2Ferp_turinova_new%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FVolumes%2FT7%2Ferp_turinova_new&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();