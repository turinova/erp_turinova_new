/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/customers/import/route";
exports.ids = ["app/api/customers/import/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fcustomers%2Fimport%2Froute&page=%2Fapi%2Fcustomers%2Fimport%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcustomers%2Fimport%2Froute.ts&appDir=%2FVolumes%2FT7%2Ferp_turinova_new%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FVolumes%2FT7%2Ferp_turinova_new&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fcustomers%2Fimport%2Froute&page=%2Fapi%2Fcustomers%2Fimport%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcustomers%2Fimport%2Froute.ts&appDir=%2FVolumes%2FT7%2Ferp_turinova_new%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FVolumes%2FT7%2Ferp_turinova_new&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Volumes_T7_erp_turinova_new_src_app_api_customers_import_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/customers/import/route.ts */ \"(rsc)/./src/app/api/customers/import/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/customers/import/route\",\n        pathname: \"/api/customers/import\",\n        filename: \"route\",\n        bundlePath: \"app/api/customers/import/route\"\n    },\n    resolvedPagePath: \"/Volumes/T7/erp_turinova_new/src/app/api/customers/import/route.ts\",\n    nextConfigOutput,\n    userland: _Volumes_T7_erp_turinova_new_src_app_api_customers_import_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZjdXN0b21lcnMlMkZpbXBvcnQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmN1c3RvbWVycyUyRmltcG9ydCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmN1c3RvbWVycyUyRmltcG9ydCUyRnJvdXRlLnRzJmFwcERpcj0lMkZWb2x1bWVzJTJGVDclMkZlcnBfdHVyaW5vdmFfbmV3JTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZWb2x1bWVzJTJGVDclMkZlcnBfdHVyaW5vdmFfbmV3JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUNrQjtBQUMvRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1ZvbHVtZXMvVDcvZXJwX3R1cmlub3ZhX25ldy9zcmMvYXBwL2FwaS9jdXN0b21lcnMvaW1wb3J0L3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9jdXN0b21lcnMvaW1wb3J0L3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvY3VzdG9tZXJzL2ltcG9ydFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvY3VzdG9tZXJzL2ltcG9ydC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Wb2x1bWVzL1Q3L2VycF90dXJpbm92YV9uZXcvc3JjL2FwcC9hcGkvY3VzdG9tZXJzL2ltcG9ydC9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fcustomers%2Fimport%2Froute&page=%2Fapi%2Fcustomers%2Fimport%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcustomers%2Fimport%2Froute.ts&appDir=%2FVolumes%2FT7%2Ferp_turinova_new%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FVolumes%2FT7%2Ferp_turinova_new&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/customers/import/route.ts":
/*!***********************************************!*\
  !*** ./src/app/api/customers/import/route.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase-server */ \"(rsc)/./src/lib/supabase-server.ts\");\n/* harmony import */ var xlsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! xlsx */ \"(rsc)/./node_modules/xlsx/xlsx.mjs\");\n\n\n\nasync function POST(request) {\n    try {\n        const formData = await request.formData();\n        const file = formData.get('file');\n        if (!file) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'No file'\n        }, {\n            status: 400\n        });\n        const bytes = await file.arrayBuffer();\n        const workbook = xlsx__WEBPACK_IMPORTED_MODULE_2__.read(Buffer.from(bytes), {\n            type: 'buffer'\n        });\n        const data = xlsx__WEBPACK_IMPORTED_MODULE_2__.utils.sheet_to_json(workbook.Sheets[workbook.SheetNames[0]]);\n        // Fetch existing customers by email\n        const { data: existingCustomers } = await _lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.supabaseServer.from('customers').select('id, email').is('deleted_at', null);\n        const emailMap = new Map(existingCustomers?.map((c)=>[\n                c.email.toLowerCase(),\n                c.id\n            ]) || []);\n        let successCount = 0;\n        let errorCount = 0;\n        const errors = [];\n        for(let i = 0; i < data.length; i++){\n            const row = data[i];\n            const rowNum = i + 2;\n            try {\n                // Parse SMS notification value\n                const smsValue = row['SMS']?.toString().trim().toLowerCase();\n                const smsNotification = smsValue === 'igen' || smsValue === 'yes' || smsValue === 'true' || smsValue === '1';\n                const customerData = {\n                    name: row['Név']?.toString().trim(),\n                    email: row['E-mail']?.toString().trim(),\n                    mobile: row['Telefon']?.toString().trim() || null,\n                    discount_percent: parseFloat(row['Kedvezmény (%)']) || 0,\n                    sms_notification: smsNotification,\n                    billing_name: row['Számlázási név']?.toString().trim() || null,\n                    billing_country: row['Ország']?.toString().trim() || 'Magyarország',\n                    billing_city: row['Város']?.toString().trim() || null,\n                    billing_postal_code: row['Irányítószám']?.toString().trim() || null,\n                    billing_street: row['Utca']?.toString().trim() || null,\n                    billing_house_number: row['Házszám']?.toString().trim() || null,\n                    billing_tax_number: row['Adószám']?.toString().trim() || null,\n                    billing_company_reg_number: row['Cégjegyzékszám']?.toString().trim() || null\n                };\n                // Validate required fields\n                if (!customerData.name || !customerData.email) {\n                    errors.push(`Sor ${rowNum}: Hiányzó kötelező mezők (Név, E-mail)`);\n                    errorCount++;\n                    continue;\n                }\n                const existingId = emailMap.get(customerData.email.toLowerCase());\n                if (existingId) {\n                    // Update existing customer\n                    await _lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.supabaseServer.from('customers').update(customerData).eq('id', existingId);\n                } else {\n                    // Create new customer\n                    await _lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.supabaseServer.from('customers').insert(customerData);\n                }\n                successCount++;\n            } catch (error) {\n                errors.push(`Sor ${rowNum}: ${error instanceof Error ? error.message : 'Ismeretlen hiba'}`);\n                errorCount++;\n            }\n        }\n        if (errors.length > 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Import completed with errors',\n                details: errors,\n                successCount,\n                errorCount\n            }, {\n                status: 400\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: 'Import successful',\n            successCount,\n            errorCount: 0\n        });\n    } catch (error) {\n        console.error('Import error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Import failed'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9jdXN0b21lcnMvaW1wb3J0L3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBdUQ7QUFDRDtBQUMxQjtBQUVyQixlQUFlRyxLQUFLQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0YsTUFBTUMsV0FBVyxNQUFNRCxRQUFRQyxRQUFRO1FBQ3ZDLE1BQU1DLE9BQU9ELFNBQVNFLEdBQUcsQ0FBQztRQUMxQixJQUFJLENBQUNELE1BQU0sT0FBT04scURBQVlBLENBQUNRLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQVUsR0FBRztZQUFFQyxRQUFRO1FBQUk7UUFFeEUsTUFBTUMsUUFBUSxNQUFNTCxLQUFLTSxXQUFXO1FBQ3BDLE1BQU1DLFdBQVdYLHNDQUFTLENBQUNhLE9BQU9DLElBQUksQ0FBQ0wsUUFBUTtZQUFFTSxNQUFNO1FBQVM7UUFDaEUsTUFBTUMsT0FBT2hCLHVDQUFVLENBQUNrQixhQUFhLENBQUNQLFNBQVNRLE1BQU0sQ0FBQ1IsU0FBU1MsVUFBVSxDQUFDLEVBQUUsQ0FBQztRQUU3RSxvQ0FBb0M7UUFDcEMsTUFBTSxFQUFFSixNQUFNSyxpQkFBaUIsRUFBRSxHQUFHLE1BQU10QixnRUFBY0EsQ0FDckRlLElBQUksQ0FBQyxhQUNMUSxNQUFNLENBQUMsYUFDUEMsRUFBRSxDQUFDLGNBQWM7UUFFcEIsTUFBTUMsV0FBVyxJQUFJQyxJQUFJSixtQkFBbUJLLElBQUlDLENBQUFBLElBQUs7Z0JBQUNBLEVBQUVDLEtBQUssQ0FBQ0MsV0FBVztnQkFBSUYsRUFBRUcsRUFBRTthQUFDLEtBQUssRUFBRTtRQUV6RixJQUFJQyxlQUFlO1FBQ25CLElBQUlDLGFBQWE7UUFDakIsTUFBTUMsU0FBUyxFQUFFO1FBRWpCLElBQUssSUFBSUMsSUFBSSxHQUFHQSxJQUFJbEIsS0FBS21CLE1BQU0sRUFBRUQsSUFBSztZQUNwQyxNQUFNRSxNQUFXcEIsSUFBSSxDQUFDa0IsRUFBRTtZQUN4QixNQUFNRyxTQUFTSCxJQUFJO1lBRW5CLElBQUk7Z0JBQ0YsK0JBQStCO2dCQUMvQixNQUFNSSxXQUFXRixHQUFHLENBQUMsTUFBTSxFQUFFRyxXQUFXQyxPQUFPWDtnQkFDL0MsTUFBTVksa0JBQWtCSCxhQUFhLFVBQVVBLGFBQWEsU0FBU0EsYUFBYSxVQUFVQSxhQUFhO2dCQUV6RyxNQUFNSSxlQUFlO29CQUNuQkMsTUFBTVAsR0FBRyxDQUFDLE1BQU0sRUFBRUcsV0FBV0M7b0JBQzdCWixPQUFPUSxHQUFHLENBQUMsU0FBUyxFQUFFRyxXQUFXQztvQkFDakNJLFFBQVFSLEdBQUcsQ0FBQyxVQUFVLEVBQUVHLFdBQVdDLFVBQVU7b0JBQzdDSyxrQkFBa0JDLFdBQVdWLEdBQUcsQ0FBQyxpQkFBaUIsS0FBSztvQkFDdkRXLGtCQUFrQk47b0JBQ2xCTyxjQUFjWixHQUFHLENBQUMsaUJBQWlCLEVBQUVHLFdBQVdDLFVBQVU7b0JBQzFEUyxpQkFBaUJiLEdBQUcsQ0FBQyxTQUFTLEVBQUVHLFdBQVdDLFVBQVU7b0JBQ3JEVSxjQUFjZCxHQUFHLENBQUMsUUFBUSxFQUFFRyxXQUFXQyxVQUFVO29CQUNqRFcscUJBQXFCZixHQUFHLENBQUMsZUFBZSxFQUFFRyxXQUFXQyxVQUFVO29CQUMvRFksZ0JBQWdCaEIsR0FBRyxDQUFDLE9BQU8sRUFBRUcsV0FBV0MsVUFBVTtvQkFDbERhLHNCQUFzQmpCLEdBQUcsQ0FBQyxVQUFVLEVBQUVHLFdBQVdDLFVBQVU7b0JBQzNEYyxvQkFBb0JsQixHQUFHLENBQUMsVUFBVSxFQUFFRyxXQUFXQyxVQUFVO29CQUN6RGUsNEJBQTRCbkIsR0FBRyxDQUFDLGlCQUFpQixFQUFFRyxXQUFXQyxVQUFVO2dCQUMxRTtnQkFFQSwyQkFBMkI7Z0JBQzNCLElBQUksQ0FBQ0UsYUFBYUMsSUFBSSxJQUFJLENBQUNELGFBQWFkLEtBQUssRUFBRTtvQkFDN0NLLE9BQU91QixJQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUVuQixPQUFPLHNDQUFzQyxDQUFDO29CQUNqRUw7b0JBQ0E7Z0JBQ0Y7Z0JBRUEsTUFBTXlCLGFBQWFqQyxTQUFTbkIsR0FBRyxDQUFDcUMsYUFBYWQsS0FBSyxDQUFDQyxXQUFXO2dCQUU5RCxJQUFJNEIsWUFBWTtvQkFDZCwyQkFBMkI7b0JBQzNCLE1BQU0xRCxnRUFBY0EsQ0FBQ2UsSUFBSSxDQUFDLGFBQWE0QyxNQUFNLENBQUNoQixjQUFjaUIsRUFBRSxDQUFDLE1BQU1GO2dCQUN2RSxPQUFPO29CQUNMLHNCQUFzQjtvQkFDdEIsTUFBTTFELGdFQUFjQSxDQUFDZSxJQUFJLENBQUMsYUFBYThDLE1BQU0sQ0FBQ2xCO2dCQUNoRDtnQkFFQVg7WUFFRixFQUFFLE9BQU94QixPQUFPO2dCQUNkMEIsT0FBT3VCLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRW5CLE9BQU8sRUFBRSxFQUFFOUIsaUJBQWlCc0QsUUFBUXRELE1BQU11RCxPQUFPLEdBQUcsbUJBQW1CO2dCQUMxRjlCO1lBQ0Y7UUFDRjtRQUVBLElBQUlDLE9BQU9FLE1BQU0sR0FBRyxHQUFHO1lBQ3JCLE9BQU9yQyxxREFBWUEsQ0FBQ1EsSUFBSSxDQUFDO2dCQUN2QkMsT0FBTztnQkFDUHdELFNBQVM5QjtnQkFDVEY7Z0JBQ0FDO1lBQ0YsR0FBRztnQkFBRXhCLFFBQVE7WUFBSTtRQUNuQjtRQUVBLE9BQU9WLHFEQUFZQSxDQUFDUSxJQUFJLENBQUM7WUFDdkJ3RCxTQUFTO1lBQ1QvQjtZQUNBQyxZQUFZO1FBQ2Q7SUFFRixFQUFFLE9BQU96QixPQUFPO1FBQ2R5RCxRQUFRekQsS0FBSyxDQUFDLGlCQUFpQkE7UUFDL0IsT0FBT1QscURBQVlBLENBQUNRLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQWdCLEdBQUc7WUFBRUMsUUFBUTtRQUFJO0lBQ3JFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Wb2x1bWVzL1Q3L2VycF90dXJpbm92YV9uZXcvc3JjL2FwcC9hcGkvY3VzdG9tZXJzL2ltcG9ydC9yb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBzdXBhYmFzZVNlcnZlciB9IGZyb20gJ0AvbGliL3N1cGFiYXNlLXNlcnZlcidcbmltcG9ydCAqIGFzIFhMU1ggZnJvbSAneGxzeCdcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBmb3JtRGF0YSA9IGF3YWl0IHJlcXVlc3QuZm9ybURhdGEoKVxuICAgIGNvbnN0IGZpbGUgPSBmb3JtRGF0YS5nZXQoJ2ZpbGUnKSBhcyBGaWxlXG4gICAgaWYgKCFmaWxlKSByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ05vIGZpbGUnIH0sIHsgc3RhdHVzOiA0MDAgfSlcblxuICAgIGNvbnN0IGJ5dGVzID0gYXdhaXQgZmlsZS5hcnJheUJ1ZmZlcigpXG4gICAgY29uc3Qgd29ya2Jvb2sgPSBYTFNYLnJlYWQoQnVmZmVyLmZyb20oYnl0ZXMpLCB7IHR5cGU6ICdidWZmZXInIH0pXG4gICAgY29uc3QgZGF0YSA9IFhMU1gudXRpbHMuc2hlZXRfdG9fanNvbih3b3JrYm9vay5TaGVldHNbd29ya2Jvb2suU2hlZXROYW1lc1swXV0pXG5cbiAgICAvLyBGZXRjaCBleGlzdGluZyBjdXN0b21lcnMgYnkgZW1haWxcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nQ3VzdG9tZXJzIH0gPSBhd2FpdCBzdXBhYmFzZVNlcnZlclxuICAgICAgLmZyb20oJ2N1c3RvbWVycycpXG4gICAgICAuc2VsZWN0KCdpZCwgZW1haWwnKVxuICAgICAgLmlzKCdkZWxldGVkX2F0JywgbnVsbClcblxuICAgIGNvbnN0IGVtYWlsTWFwID0gbmV3IE1hcChleGlzdGluZ0N1c3RvbWVycz8ubWFwKGMgPT4gW2MuZW1haWwudG9Mb3dlckNhc2UoKSwgYy5pZF0pIHx8IFtdKVxuXG4gICAgbGV0IHN1Y2Nlc3NDb3VudCA9IDBcbiAgICBsZXQgZXJyb3JDb3VudCA9IDBcbiAgICBjb25zdCBlcnJvcnMgPSBbXVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCByb3c6IGFueSA9IGRhdGFbaV1cbiAgICAgIGNvbnN0IHJvd051bSA9IGkgKyAyXG5cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFBhcnNlIFNNUyBub3RpZmljYXRpb24gdmFsdWVcbiAgICAgICAgY29uc3Qgc21zVmFsdWUgPSByb3dbJ1NNUyddPy50b1N0cmluZygpLnRyaW0oKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGNvbnN0IHNtc05vdGlmaWNhdGlvbiA9IHNtc1ZhbHVlID09PSAnaWdlbicgfHwgc21zVmFsdWUgPT09ICd5ZXMnIHx8IHNtc1ZhbHVlID09PSAndHJ1ZScgfHwgc21zVmFsdWUgPT09ICcxJ1xuXG4gICAgICAgIGNvbnN0IGN1c3RvbWVyRGF0YSA9IHtcbiAgICAgICAgICBuYW1lOiByb3dbJ07DqXYnXT8udG9TdHJpbmcoKS50cmltKCksXG4gICAgICAgICAgZW1haWw6IHJvd1snRS1tYWlsJ10/LnRvU3RyaW5nKCkudHJpbSgpLFxuICAgICAgICAgIG1vYmlsZTogcm93WydUZWxlZm9uJ10/LnRvU3RyaW5nKCkudHJpbSgpIHx8IG51bGwsXG4gICAgICAgICAgZGlzY291bnRfcGVyY2VudDogcGFyc2VGbG9hdChyb3dbJ0tlZHZlem3DqW55ICglKSddKSB8fCAwLFxuICAgICAgICAgIHNtc19ub3RpZmljYXRpb246IHNtc05vdGlmaWNhdGlvbixcbiAgICAgICAgICBiaWxsaW5nX25hbWU6IHJvd1snU3rDoW1sw6F6w6FzaSBuw6l2J10/LnRvU3RyaW5nKCkudHJpbSgpIHx8IG51bGwsXG4gICAgICAgICAgYmlsbGluZ19jb3VudHJ5OiByb3dbJ09yc3rDoWcnXT8udG9TdHJpbmcoKS50cmltKCkgfHwgJ01hZ3lhcm9yc3rDoWcnLFxuICAgICAgICAgIGJpbGxpbmdfY2l0eTogcm93WydWw6Fyb3MnXT8udG9TdHJpbmcoKS50cmltKCkgfHwgbnVsbCxcbiAgICAgICAgICBiaWxsaW5nX3Bvc3RhbF9jb2RlOiByb3dbJ0lyw6FuecOtdMOzc3rDoW0nXT8udG9TdHJpbmcoKS50cmltKCkgfHwgbnVsbCxcbiAgICAgICAgICBiaWxsaW5nX3N0cmVldDogcm93WydVdGNhJ10/LnRvU3RyaW5nKCkudHJpbSgpIHx8IG51bGwsXG4gICAgICAgICAgYmlsbGluZ19ob3VzZV9udW1iZXI6IHJvd1snSMOhenN6w6FtJ10/LnRvU3RyaW5nKCkudHJpbSgpIHx8IG51bGwsXG4gICAgICAgICAgYmlsbGluZ190YXhfbnVtYmVyOiByb3dbJ0Fkw7NzesOhbSddPy50b1N0cmluZygpLnRyaW0oKSB8fCBudWxsLFxuICAgICAgICAgIGJpbGxpbmdfY29tcGFueV9yZWdfbnVtYmVyOiByb3dbJ0PDqWdqZWd5esOpa3N6w6FtJ10/LnRvU3RyaW5nKCkudHJpbSgpIHx8IG51bGxcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFZhbGlkYXRlIHJlcXVpcmVkIGZpZWxkc1xuICAgICAgICBpZiAoIWN1c3RvbWVyRGF0YS5uYW1lIHx8ICFjdXN0b21lckRhdGEuZW1haWwpIHtcbiAgICAgICAgICBlcnJvcnMucHVzaChgU29yICR7cm93TnVtfTogSGnDoW55esOzIGvDtnRlbGV6xZEgbWV6xZFrIChOw6l2LCBFLW1haWwpYClcbiAgICAgICAgICBlcnJvckNvdW50KytcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZXhpc3RpbmdJZCA9IGVtYWlsTWFwLmdldChjdXN0b21lckRhdGEuZW1haWwudG9Mb3dlckNhc2UoKSlcblxuICAgICAgICBpZiAoZXhpc3RpbmdJZCkge1xuICAgICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBjdXN0b21lclxuICAgICAgICAgIGF3YWl0IHN1cGFiYXNlU2VydmVyLmZyb20oJ2N1c3RvbWVycycpLnVwZGF0ZShjdXN0b21lckRhdGEpLmVxKCdpZCcsIGV4aXN0aW5nSWQpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQ3JlYXRlIG5ldyBjdXN0b21lclxuICAgICAgICAgIGF3YWl0IHN1cGFiYXNlU2VydmVyLmZyb20oJ2N1c3RvbWVycycpLmluc2VydChjdXN0b21lckRhdGEpXG4gICAgICAgIH1cblxuICAgICAgICBzdWNjZXNzQ291bnQrK1xuXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBlcnJvcnMucHVzaChgU29yICR7cm93TnVtfTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdJc21lcmV0bGVuIGhpYmEnfWApXG4gICAgICAgIGVycm9yQ291bnQrK1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICAgIGVycm9yOiAnSW1wb3J0IGNvbXBsZXRlZCB3aXRoIGVycm9ycycsIFxuICAgICAgICBkZXRhaWxzOiBlcnJvcnMsXG4gICAgICAgIHN1Y2Nlc3NDb3VudCxcbiAgICAgICAgZXJyb3JDb3VudCBcbiAgICAgIH0sIHsgc3RhdHVzOiA0MDAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcbiAgICAgIG1lc3NhZ2U6ICdJbXBvcnQgc3VjY2Vzc2Z1bCcsIFxuICAgICAgc3VjY2Vzc0NvdW50LFxuICAgICAgZXJyb3JDb3VudDogMCBcbiAgICB9KVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignSW1wb3J0IGVycm9yOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW1wb3J0IGZhaWxlZCcgfSwgeyBzdGF0dXM6IDUwMCB9KVxuICB9XG59XG5cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJzdXBhYmFzZVNlcnZlciIsIlhMU1giLCJQT1NUIiwicmVxdWVzdCIsImZvcm1EYXRhIiwiZmlsZSIsImdldCIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsImJ5dGVzIiwiYXJyYXlCdWZmZXIiLCJ3b3JrYm9vayIsInJlYWQiLCJCdWZmZXIiLCJmcm9tIiwidHlwZSIsImRhdGEiLCJ1dGlscyIsInNoZWV0X3RvX2pzb24iLCJTaGVldHMiLCJTaGVldE5hbWVzIiwiZXhpc3RpbmdDdXN0b21lcnMiLCJzZWxlY3QiLCJpcyIsImVtYWlsTWFwIiwiTWFwIiwibWFwIiwiYyIsImVtYWlsIiwidG9Mb3dlckNhc2UiLCJpZCIsInN1Y2Nlc3NDb3VudCIsImVycm9yQ291bnQiLCJlcnJvcnMiLCJpIiwibGVuZ3RoIiwicm93Iiwicm93TnVtIiwic21zVmFsdWUiLCJ0b1N0cmluZyIsInRyaW0iLCJzbXNOb3RpZmljYXRpb24iLCJjdXN0b21lckRhdGEiLCJuYW1lIiwibW9iaWxlIiwiZGlzY291bnRfcGVyY2VudCIsInBhcnNlRmxvYXQiLCJzbXNfbm90aWZpY2F0aW9uIiwiYmlsbGluZ19uYW1lIiwiYmlsbGluZ19jb3VudHJ5IiwiYmlsbGluZ19jaXR5IiwiYmlsbGluZ19wb3N0YWxfY29kZSIsImJpbGxpbmdfc3RyZWV0IiwiYmlsbGluZ19ob3VzZV9udW1iZXIiLCJiaWxsaW5nX3RheF9udW1iZXIiLCJiaWxsaW5nX2NvbXBhbnlfcmVnX251bWJlciIsInB1c2giLCJleGlzdGluZ0lkIiwidXBkYXRlIiwiZXEiLCJpbnNlcnQiLCJFcnJvciIsIm1lc3NhZ2UiLCJkZXRhaWxzIiwiY29uc29sZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/customers/import/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase-server.ts":
/*!************************************!*\
  !*** ./src/lib/supabase-server.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAccessoriesWithPagination: () => (/* binding */ getAccessoriesWithPagination),\n/* harmony export */   getAccessoryById: () => (/* binding */ getAccessoryById),\n/* harmony export */   getAllAccessories: () => (/* binding */ getAllAccessories),\n/* harmony export */   getAllBrands: () => (/* binding */ getAllBrands),\n/* harmony export */   getAllBrandsForEdgeMaterials: () => (/* binding */ getAllBrandsForEdgeMaterials),\n/* harmony export */   getAllBrandsForLinearMaterials: () => (/* binding */ getAllBrandsForLinearMaterials),\n/* harmony export */   getAllBrandsForMaterials: () => (/* binding */ getAllBrandsForMaterials),\n/* harmony export */   getAllCompanies: () => (/* binding */ getAllCompanies),\n/* harmony export */   getAllCurrencies: () => (/* binding */ getAllCurrencies),\n/* harmony export */   getAllCurrenciesForLinearMaterials: () => (/* binding */ getAllCurrenciesForLinearMaterials),\n/* harmony export */   getAllCurrenciesForPartners: () => (/* binding */ getAllCurrenciesForPartners),\n/* harmony export */   getAllCustomers: () => (/* binding */ getAllCustomers),\n/* harmony export */   getAllEdgeMaterials: () => (/* binding */ getAllEdgeMaterials),\n/* harmony export */   getAllFeeTypes: () => (/* binding */ getAllFeeTypes),\n/* harmony export */   getAllLinearMaterials: () => (/* binding */ getAllLinearMaterials),\n/* harmony export */   getAllMaterials: () => (/* binding */ getAllMaterials),\n/* harmony export */   getAllMediaFiles: () => (/* binding */ getAllMediaFiles),\n/* harmony export */   getAllPartners: () => (/* binding */ getAllPartners),\n/* harmony export */   getAllProductionMachines: () => (/* binding */ getAllProductionMachines),\n/* harmony export */   getAllShopOrderItems: () => (/* binding */ getAllShopOrderItems),\n/* harmony export */   getAllShopOrders: () => (/* binding */ getAllShopOrders),\n/* harmony export */   getAllUnits: () => (/* binding */ getAllUnits),\n/* harmony export */   getAllVatRates: () => (/* binding */ getAllVatRates),\n/* harmony export */   getAllVatRatesForEdgeMaterials: () => (/* binding */ getAllVatRatesForEdgeMaterials),\n/* harmony export */   getAllVatRatesForLinearMaterials: () => (/* binding */ getAllVatRatesForLinearMaterials),\n/* harmony export */   getAllVatRatesForPartners: () => (/* binding */ getAllVatRatesForPartners),\n/* harmony export */   getAllWorkers: () => (/* binding */ getAllWorkers),\n/* harmony export */   getBrandById: () => (/* binding */ getBrandById),\n/* harmony export */   getCompanyById: () => (/* binding */ getCompanyById),\n/* harmony export */   getCurrencyById: () => (/* binding */ getCurrencyById),\n/* harmony export */   getCustomerById: () => (/* binding */ getCustomerById),\n/* harmony export */   getCuttingFee: () => (/* binding */ getCuttingFee),\n/* harmony export */   getEdgeMaterialById: () => (/* binding */ getEdgeMaterialById),\n/* harmony export */   getFeeTypeById: () => (/* binding */ getFeeTypeById),\n/* harmony export */   getLinearMaterialById: () => (/* binding */ getLinearMaterialById),\n/* harmony export */   getMaterialById: () => (/* binding */ getMaterialById),\n/* harmony export */   getMaterialPriceHistory: () => (/* binding */ getMaterialPriceHistory),\n/* harmony export */   getOrdersWithPagination: () => (/* binding */ getOrdersWithPagination),\n/* harmony export */   getPartnerById: () => (/* binding */ getPartnerById),\n/* harmony export */   getProductionMachineById: () => (/* binding */ getProductionMachineById),\n/* harmony export */   getQuoteById: () => (/* binding */ getQuoteById),\n/* harmony export */   getQuotesWithPagination: () => (/* binding */ getQuotesWithPagination),\n/* harmony export */   getShopOrderById: () => (/* binding */ getShopOrderById),\n/* harmony export */   getTenantCompany: () => (/* binding */ getTenantCompany),\n/* harmony export */   getUnitById: () => (/* binding */ getUnitById),\n/* harmony export */   getVatById: () => (/* binding */ getVatById),\n/* harmony export */   getWorkerById: () => (/* binding */ getWorkerById),\n/* harmony export */   supabaseServer: () => (/* binding */ supabaseServer)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\n// Performance timing utilities\nconst isDev = \"development\" !== 'production';\nfunction logTiming(operation, startTime, additionalInfo) {\n    if (isDev) {\n        const duration = performance.now() - startTime;\n        console.log(`[PERF] ${operation}: ${duration.toFixed(2)}ms${additionalInfo ? ` (${additionalInfo})` : ''}`);\n    }\n}\n// Helper function to check if Supabase is configured\nfunction checkSupabaseConfig() {\n    if (!supabaseServer) {\n        console.warn('Supabase not configured for server-side operations');\n        return false;\n    }\n    return true;\n}\n// Server-side Supabase client with service role key for SSR\nconst supabaseUrl = \"https://xgkaviefifbllbmfbyfe.supabase.co\";\nconst supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n// Check if Supabase is configured\nconst isSupabaseConfigured = supabaseUrl && supabaseServiceKey;\nif (!isSupabaseConfigured) {\n    console.warn('Supabase not configured for server-side operations. Some features may not work.');\n}\n// Create a mock Supabase client for build time\nconst createMockSupabaseClient = ()=>({\n        from: ()=>({\n                select: ()=>({\n                        eq: ()=>({\n                                is: ()=>({\n                                        single: ()=>({\n                                                data: null,\n                                                error: null\n                                            })\n                                    })\n                            }),\n                        is: ()=>({\n                                order: ()=>({\n                                        data: [],\n                                        error: null\n                                    })\n                            })\n                    })\n            })\n    });\nconst supabaseServer = isSupabaseConfigured ? (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseServiceKey, {\n    auth: {\n        persistSession: false,\n        autoRefreshToken: false,\n        detectSessionInUrl: false // No URL session detection on server\n    },\n    global: {\n        headers: {\n            'X-Client-Info': 'nextjs-server'\n        }\n    },\n    realtime: {\n        enabled: false\n    }\n}) : createMockSupabaseClient();\n// Server-side optimized query functions\nasync function getBrandById(id) {\n    const { data, error } = await supabaseServer.from('brands').select('id, name, comment, created_at, updated_at').eq('id', id).is('deleted_at', null).single();\n    if (error) {\n        console.error('Error fetching brand:', error);\n        return null;\n    }\n    return data;\n}\nasync function getAllBrands() {\n    const startTime = performance.now();\n    const { data, error } = await supabaseServer.from('brands').select('id, name, comment, created_at, updated_at').is('deleted_at', null).order('name', {\n        ascending: true\n    });\n    const queryTime = performance.now();\n    logTiming('Brands DB Query', startTime, `fetched ${data?.length || 0} records`);\n    if (error) {\n        console.error('Error fetching brands:', error);\n        return [];\n    }\n    logTiming('Brands Total', startTime, `returned ${data?.length || 0} records`);\n    return data || [];\n}\n// Materials SSR functions\nasync function getMaterialById(id) {\n    // Fetch material from materials table with pricing data\n    const { data: materialData, error } = await supabaseServer.from('materials').select(`\n      id,\n      name,\n      length_mm,\n      width_mm,\n      thickness_mm,\n      grain_direction,\n      on_stock,\n      active,\n      image_url,\n      brand_id,\n      base_price,\n      multiplier,\n      price_per_sqm,\n      partners_id,\n      units_id,\n      currency_id,\n      vat_id,\n      created_at,\n      updated_at,\n      brands(id, name),\n      currencies(id, name),\n      vat(id, name, kulcs)\n    `).eq('id', id).single();\n    if (error) {\n        console.error('Error fetching material:', error);\n        return null;\n    }\n    // Fetch settings from material_settings\n    const { data: settingsData } = await supabaseServer.from('material_settings').select('kerf_mm, trim_top_mm, trim_right_mm, trim_bottom_mm, trim_left_mm, rotatable, waste_multi, usage_limit').eq('material_id', id).single();\n    // Fetch machine code from machine_material_map\n    const { data: machineData } = await supabaseServer.from('machine_material_map').select('machine_code').eq('material_id', id).eq('machine_type', 'Korpus').single();\n    // Transform the data to match the expected format\n    return {\n        id: materialData.id,\n        name: materialData.name || `Material ${materialData.id}`,\n        length_mm: materialData.length_mm || 2800,\n        width_mm: materialData.width_mm || 2070,\n        thickness_mm: materialData.thickness_mm || 18,\n        grain_direction: Boolean(materialData.grain_direction),\n        on_stock: materialData.on_stock !== undefined ? Boolean(materialData.on_stock) : true,\n        active: materialData.active !== undefined ? Boolean(materialData.active) : true,\n        image_url: materialData.image_url || null,\n        brand_id: materialData.brand_id || '',\n        brand_name: materialData.brands?.name || 'Unknown',\n        kerf_mm: settingsData?.kerf_mm || 3,\n        trim_top_mm: settingsData?.trim_top_mm || 0,\n        trim_right_mm: settingsData?.trim_right_mm || 0,\n        trim_bottom_mm: settingsData?.trim_bottom_mm || 0,\n        trim_left_mm: settingsData?.trim_left_mm || 0,\n        rotatable: settingsData?.rotatable !== false,\n        waste_multi: settingsData?.waste_multi || 1.0,\n        usage_limit: settingsData?.usage_limit || 0.65,\n        machine_code: machineData?.machine_code || '',\n        base_price: materialData.base_price || 0,\n        multiplier: materialData.multiplier || 1.38,\n        price_per_sqm: materialData.price_per_sqm || 0,\n        partners_id: materialData.partners_id || null,\n        units_id: materialData.units_id || null,\n        currency_id: materialData.currency_id || null,\n        vat_id: materialData.vat_id || null,\n        currencies: materialData.currencies || null,\n        vat: materialData.vat || null,\n        created_at: materialData.created_at,\n        updated_at: materialData.updated_at\n    };\n}\nasync function getAllMaterials() {\n    const startTime = performance.now();\n    const { data, error } = await supabaseServer.from('materials_with_settings').select(`\n      id, \n      material_name, \n      length_mm, \n      width_mm, \n      thickness_mm, \n      grain_direction, \n      on_stock,\n      image_url, \n      brand_name,\n      kerf_mm, \n      trim_top_mm, \n      trim_right_mm, \n      trim_bottom_mm, \n      trim_left_mm, \n      rotatable, \n      waste_multi, \n      usage_limit,\n      created_at, \n      updated_at\n    `).order('material_name', {\n        ascending: true\n    });\n    const queryTime = performance.now();\n    logTiming('Materials DB Query', startTime, `fetched ${data?.length || 0} records`);\n    if (error) {\n        console.error('Error fetching materials:', error);\n        return [];\n    }\n    // Fetch pricing data from materials table\n    const materialIds = (data || []).map((m)=>m.id);\n    const { data: pricingData } = await supabaseServer.from('materials').select(`\n      id,\n      price_per_sqm,\n      active,\n      vat(kulcs),\n      currencies(name)\n    `).in('id', materialIds);\n    // Create pricing map for quick lookup\n    const pricingMap = new Map((pricingData || []).map((p)=>[\n            p.id,\n            {\n                price_per_sqm: p.price_per_sqm || 0,\n                vat_percent: p.vat?.kulcs || 0,\n                currency: p.currencies?.name || 'HUF',\n                active: p.active !== undefined ? p.active : true\n            }\n        ]));\n    // Transform the data to match the expected format\n    const transformedData = (data || []).map((material)=>{\n        const pricing = pricingMap.get(material.id) || {\n            price_per_sqm: 0,\n            vat_percent: 0,\n            currency: 'HUF',\n            active: true\n        };\n        return {\n            id: material.id,\n            name: material.material_name || `Material ${material.id}`,\n            length_mm: material.length_mm || 2800,\n            width_mm: material.width_mm || 2070,\n            thickness_mm: material.thickness_mm || 18,\n            grain_direction: Boolean(material.grain_direction),\n            on_stock: material.on_stock !== undefined ? Boolean(material.on_stock) : true,\n            active: pricing.active !== undefined ? Boolean(pricing.active) : true,\n            image_url: material.image_url || null,\n            brand_id: '',\n            brand_name: material.brand_name || 'Unknown',\n            kerf_mm: material.kerf_mm || 3,\n            trim_top_mm: material.trim_top_mm || 0,\n            trim_right_mm: material.trim_right_mm || 0,\n            trim_bottom_mm: material.trim_bottom_mm || 0,\n            trim_left_mm: material.trim_left_mm || 0,\n            rotatable: material.rotatable !== false,\n            waste_multi: material.waste_multi || 1.0,\n            usage_limit: material.usage_limit !== undefined && material.usage_limit !== null ? material.usage_limit : 0.65,\n            machine_code: '',\n            price_per_sqm: pricing.price_per_sqm,\n            vat_percent: pricing.vat_percent,\n            currency: pricing.currency,\n            created_at: material.created_at,\n            updated_at: material.updated_at\n        };\n    });\n    logTiming('Materials Total', startTime, `transformed ${transformedData.length} records`);\n    return transformedData;\n}\nasync function getAllBrandsForMaterials() {\n    const { data, error } = await supabaseServer.from('brands').select('id, name, comment, created_at, updated_at').is('deleted_at', null).order('name', {\n        ascending: true\n    });\n    if (error) {\n        console.error('Error fetching brands for materials:', error);\n        return [];\n    }\n    return data || [];\n}\n// Units SSR functions\nasync function getUnitById(id) {\n    const { data, error } = await supabaseServer.from('units').select('id, name, shortform, created_at, updated_at').eq('id', id).is('deleted_at', null).single();\n    if (error) {\n        console.error('Error fetching unit:', error);\n        return null;\n    }\n    return data;\n}\nasync function getAllUnits() {\n    const startTime = performance.now();\n    const { data, error } = await supabaseServer.from('units').select('id, name, shortform, created_at, updated_at').is('deleted_at', null).order('name', {\n        ascending: true\n    });\n    const queryTime = performance.now();\n    logTiming('Units DB Query', startTime, `fetched ${data?.length || 0} records`);\n    if (error) {\n        console.error('Error fetching units:', error);\n        return [];\n    }\n    logTiming('Units Total', startTime, `returned ${data?.length || 0} records`);\n    return data || [];\n}\n// Production Machines SSR functions\nasync function getAllProductionMachines() {\n    const startTime = performance.now();\n    const { data, error } = await supabaseServer.from('production_machines').select('id, machine_name, comment, usage_limit_per_day, created_at, updated_at').is('deleted_at', null).order('machine_name', {\n        ascending: true\n    });\n    const queryTime = performance.now();\n    logTiming('Production Machines DB Query', startTime, `fetched ${data?.length || 0} records`);\n    if (error) {\n        console.error('Error fetching production machines:', error);\n        return [];\n    }\n    logTiming('Production Machines Total', startTime, `returned ${data?.length || 0} records`);\n    return data || [];\n}\nasync function getProductionMachineById(id) {\n    const { data, error } = await supabaseServer.from('production_machines').select('id, machine_name, comment, usage_limit_per_day, created_at, updated_at').eq('id', id).is('deleted_at', null).single();\n    if (error) {\n        console.error('Error fetching production machine:', error);\n        return null;\n    }\n    return data;\n}\n// Fee Types SSR functions\nasync function getAllFeeTypes() {\n    const startTime = performance.now();\n    const { data, error } = await supabaseServer.from('feetypes').select(`\n      id, \n      name, \n      net_price, \n      created_at, \n      updated_at,\n      vat_id,\n      currency_id,\n      vat (\n        id,\n        name,\n        kulcs\n      ),\n      currencies (\n        id,\n        name\n      )\n    `).is('deleted_at', null).order('name', {\n        ascending: true\n    });\n    const queryTime = performance.now();\n    logTiming('Fee Types DB Query', startTime, `fetched ${data?.length || 0} records`);\n    if (error) {\n        console.error('Error fetching fee types:', error);\n        return [];\n    }\n    // Transform the data to include calculated fields\n    const transformedData = data?.map((feeType)=>({\n            ...feeType,\n            vat_name: feeType.vat?.name || '',\n            vat_percent: feeType.vat?.kulcs || 0,\n            currency_name: feeType.currencies?.name || '',\n            vat_amount: feeType.net_price * (feeType.vat?.kulcs || 0) / 100,\n            gross_price: feeType.net_price + feeType.net_price * (feeType.vat?.kulcs || 0) / 100\n        })) || [];\n    logTiming('Fee Types Total', startTime, `returned ${transformedData.length} records`);\n    return transformedData;\n}\nasync function getFeeTypeById(id) {\n    const { data, error } = await supabaseServer.from('feetypes').select(`\n      id, \n      name, \n      net_price, \n      created_at, \n      updated_at,\n      vat_id,\n      currency_id,\n      vat (\n        id,\n        name,\n        kulcs\n      ),\n      currencies (\n        id,\n        name\n      )\n    `).eq('id', id).is('deleted_at', null).single();\n    if (error) {\n        console.error('Error fetching fee type:', error);\n        return null;\n    }\n    // Transform the data to include calculated fields\n    const transformedData = {\n        ...data,\n        vat_name: data.vat?.name || '',\n        vat_percent: data.vat?.kulcs || 0,\n        currency_name: data.currencies?.name || '',\n        vat_amount: data.net_price * (data.vat?.kulcs || 0) / 100,\n        gross_price: data.net_price + data.net_price * (data.vat?.kulcs || 0) / 100\n    };\n    return transformedData;\n}\n// Currencies SSR functions\nasync function getCurrencyById(id) {\n    const { data, error } = await supabaseServer.from('currencies').select('id, name, rate, created_at, updated_at').eq('id', id).is('deleted_at', null).single();\n    if (error) {\n        console.error('Error fetching currency:', error);\n        return null;\n    }\n    return data;\n}\nasync function getAllCurrencies() {\n    const startTime = performance.now();\n    const { data, error } = await supabaseServer.from('currencies').select('id, name, rate, created_at, updated_at').is('deleted_at', null).order('name', {\n        ascending: true\n    });\n    const queryTime = performance.now();\n    logTiming('Currencies DB Query', startTime, `fetched ${data?.length || 0} records`);\n    if (error) {\n        console.error('Error fetching currencies:', error);\n        return [];\n    }\n    logTiming('Currencies Total', startTime, `returned ${data?.length || 0} records`);\n    return data || [];\n}\n// VAT SSR functions\nasync function getVatById(id) {\n    const { data, error } = await supabaseServer.from('vat').select('id, name, kulcs, created_at, updated_at').eq('id', id).is('deleted_at', null).single();\n    if (error) {\n        console.error('Error fetching VAT rate:', error);\n        return null;\n    }\n    return data;\n}\nasync function getAllVatRates() {\n    const startTime = performance.now();\n    const { data, error } = await supabaseServer.from('vat').select('id, name, kulcs, created_at, updated_at').is('deleted_at', null).order('name', {\n        ascending: true\n    });\n    const queryTime = performance.now();\n    logTiming('VAT DB Query', startTime, `fetched ${data?.length || 0} records`);\n    if (error) {\n        console.error('Error fetching VAT rates:', error);\n        return [];\n    }\n    logTiming('VAT Total', startTime, `returned ${data?.length || 0} records`);\n    return data || [];\n}\n// Cutting Fees SSR functions\nasync function getCuttingFee() {\n    const startTime = performance.now();\n    const { data, error } = await supabaseServer.from('cutting_fees').select(`\n      id,\n      fee_per_meter,\n      panthelyfuras_fee_per_hole,\n      duplungolas_fee_per_sqm,\n      szogvagas_fee_per_panel,\n      currency_id,\n      vat_id,\n      currencies (\n        id,\n        name\n      ),\n      vat (\n        id,\n        kulcs\n      ),\n      created_at,\n      updated_at\n    `).limit(1).single();\n    const queryTime = performance.now();\n    logTiming('Cutting Fee DB Query', startTime, `fetched ${data ? 1 : 0} records`);\n    if (error) {\n        console.error('Error fetching cutting fee:', error);\n        return null;\n    }\n    logTiming('Cutting Fee Total', startTime, `returned ${data ? 1 : 0} records`);\n    return data || null;\n}\nasync function getMaterialPriceHistory(materialId) {\n    const startTime = performance.now();\n    const { data, error } = await supabaseServer.from('material_price_history').select('id, old_price_per_sqm, new_price_per_sqm, changed_at, changed_by').eq('material_id', materialId).order('changed_at', {\n        ascending: false\n    }).limit(10);\n    const queryTime = performance.now();\n    logTiming('Price History DB Query', startTime, `fetched ${data?.length || 0} records`);\n    if (error) {\n        console.error('Error fetching price history:', error);\n        return [];\n    }\n    // Enrich with user emails using admin API\n    const enrichedData = await Promise.all((data || []).map(async (h)=>{\n        let userEmail = null;\n        if (h.changed_by) {\n            try {\n                const { data: userData } = await supabaseServer.auth.admin.getUserById(h.changed_by);\n                if (userData?.user) {\n                    userEmail = userData.user.email;\n                }\n            } catch (err) {\n                console.error('Error fetching user for price history:', err);\n            }\n        }\n        return {\n            ...h,\n            changed_by_user: userEmail\n        };\n    }));\n    logTiming('Price History Total', startTime, `returned ${enrichedData?.length || 0} records`);\n    return enrichedData || [];\n}\n// Customers SSR functions\nasync function getCustomerById(id) {\n    const { data, error } = await supabaseServer.from('customers').select(`\n      id,\n      name,\n      email,\n      mobile,\n      discount_percent,\n      billing_name,\n      billing_country,\n      billing_city,\n      billing_postal_code,\n      billing_street,\n      billing_house_number,\n      billing_tax_number,\n      billing_company_reg_number,\n      created_at,\n      updated_at\n    `).eq('id', id).is('deleted_at', null).single();\n    if (error) {\n        console.error('Error fetching customer:', error);\n        return null;\n    }\n    return data;\n}\nasync function getAllCustomers() {\n    const startTime = performance.now();\n    const { data, error } = await supabaseServer.from('customers').select(`\n      id,\n      name,\n      email,\n      mobile,\n      discount_percent,\n      billing_name,\n      billing_country,\n      billing_city,\n      billing_postal_code,\n      billing_street,\n      billing_house_number,\n      billing_tax_number,\n      billing_company_reg_number,\n      created_at,\n      updated_at\n    `).is('deleted_at', null).order('name', {\n        ascending: true\n    });\n    const queryTime = performance.now();\n    logTiming('Customers DB Query', startTime, `fetched ${data?.length || 0} records`);\n    if (error) {\n        console.error('Error fetching customers:', error);\n        return [];\n    }\n    logTiming('Customers Total', startTime, `returned ${data?.length || 0} records`);\n    return data || [];\n}\n// Edge Materials SSR functions\nasync function getEdgeMaterialById(id) {\n    const { data, error } = await supabaseServer.from('edge_materials').select(`\n      id,\n      brand_id,\n      type,\n      thickness,\n      width,\n      decor,\n      price,\n      vat_id,\n      active,\n      ráhagyás,\n      favourite_priority,\n      created_at,\n      updated_at,\n      brands (\n        name\n      ),\n      vat (\n        name,\n        kulcs\n      )\n    `).eq('id', id).is('deleted_at', null).single();\n    if (error) {\n        console.error('Error fetching edge material:', error);\n        return null;\n    }\n    // Fetch machine code from machine_edge_material_map\n    const { data: machineData } = await supabaseServer.from('machine_edge_material_map').select('machine_code').eq('edge_material_id', id).eq('machine_type', 'Korpus').single();\n    return {\n        ...data,\n        machine_code: machineData?.machine_code || ''\n    };\n}\nasync function getAllEdgeMaterials() {\n    const startTime = performance.now();\n    const { data, error } = await supabaseServer.from('edge_materials').select(`\n      id,\n      brand_id,\n      type,\n      thickness,\n      width,\n      decor,\n      price,\n      vat_id,\n      active,\n      ráhagyás,\n      favourite_priority,\n      created_at,\n      updated_at,\n      brands (\n        name\n      ),\n      vat (\n        name,\n        kulcs\n      )\n    `).is('deleted_at', null).order('type', {\n        ascending: true\n    }).order('decor', {\n        ascending: true\n    });\n    const queryTime = performance.now();\n    logTiming('Edge Materials DB Query', startTime, `fetched ${data?.length || 0} records`);\n    if (error) {\n        console.error('Error fetching edge materials:', error);\n        return [];\n    }\n    logTiming('Edge Materials Total', startTime, `returned ${data?.length || 0} records`);\n    return data || [];\n}\nasync function getAllBrandsForEdgeMaterials() {\n    const { data, error } = await supabaseServer.from('brands').select('id, name, comment, created_at, updated_at').is('deleted_at', null).order('name', {\n        ascending: true\n    });\n    if (error) {\n        console.error('Error fetching brands for edge materials:', error);\n        return [];\n    }\n    return data || [];\n}\nasync function getAllVatRatesForEdgeMaterials() {\n    const { data, error } = await supabaseServer.from('vat').select('id, name, kulcs, created_at, updated_at').is('deleted_at', null).order('name', {\n        ascending: true\n    });\n    if (error) {\n        console.error('Error fetching VAT rates for edge materials:', error);\n        return [];\n    }\n    return data || [];\n}\n// Linear Materials SSR functions\nasync function getAllLinearMaterials() {\n    const startTime = performance.now();\n    const { data, error } = await supabaseServer.from('linear_materials').select(`\n      id,\n      brand_id,\n      name,\n      width,\n      length,\n      thickness,\n      type,\n      image_url,\n      price_per_m,\n      currency_id,\n      vat_id,\n      on_stock,\n      active,\n      created_at,\n      updated_at,\n      brands (\n        name\n      ),\n      currencies (\n        name\n      ),\n      vat (\n        name,\n        kulcs\n      )\n    `).is('deleted_at', null).order('name', {\n        ascending: true\n    });\n    const queryTime = performance.now();\n    logTiming('Linear Materials DB Query', startTime, `fetched ${data?.length || 0} records`);\n    if (error) {\n        console.error('Error fetching linear materials:', error);\n        return [];\n    }\n    // Fetch machine codes for all linear materials\n    const linearMaterialIds = data?.map((lm)=>lm.id) || [];\n    const { data: machineCodes } = await supabaseServer.from('machine_linear_material_map').select('linear_material_id, machine_code').in('linear_material_id', linearMaterialIds).eq('machine_type', 'Korpus');\n    const machineCodeMap = new Map(machineCodes?.map((mc)=>[\n            mc.linear_material_id,\n            mc.machine_code\n        ]) || []);\n    // Transform data to include machine codes\n    const transformedData = data?.map((lm)=>({\n            ...lm,\n            machine_code: machineCodeMap.get(lm.id) || '',\n            brand_name: lm.brands?.name || '',\n            currency_code: lm.currencies?.name || '',\n            currency_name: lm.currencies?.name || '',\n            vat_name: lm.vat?.name || '',\n            vat_percent: lm.vat?.kulcs || 0\n        })) || [];\n    logTiming('Linear Materials Total', startTime, `returned ${transformedData.length} records`);\n    return transformedData;\n}\nasync function getLinearMaterialById(id) {\n    const { data, error } = await supabaseServer.from('linear_materials').select(`\n      id,\n      brand_id,\n      name,\n      width,\n      length,\n      thickness,\n      type,\n      image_url,\n      base_price,\n      multiplier,\n      price_per_m,\n      partners_id,\n      units_id,\n      currency_id,\n      vat_id,\n      on_stock,\n      active,\n      created_at,\n      updated_at,\n      brands (\n        name\n      ),\n      currencies (\n        name\n      ),\n      vat (\n        name,\n        kulcs\n      )\n    `).eq('id', id).is('deleted_at', null).single();\n    if (error) {\n        console.error('Error fetching linear material:', error);\n        return null;\n    }\n    // Fetch machine code\n    const { data: machineData } = await supabaseServer.from('machine_linear_material_map').select('machine_code').eq('linear_material_id', id).eq('machine_type', 'Korpus').single();\n    return {\n        ...data,\n        machine_code: machineData?.machine_code || ''\n    };\n}\nasync function getAllBrandsForLinearMaterials() {\n    const { data, error } = await supabaseServer.from('brands').select('id, name').is('deleted_at', null).order('name', {\n        ascending: true\n    });\n    if (error) {\n        console.error('Error fetching brands for linear materials:', error);\n        return [];\n    }\n    return data || [];\n}\nasync function getAllVatRatesForLinearMaterials() {\n    const { data, error } = await supabaseServer.from('vat').select('id, name, kulcs').is('deleted_at', null).order('name', {\n        ascending: true\n    });\n    if (error) {\n        console.error('Error fetching VAT rates for linear materials:', error);\n        return [];\n    }\n    return data || [];\n}\nasync function getAllCurrenciesForLinearMaterials() {\n    const { data, error } = await supabaseServer.from('currencies').select('id, name').is('deleted_at', null).order('name', {\n        ascending: true\n    });\n    if (error) {\n        console.error('Error fetching currencies for linear materials:', error);\n        return [];\n    }\n    return data || [];\n}\n// Companies SSR functions\n// Partners SSR functions\nasync function getPartnerById(id) {\n    const { data, error } = await supabaseServer.from('partners').select(`\n      id,\n      name,\n      country,\n      postal_code,\n      city,\n      address,\n      mobile,\n      email,\n      tax_number,\n      company_registration_number,\n      bank_account,\n      notes,\n      status,\n      contact_person,\n      vat_id,\n      currency_id,\n      payment_terms,\n      created_at,\n      updated_at\n    `).eq('id', id).is('deleted_at', null).single();\n    if (error) {\n        console.error('Error fetching partner:', error);\n        return null;\n    }\n    return data;\n}\nasync function getAllPartners() {\n    const startTime = performance.now();\n    const { data, error } = await supabaseServer.from('partners').select(`\n      id,\n      name,\n      country,\n      postal_code,\n      city,\n      address,\n      mobile,\n      email,\n      tax_number,\n      company_registration_number,\n      bank_account,\n      notes,\n      status,\n      contact_person,\n      vat_id,\n      currency_id,\n      payment_terms,\n      created_at,\n      updated_at\n    `).is('deleted_at', null).order('name', {\n        ascending: true\n    });\n    const queryTime = performance.now();\n    logTiming('Partners DB Query', startTime, `fetched ${data?.length || 0} records`);\n    if (error) {\n        console.error('Error fetching partners:', error);\n        return [];\n    }\n    logTiming('Partners Total', startTime, `returned ${data?.length || 0} records`);\n    return data || [];\n}\nasync function getAllVatRatesForPartners() {\n    const { data, error } = await supabaseServer.from('vat').select('id, name, kulcs, created_at, updated_at').is('deleted_at', null).order('name', {\n        ascending: true\n    });\n    if (error) {\n        console.error('Error fetching VAT rates for partners:', error);\n        return [];\n    }\n    return data || [];\n}\nasync function getAllCurrenciesForPartners() {\n    const { data, error } = await supabaseServer.from('currencies').select('id, name, rate, created_at, updated_at').is('deleted_at', null).order('name', {\n        ascending: true\n    });\n    if (error) {\n        console.error('Error fetching currencies for partners:', error);\n        return [];\n    }\n    return data || [];\n}\nasync function getCompanyById(id) {\n    const { data, error } = await supabaseServer.from('tenant_company').select(`\n      id,\n      name,\n      country,\n      postal_code,\n      city,\n      address,\n      phone_number,\n      email,\n      website,\n      tax_number,\n      company_registration_number,\n      vat_id,\n      created_at,\n      updated_at\n    `).eq('id', id).is('deleted_at', null).single();\n    if (error) {\n        console.error('Error fetching company:', error);\n        return null;\n    }\n    return data;\n}\nasync function getAllCompanies() {\n    const startTime = performance.now();\n    const { data, error } = await supabaseServer.from('tenant_company').select(`\n      id,\n      name,\n      country,\n      postal_code,\n      city,\n      address,\n      phone_number,\n      email,\n      website,\n      tax_number,\n      company_registration_number,\n      vat_id,\n      created_at,\n      updated_at\n    `).is('deleted_at', null).order('name', {\n        ascending: true\n    });\n    const queryTime = performance.now();\n    logTiming('Companies DB Query', startTime, `fetched ${data?.length || 0} records`);\n    if (error) {\n        console.error('Error fetching companies:', error);\n        return [];\n    }\n    logTiming('Companies Total', startTime, `returned ${data?.length || 0} records`);\n    return data || [];\n}\n// Get tenant company (for default email in customer auto-creation and quote display)\nasync function getTenantCompany() {\n    const startTime = performance.now();\n    const { data, error } = await supabaseServer.from('tenant_company').select('id, name, country, postal_code, city, address, phone_number, email, website, tax_number, company_registration_number, vat_id').is('deleted_at', null).limit(1).single();\n    const queryTime = performance.now();\n    logTiming('Tenant Company DB Query', startTime, `fetched ${data ? 1 : 0} records`);\n    if (error) {\n        console.error('Error fetching tenant company:', error);\n        return null;\n    }\n    logTiming('Tenant Company Total', startTime, `returned ${data ? 1 : 0} records`);\n    return data;\n}\n// Media files SSR function\nasync function getAllMediaFiles() {\n    const startTime = performance.now();\n    const { data, error } = await supabaseServer.from('media_files').select('*').order('created_at', {\n        ascending: false\n    }).limit(1000);\n    const queryTime = performance.now();\n    logTiming('Media Files DB Query', startTime, `fetched ${data?.length || 0} records`);\n    if (error) {\n        console.error('Error fetching media files:', error);\n        return [];\n    }\n    // Transform to match expected format\n    const transformedFiles = data?.map((file)=>({\n            id: file.id,\n            name: file.original_filename,\n            storedName: file.stored_filename,\n            path: file.storage_path,\n            fullUrl: file.full_url,\n            size: file.size,\n            created_at: file.created_at,\n            updated_at: file.updated_at\n        })) || [];\n    logTiming('Media Files Total', startTime, `returned ${transformedFiles.length} records`);\n    return transformedFiles;\n}\n// Get single quote by ID with all data (for editing)\nasync function getQuoteById(quoteId) {\n    const startTime = performance.now();\n    console.log(`[SSR] Fetching quote ${quoteId} - OPTIMIZED`);\n    try {\n        // OPTIMIZATION: Fetch all data in parallel instead of sequential\n        const parallelStartTime = performance.now();\n        const [quoteResult, panelsResult, pricingResult, feesResult, accessoriesResult, tenantCompany, paymentsResult] = await Promise.all([\n            // 1. Quote with customer data and production machine\n            supabaseServer.from('quotes').select(`\n          id,\n          quote_number,\n          order_number,\n          status,\n          payment_status,\n          customer_id,\n          discount_percent,\n          production_machine_id,\n          production_date,\n          barcode,\n          total_net,\n          total_vat,\n          total_gross,\n          final_total_after_discount,\n          fees_total_net,\n          fees_total_vat,\n          fees_total_gross,\n          accessories_total_net,\n          accessories_total_vat,\n          accessories_total_gross,\n          created_at,\n          updated_at,\n          customers(\n            id,\n            name,\n            email,\n            mobile,\n            discount_percent,\n            billing_name,\n            billing_country,\n            billing_city,\n            billing_postal_code,\n            billing_street,\n            billing_house_number,\n            billing_tax_number,\n            billing_company_reg_number\n          ),\n          production_machines(\n            id,\n            machine_name\n          )\n        `).eq('id', quoteId).is('deleted_at', null).single(),\n            // 2. Panels with materials\n            supabaseServer.from('quote_panels').select(`\n          id,\n          material_id,\n          width_mm,\n          height_mm,\n          quantity,\n          label,\n          edge_material_a_id,\n          edge_material_b_id,\n          edge_material_c_id,\n          edge_material_d_id,\n          panthelyfuras_quantity,\n          panthelyfuras_oldal,\n          duplungolas,\n          szogvagas,\n          materials(id, name, brand_id, length_mm, width_mm, brands(name))\n        `).eq('quote_id', quoteId).order('created_at', {\n                ascending: true\n            }),\n            // 3. Pricing with breakdowns\n            supabaseServer.from('quote_materials_pricing').select(`\n          id, material_id, material_name, board_width_mm, board_length_mm, thickness_mm, grain_direction,\n          on_stock, boards_used, usage_percentage, pricing_method, charged_sqm,\n          price_per_sqm, vat_rate, currency, usage_limit, waste_multi,\n          material_net, material_vat, material_gross,\n          edge_materials_net, edge_materials_vat, edge_materials_gross,\n          cutting_length_m, cutting_net, cutting_vat, cutting_gross,\n          services_net, services_vat, services_gross,\n          total_net, total_vat, total_gross,\n          materials(id, name, brands(name)),\n          quote_edge_materials_breakdown(\n            id, edge_material_id, edge_material_name, total_length_m, price_per_m,\n            net_price, vat_amount, gross_price\n          ),\n          quote_services_breakdown(\n            id, service_type, quantity, unit_price, net_price, vat_amount, gross_price\n          )\n        `).eq('quote_id', quoteId).order('created_at', {\n                ascending: true\n            }),\n            // 4. Fees\n            supabaseServer.from('quote_fees').select(`\n          id, fee_name, quantity, unit_price_net, vat_rate, vat_amount, gross_price, currency_id, comment,\n          created_at,\n          feetypes(id, name),\n          currencies(id, name)\n        `).eq('quote_id', quoteId).is('deleted_at', null).order('created_at', {\n                ascending: true\n            }),\n            // 5. Accessories\n            supabaseServer.from('quote_accessories').select(`\n          id, accessory_name, sku, quantity, unit_price_net, vat_rate, unit_name, currency_id,\n          total_net, total_vat, total_gross, created_at,\n          accessories(id, name, sku),\n          units(id, name, shortform),\n          currencies(id, name)\n        `).eq('quote_id', quoteId).is('deleted_at', null).order('created_at', {\n                ascending: true\n            }),\n            // 6. Tenant company\n            getTenantCompany(),\n            // 7. Payments (for orders)\n            supabaseServer.from('quote_payments').select('*').eq('quote_id', quoteId).is('deleted_at', null).order('payment_date', {\n                ascending: false\n            })\n        ]);\n        logTiming('Parallel Queries Complete', parallelStartTime, 'all 7 queries executed in parallel');\n        // Extract data and errors from results\n        const { data: quote, error: quoteError } = quoteResult;\n        const { data: panels, error: panelsError } = panelsResult;\n        const { data: pricingData, error: pricingError } = pricingResult;\n        const { data: fees, error: feesError } = feesResult;\n        const { data: accessories, error: accessoriesError } = accessoriesResult;\n        const { data: payments, error: paymentsError } = paymentsResult;\n        // Handle errors\n        if (quoteError) {\n            console.error('[SSR] Error fetching quote:', quoteError);\n            logTiming('Quote Fetch Failed', startTime);\n            return null;\n        }\n        if (!quote) {\n            console.error('[SSR] Quote not found:', quoteId);\n            logTiming('Quote Not Found', startTime);\n            return null;\n        }\n        if (panelsError) {\n            console.error('[SSR] Error fetching panels:', panelsError);\n        }\n        if (pricingError) {\n            console.error('[SSR] Error fetching pricing:', pricingError);\n            console.log('[SSR] Continuing without pricing data...');\n        }\n        if (feesError) {\n            console.error('[SSR] Error fetching fees:', feesError);\n        }\n        if (accessoriesError) {\n            console.error('[SSR] Error fetching accessories:', accessoriesError);\n        }\n        // Log individual query results for debugging\n        console.log(`[PERF] Quote data: ${quote ? 'OK' : 'MISSING'}`);\n        console.log(`[PERF] Panels: ${panels?.length || 0} records`);\n        console.log(`[PERF] Pricing: ${pricingData?.length || 0} records`);\n        console.log(`[PERF] Fees: ${fees?.length || 0} records`);\n        console.log(`[PERF] Accessories: ${accessories?.length || 0} records`);\n        console.log(`[PERF] Payments: ${payments?.length || 0} records`);\n        console.log(`[PERF] Company: ${tenantCompany ? 'OK' : 'MISSING'}`);\n        // Fetch machine codes for panels (for cutting list)\n        const materialIds = panels?.map((p)=>p.material_id) || [];\n        const edgeMaterialIds = panels?.flatMap((p)=>[\n                p.edge_material_a_id,\n                p.edge_material_b_id,\n                p.edge_material_c_id,\n                p.edge_material_d_id\n            ].filter(Boolean)) || [];\n        const machineCodesStartTime = performance.now();\n        const [materialMaps, edgeMaterialMaps] = await Promise.all([\n            materialIds.length > 0 ? supabaseServer.from('machine_material_map').select('material_id, machine_code').in('material_id', materialIds).eq('machine_type', 'Korpus') : Promise.resolve({\n                data: []\n            }),\n            edgeMaterialIds.length > 0 ? supabaseServer.from('machine_edge_material_map').select('edge_material_id, machine_code').in('edge_material_id', edgeMaterialIds).eq('machine_type', 'Korpus') : Promise.resolve({\n                data: []\n            })\n        ]);\n        logTiming('Machine Codes Fetch', machineCodesStartTime, `fetched ${materialMaps.data?.length || 0} material codes, ${edgeMaterialMaps.data?.length || 0} edge codes`);\n        // Create lookup maps for machine codes\n        const materialCodeMap = new Map(materialMaps.data?.map((m)=>[\n                m.material_id,\n                m.machine_code\n            ]) || []);\n        const edgeCodeMap = new Map(edgeMaterialMaps.data?.map((e)=>[\n                e.edge_material_id,\n                e.machine_code\n            ]) || []);\n        // Enrich panels with machine codes for cutting list\n        const enrichedPanels = panels?.map((panel)=>({\n                ...panel,\n                material_machine_code: materialCodeMap.get(panel.material_id) || '',\n                edge_a_code: panel.edge_material_a_id ? edgeCodeMap.get(panel.edge_material_a_id) || null : null,\n                edge_b_code: panel.edge_material_b_id ? edgeCodeMap.get(panel.edge_material_b_id) || null : null,\n                edge_c_code: panel.edge_material_c_id ? edgeCodeMap.get(panel.edge_material_c_id) || null : null,\n                edge_d_code: panel.edge_material_d_id ? edgeCodeMap.get(panel.edge_material_d_id) || null : null\n            })) || [];\n        // Transform the response to include all necessary data\n        const transformedQuote = {\n            id: quote.id,\n            quote_number: quote.quote_number,\n            order_number: quote.order_number || null,\n            status: quote.status,\n            payment_status: quote.payment_status || 'not_paid',\n            customer_id: quote.customer_id,\n            discount_percent: quote.discount_percent,\n            production_machine_id: quote.production_machine_id || null,\n            production_date: quote.production_date || null,\n            barcode: quote.barcode || null,\n            production_machine: quote.production_machines || null,\n            customer: quote.customers,\n            panels: enrichedPanels,\n            pricing: pricingData || [],\n            fees: fees || [],\n            accessories: accessories || [],\n            payments: payments || [],\n            tenant_company: tenantCompany,\n            totals: {\n                total_net: quote.total_net,\n                total_vat: quote.total_vat,\n                total_gross: quote.total_gross,\n                final_total_after_discount: quote.final_total_after_discount,\n                fees_total_net: quote.fees_total_net || 0,\n                fees_total_vat: quote.fees_total_vat || 0,\n                fees_total_gross: quote.fees_total_gross || 0,\n                accessories_total_net: quote.accessories_total_net || 0,\n                accessories_total_vat: quote.accessories_total_vat || 0,\n                accessories_total_gross: quote.accessories_total_gross || 0\n            },\n            created_at: quote.created_at,\n            updated_at: quote.updated_at\n        };\n        logTiming('Quote Fetch Total', startTime, `returned quote ${quote.quote_number} with ${panels?.length || 0} panels`);\n        console.log(`[SSR] Quote fetched successfully: ${quote.quote_number} (OPTIMIZED)`);\n        return transformedQuote;\n    } catch (error) {\n        console.error('[SSR] Error fetching quote:', error);\n        logTiming('Quote Fetch Error', startTime);\n        return null;\n    }\n}\n// Get quotes with pagination (for quotes list page)\nasync function getQuotesWithPagination(page = 1, limit = 20, searchTerm) {\n    const startTime = performance.now();\n    console.log(`[SSR] Fetching quotes page ${page}, limit ${limit}, search: \"${searchTerm || 'none'}\"`);\n    try {\n        const offset = (page - 1) * limit;\n        // Build query with search if provided\n        let query = supabaseServer.from('quotes').select(`\n        id,\n        quote_number,\n        status,\n        final_total_after_discount,\n        updated_at,\n        customers!inner(\n          id,\n          name\n        )\n      `, {\n            count: 'exact'\n        }).eq('status', 'draft') // Only show draft quotes, not orders\n        .is('deleted_at', null).order('updated_at', {\n            ascending: false\n        }).range(offset, offset + limit - 1);\n        // Apply search filter if provided\n        if (searchTerm && searchTerm.trim()) {\n            query = query.ilike('customers.name', `%${searchTerm.trim()}%`);\n        }\n        const { data: quotes, error: quotesError, count } = await query;\n        if (quotesError) {\n            console.error('[SSR] Error fetching quotes:', quotesError);\n            logTiming('Quotes Fetch Failed', startTime);\n            return {\n                quotes: [],\n                totalCount: 0,\n                totalPages: 0\n            };\n        }\n        // Transform the data to flatten customer name\n        const transformedQuotes = quotes?.map((quote)=>({\n                id: quote.id,\n                quote_number: quote.quote_number,\n                status: quote.status,\n                customer_name: quote.customers?.name || 'Unknown Customer',\n                final_total_after_discount: quote.final_total_after_discount,\n                updated_at: quote.updated_at\n            })) || [];\n        const totalCount = count || 0;\n        const totalPages = Math.ceil(totalCount / limit);\n        logTiming('Quotes Fetch Total', startTime, `returned ${transformedQuotes.length} quotes (page ${page}/${totalPages})`);\n        console.log(`[SSR] Quotes fetched successfully: ${transformedQuotes.length} quotes, total: ${totalCount}`);\n        return {\n            quotes: transformedQuotes,\n            totalCount,\n            totalPages,\n            currentPage: page\n        };\n    } catch (error) {\n        console.error('[SSR] Error fetching quotes:', error);\n        logTiming('Quotes Fetch Error', startTime);\n        return {\n            quotes: [],\n            totalCount: 0,\n            totalPages: 0\n        };\n    }\n}\n// Get orders with pagination (for orders list page)\nasync function getOrdersWithPagination(page = 1, limit = 20, searchTerm) {\n    const startTime = performance.now();\n    console.log(`[SSR] Fetching orders page ${page}, limit ${limit}, search: \"${searchTerm || 'none'}\"`);\n    try {\n        const offset = (page - 1) * limit;\n        // If search term is provided, we need to find orders that match either customer name or material names\n        if (searchTerm && searchTerm.trim()) {\n            const trimmedSearch = searchTerm.trim();\n            // First, find materials that match the search term\n            console.log(`[SSR] Searching materials for: \"${trimmedSearch}\"`);\n            const { data: matchingMaterials, error: materialsError } = await supabaseServer.from('materials').select('id').ilike('name', `%${trimmedSearch}%`);\n            if (materialsError) {\n                console.error('[SSR] Error searching materials:', materialsError);\n            }\n            const materialIds = matchingMaterials?.map((m)=>m.id) || [];\n            console.log(`[SSR] Found ${materialIds.length} matching materials`);\n            // Then find quote IDs that have panels using these materials\n            let materialMatchIds = [];\n            if (materialIds.length > 0) {\n                console.log(`[SSR] Searching quote_panels for material IDs: ${materialIds.join(', ')}`);\n                const { data: materialMatches, error: panelsError } = await supabaseServer.from('quote_panels').select('quote_id').in('material_id', materialIds);\n                if (panelsError) {\n                    console.error('[SSR] Error searching quote_panels:', panelsError);\n                }\n                materialMatchIds = materialMatches?.map((m)=>m.quote_id) || [];\n                console.log(`[SSR] Found ${materialMatchIds.length} matching quote panels`);\n            }\n            // Build query with OR condition for customer name OR material matches\n            console.log(`[SSR] Building query with materialMatchIds: ${materialMatchIds.length} matches`);\n            let query = supabaseServer.from('quotes').select(`\n          id,\n          order_number,\n          status,\n          payment_status,\n          final_total_after_discount,\n          updated_at,\n          production_machine_id,\n          production_date,\n          barcode,\n          customers!inner(\n            id,\n            name,\n            mobile,\n            email\n          ),\n          production_machines(\n            id,\n            machine_name\n          )\n        `, {\n                count: 'exact'\n            }).in('status', [\n                'ordered',\n                'in_production',\n                'ready',\n                'finished',\n                'cancelled'\n            ]).is('deleted_at', null).order('updated_at', {\n                ascending: false\n            }).range(offset, offset + limit - 1);\n            // Execute two separate queries and combine results\n            console.log(`[SSR] Executing separate queries for customer and material matches...`);\n            // Query 1: Customer name matches\n            const customerQuery = supabaseServer.from('quotes').select(`\n          id,\n          order_number,\n          status,\n          payment_status,\n          final_total_after_discount,\n          updated_at,\n          production_machine_id,\n          production_date,\n          barcode,\n          customers!inner(\n            id,\n            name,\n            mobile,\n            email\n          ),\n          production_machines(\n            id,\n            machine_name\n          )\n        `, {\n                count: 'exact'\n            }).in('status', [\n                'ordered',\n                'in_production',\n                'ready',\n                'finished',\n                'cancelled'\n            ]).is('deleted_at', null).ilike('customers.name', `%${trimmedSearch}%`).order('updated_at', {\n                ascending: false\n            }).range(offset, offset + limit - 1);\n            // Query 2: Material matches (if any)\n            let materialQuery = null;\n            if (materialMatchIds.length > 0) {\n                materialQuery = supabaseServer.from('quotes').select(`\n            id,\n            order_number,\n            status,\n            payment_status,\n            final_total_after_discount,\n            updated_at,\n            production_machine_id,\n            production_date,\n            barcode,\n            customers!inner(\n              id,\n              name,\n              mobile,\n              email\n            ),\n            production_machines(\n              id,\n              machine_name\n            )\n          `, {\n                    count: 'exact'\n                }).in('status', [\n                    'ordered',\n                    'in_production',\n                    'ready',\n                    'finished',\n                    'cancelled'\n                ]).is('deleted_at', null).in('id', materialMatchIds).order('updated_at', {\n                    ascending: false\n                }).range(offset, offset + limit - 1);\n            }\n            // Execute both queries\n            const [customerResult, materialResult] = await Promise.all([\n                customerQuery,\n                materialQuery || Promise.resolve({\n                    data: [],\n                    error: null,\n                    count: 0\n                })\n            ]);\n            const { data: customerOrders, error: customerError, count: customerCount } = customerResult;\n            const { data: materialOrders, error: materialError, count: materialCount } = materialResult;\n            if (customerError) {\n                console.error('[SSR] Error fetching customer orders:', customerError);\n                logTiming('Orders Fetch Failed', startTime);\n                return {\n                    orders: [],\n                    totalCount: 0,\n                    totalPages: 0,\n                    currentPage: page\n                };\n            }\n            if (materialError) {\n                console.error('[SSR] Error fetching material orders:', materialError);\n                logTiming('Orders Fetch Failed', startTime);\n                return {\n                    orders: [],\n                    totalCount: 0,\n                    totalPages: 0,\n                    currentPage: page\n                };\n            }\n            // Combine and deduplicate results\n            const allOrders = [\n                ...customerOrders || [],\n                ...materialOrders || []\n            ];\n            const uniqueOrders = allOrders.filter((order, index, self)=>index === self.findIndex((o)=>o.id === order.id));\n            // Sort by updated_at descending\n            uniqueOrders.sort((a, b)=>new Date(b.updated_at).getTime() - new Date(a.updated_at).getTime());\n            // Apply pagination to combined results\n            const paginatedOrders = uniqueOrders.slice(0, limit);\n            const totalCount = uniqueOrders.length;\n            const totalPages = Math.ceil(totalCount / limit);\n            console.log(`[SSR] Combined results: ${uniqueOrders.length} total, ${paginatedOrders.length} on page`);\n            // Use the combined results as orders\n            const orders = paginatedOrders;\n            // Get payment totals for all orders (for payment modal)\n            const { data: paymentTotals } = await supabaseServer.from('quote_payments').select('quote_id, amount').in('quote_id', orders?.map((o)=>o.id) || []);\n            const totalPaidByOrder = (paymentTotals || []).reduce((acc, p)=>{\n                acc[p.quote_id] = (acc[p.quote_id] || 0) + p.amount;\n                return acc;\n            }, {});\n            // Transform the data\n            const transformedOrders = orders?.map((order)=>({\n                    id: order.id,\n                    order_number: order.order_number || 'N/A',\n                    status: order.status,\n                    payment_status: order.payment_status || 'not_paid',\n                    customer_name: order.customers?.name || 'Unknown Customer',\n                    customer_mobile: order.customers?.mobile || '',\n                    customer_email: order.customers?.email || '',\n                    final_total: order.final_total_after_discount || 0,\n                    total_paid: totalPaidByOrder[order.id] || 0,\n                    remaining_balance: (order.final_total_after_discount || 0) - (totalPaidByOrder[order.id] || 0),\n                    updated_at: order.updated_at,\n                    production_machine_id: order.production_machine_id || null,\n                    production_machine_name: order.production_machines?.machine_name || null,\n                    production_date: order.production_date || null,\n                    barcode: order.barcode || ''\n                })) || [];\n            return {\n                orders: transformedOrders,\n                totalCount,\n                totalPages,\n                currentPage: page\n            };\n        }\n        // No search term - regular query\n        let query = supabaseServer.from('quotes').select(`\n        id,\n        order_number,\n        status,\n        payment_status,\n        final_total_after_discount,\n        updated_at,\n        production_machine_id,\n        production_date,\n        barcode,\n        customers!inner(\n          id,\n          name,\n          mobile,\n          email\n        ),\n        production_machines(\n          id,\n          machine_name\n        )\n      `, {\n            count: 'exact'\n        }).in('status', [\n            'ordered',\n            'in_production',\n            'ready',\n            'finished',\n            'cancelled'\n        ]) // Show all order statuses including cancelled\n        .is('deleted_at', null).order('updated_at', {\n            ascending: false\n        }).range(offset, offset + limit - 1);\n        const { data: orders, error: ordersError, count } = await query;\n        if (ordersError) {\n            console.error('[SSR] Error fetching orders:', ordersError);\n            console.error('[SSR] Error details:', JSON.stringify(ordersError, null, 2));\n            logTiming('Orders Fetch Failed', startTime);\n            return {\n                orders: [],\n                totalCount: 0,\n                totalPages: 0,\n                currentPage: page\n            };\n        }\n        // Get payment totals for all orders (for payment modal)\n        const { data: paymentTotals } = await supabaseServer.from('quote_payments').select('quote_id, amount').in('quote_id', orders?.map((o)=>o.id) || []);\n        const totalPaidByOrder = (paymentTotals || []).reduce((acc, p)=>{\n            acc[p.quote_id] = (acc[p.quote_id] || 0) + p.amount;\n            return acc;\n        }, {});\n        // Transform the data\n        const transformedOrders = orders?.map((order)=>({\n                id: order.id,\n                order_number: order.order_number || 'N/A',\n                status: order.status,\n                payment_status: order.payment_status || 'not_paid',\n                customer_name: order.customers?.name || 'Unknown Customer',\n                customer_mobile: order.customers?.mobile || '',\n                customer_email: order.customers?.email || '',\n                final_total: order.final_total_after_discount || 0,\n                total_paid: totalPaidByOrder[order.id] || 0,\n                remaining_balance: (order.final_total_after_discount || 0) - (totalPaidByOrder[order.id] || 0),\n                updated_at: order.updated_at,\n                production_machine_id: order.production_machine_id || null,\n                production_machine_name: order.production_machines?.machine_name || null,\n                production_date: order.production_date || null,\n                barcode: order.barcode || ''\n            })) || [];\n        const totalCount = count || 0;\n        const totalPages = Math.ceil(totalCount / limit);\n        logTiming('Orders Fetch Total', startTime, `returned ${transformedOrders.length} orders (page ${page}/${totalPages})`);\n        console.log(`[SSR] Orders fetched successfully: ${transformedOrders.length} orders, total: ${totalCount}`);\n        return {\n            orders: transformedOrders,\n            totalCount,\n            totalPages,\n            currentPage: page\n        };\n    } catch (error) {\n        console.error('[SSR] Error fetching orders:', error);\n        console.error('[SSR] Error details:', JSON.stringify(error, null, 2));\n        console.error('[SSR] Error message:', error instanceof Error ? error.message : 'Unknown error');\n        console.error('[SSR] Error stack:', error instanceof Error ? error.stack : 'No stack trace');\n        logTiming('Orders Fetch Error', startTime);\n        return {\n            orders: [],\n            totalCount: 0,\n            totalPages: 0,\n            currentPage: page\n        };\n    }\n}\n// Accessories SSR functions\nasync function getAllAccessories() {\n    const startTime = performance.now();\n    const { data, error } = await supabaseServer.from('accessories').select(`\n      id, \n      name, \n      sku, \n      base_price,\n      multiplier,\n      net_price, \n      created_at, \n      updated_at,\n      vat_id,\n      currency_id,\n      units_id,\n      partners_id,\n      vat (\n        id,\n        name,\n        kulcs\n      ),\n      currencies (\n        id,\n        name\n      ),\n      units (\n        id,\n        name,\n        shortform\n      ),\n      partners (\n        id,\n        name\n      )\n    `).is('deleted_at', null).order('name', {\n        ascending: true\n    });\n    const queryTime = performance.now();\n    logTiming('Accessories DB Query', startTime, `fetched ${data?.length || 0} records`);\n    if (error) {\n        console.error('Error fetching accessories:', error);\n        return [];\n    }\n    // Transform the data to include calculated fields\n    const transformedData = data?.map((accessory)=>({\n            ...accessory,\n            vat_name: accessory.vat?.name || '',\n            vat_percent: accessory.vat?.kulcs || 0,\n            currency_name: accessory.currencies?.name || '',\n            unit_name: accessory.units?.name || '',\n            unit_shortform: accessory.units?.shortform || '',\n            partner_name: accessory.partners?.name || '',\n            vat_amount: accessory.net_price * (accessory.vat?.kulcs || 0) / 100,\n            gross_price: accessory.net_price + accessory.net_price * (accessory.vat?.kulcs || 0) / 100\n        })) || [];\n    logTiming('Accessories Total', startTime, `returned ${transformedData.length} records`);\n    return transformedData;\n}\n// Get accessories with pagination\nasync function getAccessoriesWithPagination(page = 1, limit = 100) {\n    const startTime = performance.now();\n    const offset = (page - 1) * limit;\n    // Get total count\n    const { count } = await supabaseServer.from('accessories').select('*', {\n        count: 'exact',\n        head: true\n    }).is('deleted_at', null);\n    // Get paginated data\n    const { data, error } = await supabaseServer.from('accessories').select(`\n      id, \n      name, \n      sku, \n      base_price,\n      multiplier,\n      net_price, \n      created_at, \n      updated_at,\n      vat_id,\n      currency_id,\n      units_id,\n      partners_id,\n      vat (\n        id,\n        name,\n        kulcs\n      ),\n      currencies (\n        id,\n        name\n      ),\n      units (\n        id,\n        name,\n        shortform\n      ),\n      partners (\n        id,\n        name\n      )\n    `).is('deleted_at', null).order('name', {\n        ascending: true\n    }).range(offset, offset + limit - 1);\n    const queryTime = performance.now();\n    logTiming('Accessories Paginated DB Query', startTime, `fetched ${data?.length || 0} records`);\n    if (error) {\n        console.error('Error fetching accessories:', error);\n        return {\n            accessories: [],\n            totalCount: 0,\n            totalPages: 0,\n            currentPage: page\n        };\n    }\n    // Transform the data to include calculated fields\n    const transformedData = data?.map((accessory)=>({\n            ...accessory,\n            vat_name: accessory.vat?.name || '',\n            vat_percent: accessory.vat?.kulcs || 0,\n            currency_name: accessory.currencies?.name || '',\n            unit_name: accessory.units?.name || '',\n            unit_shortform: accessory.units?.shortform || '',\n            partner_name: accessory.partners?.name || '',\n            vat_amount: accessory.net_price * (accessory.vat?.kulcs || 0) / 100,\n            gross_price: accessory.net_price + accessory.net_price * (accessory.vat?.kulcs || 0) / 100\n        })) || [];\n    const totalCount = count || 0;\n    const totalPages = Math.ceil(totalCount / limit);\n    logTiming('Accessories Paginated Total', startTime, `returned ${transformedData.length} of ${totalCount} records`);\n    return {\n        accessories: transformedData,\n        totalCount,\n        totalPages,\n        currentPage: page\n    };\n}\nasync function getAccessoryById(id) {\n    const { data, error } = await supabaseServer.from('accessories').select(`\n      id, \n      name, \n      sku, \n      base_price,\n      multiplier,\n      net_price, \n      created_at, \n      updated_at,\n      vat_id,\n      currency_id,\n      units_id,\n      partners_id,\n      vat (\n        id,\n        name,\n        kulcs\n      ),\n      currencies (\n        id,\n        name\n      ),\n      units (\n        id,\n        name,\n        shortform\n      ),\n      partners (\n        id,\n        name\n      )\n    `).eq('id', id).is('deleted_at', null).single();\n    if (error) {\n        console.error('Error fetching accessory:', error);\n        return null;\n    }\n    // Transform the data to include calculated fields\n    const transformedData = {\n        ...data,\n        vat_name: data.vat?.name || '',\n        vat_percent: data.vat?.kulcs || 0,\n        currency_name: data.currencies?.name || '',\n        unit_name: data.units?.name || '',\n        unit_shortform: data.units?.shortform || '',\n        partner_name: data.partners?.name || '',\n        vat_amount: data.net_price * (data.vat?.kulcs || 0) / 100,\n        gross_price: data.net_price + data.net_price * (data.vat?.kulcs || 0) / 100\n    };\n    return transformedData;\n}\n// Workers functions\nasync function getAllWorkers() {\n    const startTime = performance.now();\n    const { data, error } = await supabaseServer.from('workers').select('id, name, nickname, mobile, color, created_at, updated_at').is('deleted_at', null).order('name', {\n        ascending: true\n    });\n    const queryTime = performance.now();\n    logTiming('Workers DB Query', startTime, `fetched ${data?.length || 0} records`);\n    if (error) {\n        console.error('Error fetching workers:', error);\n        return [];\n    }\n    logTiming('Workers Total', startTime, `returned ${data?.length || 0} records`);\n    return data || [];\n}\nasync function getWorkerById(id) {\n    const { data, error } = await supabaseServer.from('workers').select('id, name, nickname, mobile, color, created_at, updated_at').eq('id', id).is('deleted_at', null).single();\n    if (error) {\n        console.error('Error fetching worker:', error);\n        return null;\n    }\n    return data;\n}\n// Shop Orders functions\nasync function getAllShopOrders() {\n    const startTime = performance.now();\n    const { data, error } = await supabaseServer.from('shop_orders').select(`\n      id,\n      order_number,\n      worker_id,\n      customer_name,\n      customer_email,\n      customer_mobile,\n      customer_discount,\n      billing_name,\n      billing_country,\n      billing_city,\n      billing_postal_code,\n      billing_street,\n      billing_house_number,\n      billing_tax_number,\n      billing_company_reg_number,\n      status,\n      created_at,\n      updated_at,\n      workers(name, nickname),\n      shop_order_items(\n        id,\n        product_name,\n        sku,\n        type,\n        quantity,\n        status,\n        base_price,\n        multiplier,\n        vat_id,\n        currency_id,\n        units(name, shortform),\n        partners(name)\n      )\n    `).is('deleted_at', null).order('created_at', {\n        ascending: false\n    });\n    const queryTime = performance.now();\n    logTiming('getAllShopOrders Query', startTime, `Found ${data?.length || 0} orders`);\n    if (error) {\n        console.error('Error fetching shop orders:', error);\n        return [];\n    }\n    // Transform data for better performance\n    const transformedOrders = data?.map((order)=>({\n            id: order.id,\n            order_number: order.order_number,\n            worker_id: order.worker_id,\n            worker_name: order.workers?.name || '',\n            worker_nickname: order.workers?.nickname || '',\n            customer_name: order.customer_name,\n            customer_email: order.customer_email,\n            customer_mobile: order.customer_mobile,\n            customer_discount: order.customer_discount,\n            billing_name: order.billing_name,\n            billing_country: order.billing_country,\n            billing_city: order.billing_city,\n            billing_postal_code: order.billing_postal_code,\n            billing_street: order.billing_street,\n            billing_house_number: order.billing_house_number,\n            billing_tax_number: order.billing_tax_number,\n            billing_company_reg_number: order.billing_company_reg_number,\n            status: order.status,\n            created_at: order.created_at,\n            updated_at: order.updated_at,\n            items_count: order.shop_order_items?.length || 0,\n            items: order.shop_order_items?.map((item)=>({\n                    id: item.id,\n                    product_name: item.product_name,\n                    sku: item.sku,\n                    type: item.type,\n                    quantity: item.quantity,\n                    status: item.status,\n                    base_price: item.base_price,\n                    multiplier: item.multiplier,\n                    vat_id: item.vat_id,\n                    currency_id: item.currency_id,\n                    unit_name: item.units?.name || '',\n                    unit_shortform: item.units?.shortform || '',\n                    partner_name: item.partners?.name || ''\n                })) || []\n        })) || [];\n    logTiming('getAllShopOrders Total', startTime, `Transformed ${transformedOrders.length} orders`);\n    return transformedOrders;\n}\n// Get single shop order by ID with all data (for detail page)\nasync function getShopOrderById(orderId) {\n    const startTime = performance.now();\n    console.log(`[SSR] Fetching shop order ${orderId}`);\n    try {\n        // Fetch all data in parallel\n        const parallelStartTime = performance.now();\n        const [orderResult, tenantCompany] = await Promise.all([\n            // 1. Shop order with worker data\n            supabaseServer.from('shop_orders').select(`\n          id,\n          order_number,\n          worker_id,\n          customer_name,\n          customer_email,\n          customer_mobile,\n          customer_discount,\n          billing_name,\n          billing_country,\n          billing_city,\n          billing_postal_code,\n          billing_street,\n          billing_house_number,\n          billing_tax_number,\n          billing_company_reg_number,\n          status,\n          created_at,\n          updated_at,\n          workers(\n            id,\n            name,\n            nickname,\n            mobile,\n            color\n          )\n        `).eq('id', orderId).is('deleted_at', null).single(),\n            // 2. Tenant company\n            getTenantCompany()\n        ]);\n        // 3. Shop order items with related data\n        const { data: itemsData, error: itemsError } = await supabaseServer.from('shop_order_items').select(`\n        id,\n        product_name,\n        sku,\n        type,\n        base_price,\n        multiplier,\n        quantity,\n        megjegyzes,\n        status,\n        created_at,\n        units(\n          id,\n          name,\n          shortform\n        ),\n        partners(\n          id,\n          name\n        ),\n        vat(\n          id,\n          kulcs\n        ),\n        currencies(\n          id,\n          name\n        )\n      `).eq('order_id', orderId).is('deleted_at', null).order('created_at', {\n            ascending: true\n        });\n        logTiming('Parallel Queries Complete', parallelStartTime, 'all queries executed in parallel');\n        // Extract data and errors from results\n        const { data: order, error: orderError } = orderResult;\n        // Handle errors\n        if (orderError) {\n            console.error('[SSR] Error fetching shop order:', orderError);\n            logTiming('Shop Order Fetch Failed', startTime);\n            return null;\n        }\n        if (itemsError) {\n            console.error('[SSR] Error fetching shop order items:', itemsError);\n            logTiming('Shop Order Items Fetch Failed', startTime);\n            return null;\n        }\n        if (!order) {\n            console.error('[SSR] Shop order not found:', orderId);\n            logTiming('Shop Order Not Found', startTime);\n            return null;\n        }\n        // Calculate totals\n        const items = itemsData || [];\n        const totals = items.reduce((acc, item)=>{\n            const netPrice = item.base_price * item.multiplier;\n            const grossPrice = netPrice * (1 + (item.vat?.kulcs || 0) / 100);\n            const itemTotal = grossPrice * item.quantity;\n            const discountAmount = itemTotal * (order.customer_discount / 100);\n            acc.total_net += netPrice * item.quantity;\n            acc.total_gross += itemTotal;\n            acc.final_total += itemTotal - discountAmount;\n            acc.discount_amount += discountAmount;\n            return acc;\n        }, {\n            total_net: 0,\n            total_gross: 0,\n            final_total: 0,\n            discount_amount: 0\n        });\n        // Transform the response\n        const transformedOrder = {\n            id: order.id,\n            order_number: order.order_number,\n            worker_id: order.worker_id,\n            worker: order.workers,\n            customer_name: order.customer_name,\n            customer_email: order.customer_email,\n            customer_mobile: order.customer_mobile,\n            customer_discount: order.customer_discount,\n            billing_name: order.billing_name,\n            billing_country: order.billing_country,\n            billing_city: order.billing_city,\n            billing_postal_code: order.billing_postal_code,\n            billing_street: order.billing_street,\n            billing_house_number: order.billing_house_number,\n            billing_tax_number: order.billing_tax_number,\n            billing_company_reg_number: order.billing_company_reg_number,\n            status: order.status,\n            items: items,\n            tenant_company: tenantCompany,\n            totals: totals,\n            created_at: order.created_at,\n            updated_at: order.updated_at\n        };\n        logTiming('Shop Order Fetch Total', startTime, `returned order ${order.order_number} with ${items.length} items`);\n        console.log(`[SSR] Shop order fetched successfully: ${order.order_number}`);\n        return transformedOrder;\n    } catch (error) {\n        console.error('[SSR] Error fetching shop order:', error);\n        logTiming('Shop Order Fetch Error', startTime);\n        return null;\n    }\n}\n// Fetch all shop order items for supplier orders page\nasync function getAllShopOrderItems(page = 1, limit = 50, search = '', status = '', partnerId = '') {\n    if (!checkSupabaseConfig()) return {\n        items: [],\n        totalCount: 0,\n        totalPages: 0\n    };\n    const startTime = performance.now();\n    const offset = (page - 1) * limit;\n    try {\n        console.log(`[SSR] Fetching shop order items page ${page}, limit ${limit}, search: \"${search}\", status: \"${status}\", partner: \"${partnerId}\"`);\n        // Build the query with joins to get all related data\n        let query = supabaseServer.from('shop_order_items').select(`\n        id,\n        product_name,\n        sku,\n        quantity,\n        base_price,\n        multiplier,\n        megjegyzes,\n        status,\n        created_at,\n        updated_at,\n        order_id,\n        units_id,\n        partner_id,\n        vat_id,\n        shop_orders!inner (\n          id,\n          customer_name,\n          order_number\n        ),\n        units (\n          id,\n          name,\n          shortform\n        ),\n        partners (\n          id,\n          name\n        ),\n        vat (\n          id,\n          name,\n          kulcs\n        )\n      `, {\n            count: 'exact'\n        }).is('shop_orders.deleted_at', null);\n        // Apply filters\n        if (search && search.length >= 2) {\n            query = query.or(`product_name.ilike.%${search}%,sku.ilike.%${search}%,shop_orders.customer_name.ilike.%${search}%`);\n        }\n        if (status) {\n            query = query.eq('status', status);\n        }\n        if (partnerId) {\n            query = query.eq('partner_id', partnerId);\n        }\n        const { data, error, count } = await query.order('created_at', {\n            ascending: false\n        }).range(offset, offset + limit - 1);\n        logTiming('Shop Order Items DB Query', startTime, `Found ${data?.length || 0} items`);\n        if (error) {\n            console.error('[SSR] Error fetching shop order items:', error);\n            return {\n                items: [],\n                totalCount: 0,\n                totalPages: 0\n            };\n        }\n        const totalCount = count || 0;\n        const totalPages = Math.ceil(totalCount / limit);\n        // Transform the data to include calculated fields\n        const items = data?.map((item)=>{\n            const grossUnitPrice = Math.round((item.base_price || 0) * (item.multiplier || 1) * (1 + (item.vat?.kulcs || 0) / 100));\n            return {\n                id: item.id,\n                product_name: item.product_name,\n                sku: item.sku,\n                quantity: item.quantity,\n                megjegyzes: item.megjegyzes,\n                status: item.status,\n                created_at: item.created_at,\n                updated_at: item.updated_at,\n                order_id: item.order_id,\n                customer_name: item.shop_orders?.customer_name,\n                order_number: item.shop_orders?.order_number,\n                unit_name: item.units?.name,\n                unit_shortform: item.units?.shortform,\n                partner_name: item.partners?.name,\n                partner_id: item.partner_id,\n                vat_name: item.vat?.name,\n                vat_percent: item.vat?.kulcs,\n                base_price: item.base_price,\n                multiplier: item.multiplier,\n                gross_unit_price: grossUnitPrice,\n                gross_total: Math.round(grossUnitPrice * item.quantity)\n            };\n        }) || [];\n        logTiming('Shop Order Items Total', startTime, `Transformed ${items.length} items`);\n        console.log(`[SSR] Shop order items fetched successfully: ${items.length} items, total: ${totalCount}`);\n        return {\n            items,\n            totalCount,\n            totalPages,\n            currentPage: page,\n            limit\n        };\n    } catch (error) {\n        console.error('[SSR] Error fetching shop order items:', error);\n        logTiming('Shop Order Items Fetch Error', startTime);\n        return {\n            items: [],\n            totalCount: 0,\n            totalPages: 0\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y2VzIjpbIi9Wb2x1bWVzL1Q3L2VycF90dXJpbm92YV9uZXcvc3JjL2xpYi9zdXBhYmFzZS1zZXJ2ZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJ1xuXG4vLyBQZXJmb3JtYW5jZSB0aW1pbmcgdXRpbGl0aWVzXG5jb25zdCBpc0RldiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbidcblxuZnVuY3Rpb24gbG9nVGltaW5nKG9wZXJhdGlvbjogc3RyaW5nLCBzdGFydFRpbWU6IG51bWJlciwgYWRkaXRpb25hbEluZm8/OiBzdHJpbmcpIHtcbiAgaWYgKGlzRGV2KSB7XG4gICAgY29uc3QgZHVyYXRpb24gPSBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZVxuICAgIGNvbnNvbGUubG9nKGBbUEVSRl0gJHtvcGVyYXRpb259OiAke2R1cmF0aW9uLnRvRml4ZWQoMil9bXMke2FkZGl0aW9uYWxJbmZvID8gYCAoJHthZGRpdGlvbmFsSW5mb30pYCA6ICcnfWApXG4gIH1cbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIFN1cGFiYXNlIGlzIGNvbmZpZ3VyZWRcbmZ1bmN0aW9uIGNoZWNrU3VwYWJhc2VDb25maWcoKSB7XG4gIGlmICghc3VwYWJhc2VTZXJ2ZXIpIHtcbiAgICBjb25zb2xlLndhcm4oJ1N1cGFiYXNlIG5vdCBjb25maWd1cmVkIGZvciBzZXJ2ZXItc2lkZSBvcGVyYXRpb25zJylcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICByZXR1cm4gdHJ1ZVxufVxuXG4vLyBTZXJ2ZXItc2lkZSBTdXBhYmFzZSBjbGllbnQgd2l0aCBzZXJ2aWNlIHJvbGUga2V5IGZvciBTU1JcbmNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMXG5jb25zdCBzdXBhYmFzZVNlcnZpY2VLZXkgPSBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZXG5cbi8vIENoZWNrIGlmIFN1cGFiYXNlIGlzIGNvbmZpZ3VyZWRcbmNvbnN0IGlzU3VwYWJhc2VDb25maWd1cmVkID0gc3VwYWJhc2VVcmwgJiYgc3VwYWJhc2VTZXJ2aWNlS2V5XG5cbmlmICghaXNTdXBhYmFzZUNvbmZpZ3VyZWQpIHtcbiAgY29uc29sZS53YXJuKCdTdXBhYmFzZSBub3QgY29uZmlndXJlZCBmb3Igc2VydmVyLXNpZGUgb3BlcmF0aW9ucy4gU29tZSBmZWF0dXJlcyBtYXkgbm90IHdvcmsuJylcbn1cblxuLy8gQ3JlYXRlIGEgbW9jayBTdXBhYmFzZSBjbGllbnQgZm9yIGJ1aWxkIHRpbWVcbmNvbnN0IGNyZWF0ZU1vY2tTdXBhYmFzZUNsaWVudCA9ICgpID0+ICh7XG4gIGZyb206ICgpID0+ICh7XG4gICAgc2VsZWN0OiAoKSA9PiAoe1xuICAgICAgZXE6ICgpID0+ICh7XG4gICAgICAgIGlzOiAoKSA9PiAoe1xuICAgICAgICAgIHNpbmdsZTogKCkgPT4gKHsgZGF0YTogbnVsbCwgZXJyb3I6IG51bGwgfSlcbiAgICAgICAgfSlcbiAgICAgIH0pLFxuICAgICAgaXM6ICgpID0+ICh7XG4gICAgICAgIG9yZGVyOiAoKSA9PiAoeyBkYXRhOiBbXSwgZXJyb3I6IG51bGwgfSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfSlcbn0pXG5cbmV4cG9ydCBjb25zdCBzdXBhYmFzZVNlcnZlciA9IGlzU3VwYWJhc2VDb25maWd1cmVkID8gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsISwgc3VwYWJhc2VTZXJ2aWNlS2V5ISwge1xuICBhdXRoOiB7XG4gICAgcGVyc2lzdFNlc3Npb246IGZhbHNlLCAvLyBEb24ndCBwZXJzaXN0IHNlc3Npb24gb24gc2VydmVyXG4gICAgYXV0b1JlZnJlc2hUb2tlbjogZmFsc2UsIC8vIE5vIHRva2VuIHJlZnJlc2ggbmVlZGVkIG9uIHNlcnZlclxuICAgIGRldGVjdFNlc3Npb25JblVybDogZmFsc2UgLy8gTm8gVVJMIHNlc3Npb24gZGV0ZWN0aW9uIG9uIHNlcnZlclxuICB9LFxuICBnbG9iYWw6IHtcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnWC1DbGllbnQtSW5mbyc6ICduZXh0anMtc2VydmVyJyxcbiAgICB9LFxuICB9LFxuICByZWFsdGltZToge1xuICAgIGVuYWJsZWQ6IGZhbHNlLCAvLyBEaXNhYmxlIHJlYWx0aW1lIGZvciBzZXJ2ZXItc2lkZSBwZXJmb3JtYW5jZVxuICB9LFxufSkgOiBjcmVhdGVNb2NrU3VwYWJhc2VDbGllbnQoKVxuXG4vLyBTZXJ2ZXItc2lkZSBvcHRpbWl6ZWQgcXVlcnkgZnVuY3Rpb25zXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QnJhbmRCeUlkKGlkOiBzdHJpbmcpIHtcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VTZXJ2ZXJcbiAgICAuZnJvbSgnYnJhbmRzJylcbiAgICAuc2VsZWN0KCdpZCwgbmFtZSwgY29tbWVudCwgY3JlYXRlZF9hdCwgdXBkYXRlZF9hdCcpXG4gICAgLmVxKCdpZCcsIGlkKVxuICAgIC5pcygnZGVsZXRlZF9hdCcsIG51bGwpXG4gICAgLnNpbmdsZSgpXG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYnJhbmQ6JywgZXJyb3IpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiBkYXRhXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxCcmFuZHMoKSB7XG4gIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gIFxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVNlcnZlclxuICAgIC5mcm9tKCdicmFuZHMnKVxuICAgIC5zZWxlY3QoJ2lkLCBuYW1lLCBjb21tZW50LCBjcmVhdGVkX2F0LCB1cGRhdGVkX2F0JylcbiAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKVxuICAgIC5vcmRlcignbmFtZScsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXG5cbiAgY29uc3QgcXVlcnlUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgbG9nVGltaW5nKCdCcmFuZHMgREIgUXVlcnknLCBzdGFydFRpbWUsIGBmZXRjaGVkICR7ZGF0YT8ubGVuZ3RoIHx8IDB9IHJlY29yZHNgKVxuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGJyYW5kczonLCBlcnJvcilcbiAgICByZXR1cm4gW11cbiAgfVxuXG4gIGxvZ1RpbWluZygnQnJhbmRzIFRvdGFsJywgc3RhcnRUaW1lLCBgcmV0dXJuZWQgJHtkYXRhPy5sZW5ndGggfHwgMH0gcmVjb3Jkc2ApXG4gIHJldHVybiBkYXRhIHx8IFtdXG59XG5cbi8vIE1hdGVyaWFscyBTU1IgZnVuY3Rpb25zXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TWF0ZXJpYWxCeUlkKGlkOiBzdHJpbmcpIHtcbiAgLy8gRmV0Y2ggbWF0ZXJpYWwgZnJvbSBtYXRlcmlhbHMgdGFibGUgd2l0aCBwcmljaW5nIGRhdGFcbiAgY29uc3QgeyBkYXRhOiBtYXRlcmlhbERhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVNlcnZlclxuICAgIC5mcm9tKCdtYXRlcmlhbHMnKVxuICAgIC5zZWxlY3QoYFxuICAgICAgaWQsXG4gICAgICBuYW1lLFxuICAgICAgbGVuZ3RoX21tLFxuICAgICAgd2lkdGhfbW0sXG4gICAgICB0aGlja25lc3NfbW0sXG4gICAgICBncmFpbl9kaXJlY3Rpb24sXG4gICAgICBvbl9zdG9jayxcbiAgICAgIGFjdGl2ZSxcbiAgICAgIGltYWdlX3VybCxcbiAgICAgIGJyYW5kX2lkLFxuICAgICAgYmFzZV9wcmljZSxcbiAgICAgIG11bHRpcGxpZXIsXG4gICAgICBwcmljZV9wZXJfc3FtLFxuICAgICAgcGFydG5lcnNfaWQsXG4gICAgICB1bml0c19pZCxcbiAgICAgIGN1cnJlbmN5X2lkLFxuICAgICAgdmF0X2lkLFxuICAgICAgY3JlYXRlZF9hdCxcbiAgICAgIHVwZGF0ZWRfYXQsXG4gICAgICBicmFuZHMoaWQsIG5hbWUpLFxuICAgICAgY3VycmVuY2llcyhpZCwgbmFtZSksXG4gICAgICB2YXQoaWQsIG5hbWUsIGt1bGNzKVxuICAgIGApXG4gICAgLmVxKCdpZCcsIGlkKVxuICAgIC5zaW5nbGUoKVxuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIG1hdGVyaWFsOicsIGVycm9yKVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICAvLyBGZXRjaCBzZXR0aW5ncyBmcm9tIG1hdGVyaWFsX3NldHRpbmdzXG4gIGNvbnN0IHsgZGF0YTogc2V0dGluZ3NEYXRhIH0gPSBhd2FpdCBzdXBhYmFzZVNlcnZlclxuICAgIC5mcm9tKCdtYXRlcmlhbF9zZXR0aW5ncycpXG4gICAgLnNlbGVjdCgna2VyZl9tbSwgdHJpbV90b3BfbW0sIHRyaW1fcmlnaHRfbW0sIHRyaW1fYm90dG9tX21tLCB0cmltX2xlZnRfbW0sIHJvdGF0YWJsZSwgd2FzdGVfbXVsdGksIHVzYWdlX2xpbWl0JylcbiAgICAuZXEoJ21hdGVyaWFsX2lkJywgaWQpXG4gICAgLnNpbmdsZSgpXG5cbiAgLy8gRmV0Y2ggbWFjaGluZSBjb2RlIGZyb20gbWFjaGluZV9tYXRlcmlhbF9tYXBcbiAgY29uc3QgeyBkYXRhOiBtYWNoaW5lRGF0YSB9ID0gYXdhaXQgc3VwYWJhc2VTZXJ2ZXJcbiAgICAuZnJvbSgnbWFjaGluZV9tYXRlcmlhbF9tYXAnKVxuICAgIC5zZWxlY3QoJ21hY2hpbmVfY29kZScpXG4gICAgLmVxKCdtYXRlcmlhbF9pZCcsIGlkKVxuICAgIC5lcSgnbWFjaGluZV90eXBlJywgJ0tvcnB1cycpXG4gICAgLnNpbmdsZSgpXG5cbiAgLy8gVHJhbnNmb3JtIHRoZSBkYXRhIHRvIG1hdGNoIHRoZSBleHBlY3RlZCBmb3JtYXRcbiAgcmV0dXJuIHtcbiAgICBpZDogbWF0ZXJpYWxEYXRhLmlkLFxuICAgIG5hbWU6IG1hdGVyaWFsRGF0YS5uYW1lIHx8IGBNYXRlcmlhbCAke21hdGVyaWFsRGF0YS5pZH1gLFxuICAgIGxlbmd0aF9tbTogbWF0ZXJpYWxEYXRhLmxlbmd0aF9tbSB8fCAyODAwLFxuICAgIHdpZHRoX21tOiBtYXRlcmlhbERhdGEud2lkdGhfbW0gfHwgMjA3MCxcbiAgICB0aGlja25lc3NfbW06IG1hdGVyaWFsRGF0YS50aGlja25lc3NfbW0gfHwgMTgsXG4gICAgZ3JhaW5fZGlyZWN0aW9uOiBCb29sZWFuKG1hdGVyaWFsRGF0YS5ncmFpbl9kaXJlY3Rpb24pLFxuICAgIG9uX3N0b2NrOiBtYXRlcmlhbERhdGEub25fc3RvY2sgIT09IHVuZGVmaW5lZCA/IEJvb2xlYW4obWF0ZXJpYWxEYXRhLm9uX3N0b2NrKSA6IHRydWUsXG4gICAgYWN0aXZlOiBtYXRlcmlhbERhdGEuYWN0aXZlICE9PSB1bmRlZmluZWQgPyBCb29sZWFuKG1hdGVyaWFsRGF0YS5hY3RpdmUpIDogdHJ1ZSxcbiAgICBpbWFnZV91cmw6IG1hdGVyaWFsRGF0YS5pbWFnZV91cmwgfHwgbnVsbCxcbiAgICBicmFuZF9pZDogbWF0ZXJpYWxEYXRhLmJyYW5kX2lkIHx8ICcnLFxuICAgIGJyYW5kX25hbWU6IG1hdGVyaWFsRGF0YS5icmFuZHM/Lm5hbWUgfHwgJ1Vua25vd24nLFxuICAgIGtlcmZfbW06IHNldHRpbmdzRGF0YT8ua2VyZl9tbSB8fCAzLFxuICAgIHRyaW1fdG9wX21tOiBzZXR0aW5nc0RhdGE/LnRyaW1fdG9wX21tIHx8IDAsXG4gICAgdHJpbV9yaWdodF9tbTogc2V0dGluZ3NEYXRhPy50cmltX3JpZ2h0X21tIHx8IDAsXG4gICAgdHJpbV9ib3R0b21fbW06IHNldHRpbmdzRGF0YT8udHJpbV9ib3R0b21fbW0gfHwgMCxcbiAgICB0cmltX2xlZnRfbW06IHNldHRpbmdzRGF0YT8udHJpbV9sZWZ0X21tIHx8IDAsXG4gICAgcm90YXRhYmxlOiBzZXR0aW5nc0RhdGE/LnJvdGF0YWJsZSAhPT0gZmFsc2UsXG4gICAgd2FzdGVfbXVsdGk6IHNldHRpbmdzRGF0YT8ud2FzdGVfbXVsdGkgfHwgMS4wLFxuICAgIHVzYWdlX2xpbWl0OiBzZXR0aW5nc0RhdGE/LnVzYWdlX2xpbWl0IHx8IDAuNjUsXG4gICAgbWFjaGluZV9jb2RlOiBtYWNoaW5lRGF0YT8ubWFjaGluZV9jb2RlIHx8ICcnLFxuICAgIGJhc2VfcHJpY2U6IG1hdGVyaWFsRGF0YS5iYXNlX3ByaWNlIHx8IDAsXG4gICAgbXVsdGlwbGllcjogbWF0ZXJpYWxEYXRhLm11bHRpcGxpZXIgfHwgMS4zOCxcbiAgICBwcmljZV9wZXJfc3FtOiBtYXRlcmlhbERhdGEucHJpY2VfcGVyX3NxbSB8fCAwLFxuICAgIHBhcnRuZXJzX2lkOiBtYXRlcmlhbERhdGEucGFydG5lcnNfaWQgfHwgbnVsbCxcbiAgICB1bml0c19pZDogbWF0ZXJpYWxEYXRhLnVuaXRzX2lkIHx8IG51bGwsXG4gICAgY3VycmVuY3lfaWQ6IG1hdGVyaWFsRGF0YS5jdXJyZW5jeV9pZCB8fCBudWxsLFxuICAgIHZhdF9pZDogbWF0ZXJpYWxEYXRhLnZhdF9pZCB8fCBudWxsLFxuICAgIGN1cnJlbmNpZXM6IG1hdGVyaWFsRGF0YS5jdXJyZW5jaWVzIHx8IG51bGwsXG4gICAgdmF0OiBtYXRlcmlhbERhdGEudmF0IHx8IG51bGwsXG4gICAgY3JlYXRlZF9hdDogbWF0ZXJpYWxEYXRhLmNyZWF0ZWRfYXQsXG4gICAgdXBkYXRlZF9hdDogbWF0ZXJpYWxEYXRhLnVwZGF0ZWRfYXRcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWxsTWF0ZXJpYWxzKCkge1xuICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKVxuICBcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VTZXJ2ZXJcbiAgICAuZnJvbSgnbWF0ZXJpYWxzX3dpdGhfc2V0dGluZ3MnKVxuICAgIC5zZWxlY3QoYFxuICAgICAgaWQsIFxuICAgICAgbWF0ZXJpYWxfbmFtZSwgXG4gICAgICBsZW5ndGhfbW0sIFxuICAgICAgd2lkdGhfbW0sIFxuICAgICAgdGhpY2tuZXNzX21tLCBcbiAgICAgIGdyYWluX2RpcmVjdGlvbiwgXG4gICAgICBvbl9zdG9jayxcbiAgICAgIGltYWdlX3VybCwgXG4gICAgICBicmFuZF9uYW1lLFxuICAgICAga2VyZl9tbSwgXG4gICAgICB0cmltX3RvcF9tbSwgXG4gICAgICB0cmltX3JpZ2h0X21tLCBcbiAgICAgIHRyaW1fYm90dG9tX21tLCBcbiAgICAgIHRyaW1fbGVmdF9tbSwgXG4gICAgICByb3RhdGFibGUsIFxuICAgICAgd2FzdGVfbXVsdGksIFxuICAgICAgdXNhZ2VfbGltaXQsXG4gICAgICBjcmVhdGVkX2F0LCBcbiAgICAgIHVwZGF0ZWRfYXRcbiAgICBgKVxuICAgIC5vcmRlcignbWF0ZXJpYWxfbmFtZScsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXG5cbiAgY29uc3QgcXVlcnlUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgbG9nVGltaW5nKCdNYXRlcmlhbHMgREIgUXVlcnknLCBzdGFydFRpbWUsIGBmZXRjaGVkICR7ZGF0YT8ubGVuZ3RoIHx8IDB9IHJlY29yZHNgKVxuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIG1hdGVyaWFsczonLCBlcnJvcilcbiAgICByZXR1cm4gW11cbiAgfVxuXG4gIC8vIEZldGNoIHByaWNpbmcgZGF0YSBmcm9tIG1hdGVyaWFscyB0YWJsZVxuICBjb25zdCBtYXRlcmlhbElkcyA9IChkYXRhIHx8IFtdKS5tYXAobSA9PiBtLmlkKVxuICBjb25zdCB7IGRhdGE6IHByaWNpbmdEYXRhIH0gPSBhd2FpdCBzdXBhYmFzZVNlcnZlclxuICAgIC5mcm9tKCdtYXRlcmlhbHMnKVxuICAgIC5zZWxlY3QoYFxuICAgICAgaWQsXG4gICAgICBwcmljZV9wZXJfc3FtLFxuICAgICAgYWN0aXZlLFxuICAgICAgdmF0KGt1bGNzKSxcbiAgICAgIGN1cnJlbmNpZXMobmFtZSlcbiAgICBgKVxuICAgIC5pbignaWQnLCBtYXRlcmlhbElkcylcblxuICAvLyBDcmVhdGUgcHJpY2luZyBtYXAgZm9yIHF1aWNrIGxvb2t1cFxuICBjb25zdCBwcmljaW5nTWFwID0gbmV3IE1hcChcbiAgICAocHJpY2luZ0RhdGEgfHwgW10pLm1hcChwID0+IFtcbiAgICAgIHAuaWQsIFxuICAgICAgeyBcbiAgICAgICAgcHJpY2VfcGVyX3NxbTogcC5wcmljZV9wZXJfc3FtIHx8IDAsIFxuICAgICAgICB2YXRfcGVyY2VudDogcC52YXQ/Lmt1bGNzIHx8IDAsXG4gICAgICAgIGN1cnJlbmN5OiBwLmN1cnJlbmNpZXM/Lm5hbWUgfHwgJ0hVRicsXG4gICAgICAgIGFjdGl2ZTogcC5hY3RpdmUgIT09IHVuZGVmaW5lZCA/IHAuYWN0aXZlIDogdHJ1ZVxuICAgICAgfVxuICAgIF0pXG4gIClcblxuICAvLyBUcmFuc2Zvcm0gdGhlIGRhdGEgdG8gbWF0Y2ggdGhlIGV4cGVjdGVkIGZvcm1hdFxuICBjb25zdCB0cmFuc2Zvcm1lZERhdGEgPSAoZGF0YSB8fCBbXSkubWFwKG1hdGVyaWFsID0+IHtcbiAgICBjb25zdCBwcmljaW5nID0gcHJpY2luZ01hcC5nZXQobWF0ZXJpYWwuaWQpIHx8IHsgcHJpY2VfcGVyX3NxbTogMCwgdmF0X3BlcmNlbnQ6IDAsIGN1cnJlbmN5OiAnSFVGJywgYWN0aXZlOiB0cnVlIH1cbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IG1hdGVyaWFsLmlkLFxuICAgICAgbmFtZTogbWF0ZXJpYWwubWF0ZXJpYWxfbmFtZSB8fCBgTWF0ZXJpYWwgJHttYXRlcmlhbC5pZH1gLFxuICAgICAgbGVuZ3RoX21tOiBtYXRlcmlhbC5sZW5ndGhfbW0gfHwgMjgwMCxcbiAgICAgIHdpZHRoX21tOiBtYXRlcmlhbC53aWR0aF9tbSB8fCAyMDcwLFxuICAgICAgdGhpY2tuZXNzX21tOiBtYXRlcmlhbC50aGlja25lc3NfbW0gfHwgMTgsXG4gICAgICBncmFpbl9kaXJlY3Rpb246IEJvb2xlYW4obWF0ZXJpYWwuZ3JhaW5fZGlyZWN0aW9uKSxcbiAgICAgIG9uX3N0b2NrOiBtYXRlcmlhbC5vbl9zdG9jayAhPT0gdW5kZWZpbmVkID8gQm9vbGVhbihtYXRlcmlhbC5vbl9zdG9jaykgOiB0cnVlLFxuICAgICAgYWN0aXZlOiBwcmljaW5nLmFjdGl2ZSAhPT0gdW5kZWZpbmVkID8gQm9vbGVhbihwcmljaW5nLmFjdGl2ZSkgOiB0cnVlLFxuICAgICAgaW1hZ2VfdXJsOiBtYXRlcmlhbC5pbWFnZV91cmwgfHwgbnVsbCxcbiAgICAgIGJyYW5kX2lkOiAnJywgLy8gRm9yIGxpc3Qgdmlldywgd2UgZG9uJ3QgbmVlZCBicmFuZF9pZFxuICAgICAgYnJhbmRfbmFtZTogbWF0ZXJpYWwuYnJhbmRfbmFtZSB8fCAnVW5rbm93bicsXG4gICAgICBrZXJmX21tOiBtYXRlcmlhbC5rZXJmX21tIHx8IDMsXG4gICAgICB0cmltX3RvcF9tbTogbWF0ZXJpYWwudHJpbV90b3BfbW0gfHwgMCxcbiAgICAgIHRyaW1fcmlnaHRfbW06IG1hdGVyaWFsLnRyaW1fcmlnaHRfbW0gfHwgMCxcbiAgICAgIHRyaW1fYm90dG9tX21tOiBtYXRlcmlhbC50cmltX2JvdHRvbV9tbSB8fCAwLFxuICAgICAgdHJpbV9sZWZ0X21tOiBtYXRlcmlhbC50cmltX2xlZnRfbW0gfHwgMCxcbiAgICAgIHJvdGF0YWJsZTogbWF0ZXJpYWwucm90YXRhYmxlICE9PSBmYWxzZSxcbiAgICAgIHdhc3RlX211bHRpOiBtYXRlcmlhbC53YXN0ZV9tdWx0aSB8fCAxLjAsXG4gICAgICB1c2FnZV9saW1pdDogbWF0ZXJpYWwudXNhZ2VfbGltaXQgIT09IHVuZGVmaW5lZCAmJiBtYXRlcmlhbC51c2FnZV9saW1pdCAhPT0gbnVsbCA/IG1hdGVyaWFsLnVzYWdlX2xpbWl0IDogMC42NSxcbiAgICAgIG1hY2hpbmVfY29kZTogJycsIC8vIEZvciBsaXN0IHZpZXcsIHdlIGRvbid0IG5lZWQgbWFjaGluZV9jb2RlXG4gICAgICBwcmljZV9wZXJfc3FtOiBwcmljaW5nLnByaWNlX3Blcl9zcW0sXG4gICAgICB2YXRfcGVyY2VudDogcHJpY2luZy52YXRfcGVyY2VudCxcbiAgICAgIGN1cnJlbmN5OiBwcmljaW5nLmN1cnJlbmN5LFxuICAgICAgY3JlYXRlZF9hdDogbWF0ZXJpYWwuY3JlYXRlZF9hdCxcbiAgICAgIHVwZGF0ZWRfYXQ6IG1hdGVyaWFsLnVwZGF0ZWRfYXRcbiAgICB9XG4gIH0pXG5cbiAgbG9nVGltaW5nKCdNYXRlcmlhbHMgVG90YWwnLCBzdGFydFRpbWUsIGB0cmFuc2Zvcm1lZCAke3RyYW5zZm9ybWVkRGF0YS5sZW5ndGh9IHJlY29yZHNgKVxuICByZXR1cm4gdHJhbnNmb3JtZWREYXRhXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxCcmFuZHNGb3JNYXRlcmlhbHMoKSB7XG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlU2VydmVyXG4gICAgLmZyb20oJ2JyYW5kcycpXG4gICAgLnNlbGVjdCgnaWQsIG5hbWUsIGNvbW1lbnQsIGNyZWF0ZWRfYXQsIHVwZGF0ZWRfYXQnKVxuICAgIC5pcygnZGVsZXRlZF9hdCcsIG51bGwpXG4gICAgLm9yZGVyKCduYW1lJywgeyBhc2NlbmRpbmc6IHRydWUgfSlcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBicmFuZHMgZm9yIG1hdGVyaWFsczonLCBlcnJvcilcbiAgICByZXR1cm4gW11cbiAgfVxuXG4gIHJldHVybiBkYXRhIHx8IFtdXG59XG5cbi8vIFVuaXRzIFNTUiBmdW5jdGlvbnNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVbml0QnlJZChpZDogc3RyaW5nKSB7XG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlU2VydmVyXG4gICAgLmZyb20oJ3VuaXRzJylcbiAgICAuc2VsZWN0KCdpZCwgbmFtZSwgc2hvcnRmb3JtLCBjcmVhdGVkX2F0LCB1cGRhdGVkX2F0JylcbiAgICAuZXEoJ2lkJywgaWQpXG4gICAgLmlzKCdkZWxldGVkX2F0JywgbnVsbClcbiAgICAuc2luZ2xlKClcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1bml0OicsIGVycm9yKVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICByZXR1cm4gZGF0YVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWxsVW5pdHMoKSB7XG4gIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gIFxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVNlcnZlclxuICAgIC5mcm9tKCd1bml0cycpXG4gICAgLnNlbGVjdCgnaWQsIG5hbWUsIHNob3J0Zm9ybSwgY3JlYXRlZF9hdCwgdXBkYXRlZF9hdCcpXG4gICAgLmlzKCdkZWxldGVkX2F0JywgbnVsbClcbiAgICAub3JkZXIoJ25hbWUnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KVxuXG4gIGNvbnN0IHF1ZXJ5VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gIGxvZ1RpbWluZygnVW5pdHMgREIgUXVlcnknLCBzdGFydFRpbWUsIGBmZXRjaGVkICR7ZGF0YT8ubGVuZ3RoIHx8IDB9IHJlY29yZHNgKVxuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVuaXRzOicsIGVycm9yKVxuICAgIHJldHVybiBbXVxuICB9XG5cbiAgbG9nVGltaW5nKCdVbml0cyBUb3RhbCcsIHN0YXJ0VGltZSwgYHJldHVybmVkICR7ZGF0YT8ubGVuZ3RoIHx8IDB9IHJlY29yZHNgKVxuICByZXR1cm4gZGF0YSB8fCBbXVxufVxuXG4vLyBQcm9kdWN0aW9uIE1hY2hpbmVzIFNTUiBmdW5jdGlvbnNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxQcm9kdWN0aW9uTWFjaGluZXMoKSB7XG4gIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gIFxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVNlcnZlclxuICAgIC5mcm9tKCdwcm9kdWN0aW9uX21hY2hpbmVzJylcbiAgICAuc2VsZWN0KCdpZCwgbWFjaGluZV9uYW1lLCBjb21tZW50LCB1c2FnZV9saW1pdF9wZXJfZGF5LCBjcmVhdGVkX2F0LCB1cGRhdGVkX2F0JylcbiAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKVxuICAgIC5vcmRlcignbWFjaGluZV9uYW1lJywgeyBhc2NlbmRpbmc6IHRydWUgfSlcblxuICBjb25zdCBxdWVyeVRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKVxuICBsb2dUaW1pbmcoJ1Byb2R1Y3Rpb24gTWFjaGluZXMgREIgUXVlcnknLCBzdGFydFRpbWUsIGBmZXRjaGVkICR7ZGF0YT8ubGVuZ3RoIHx8IDB9IHJlY29yZHNgKVxuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb2R1Y3Rpb24gbWFjaGluZXM6JywgZXJyb3IpXG4gICAgcmV0dXJuIFtdXG4gIH1cblxuICBsb2dUaW1pbmcoJ1Byb2R1Y3Rpb24gTWFjaGluZXMgVG90YWwnLCBzdGFydFRpbWUsIGByZXR1cm5lZCAke2RhdGE/Lmxlbmd0aCB8fCAwfSByZWNvcmRzYClcbiAgcmV0dXJuIGRhdGEgfHwgW11cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFByb2R1Y3Rpb25NYWNoaW5lQnlJZChpZDogc3RyaW5nKSB7XG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlU2VydmVyXG4gICAgLmZyb20oJ3Byb2R1Y3Rpb25fbWFjaGluZXMnKVxuICAgIC5zZWxlY3QoJ2lkLCBtYWNoaW5lX25hbWUsIGNvbW1lbnQsIHVzYWdlX2xpbWl0X3Blcl9kYXksIGNyZWF0ZWRfYXQsIHVwZGF0ZWRfYXQnKVxuICAgIC5lcSgnaWQnLCBpZClcbiAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKVxuICAgIC5zaW5nbGUoKVxuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb2R1Y3Rpb24gbWFjaGluZTonLCBlcnJvcilcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgcmV0dXJuIGRhdGFcbn1cblxuLy8gRmVlIFR5cGVzIFNTUiBmdW5jdGlvbnNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxGZWVUeXBlcygpIHtcbiAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlU2VydmVyXG4gICAgLmZyb20oJ2ZlZXR5cGVzJylcbiAgICAuc2VsZWN0KGBcbiAgICAgIGlkLCBcbiAgICAgIG5hbWUsIFxuICAgICAgbmV0X3ByaWNlLCBcbiAgICAgIGNyZWF0ZWRfYXQsIFxuICAgICAgdXBkYXRlZF9hdCxcbiAgICAgIHZhdF9pZCxcbiAgICAgIGN1cnJlbmN5X2lkLFxuICAgICAgdmF0IChcbiAgICAgICAgaWQsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGt1bGNzXG4gICAgICApLFxuICAgICAgY3VycmVuY2llcyAoXG4gICAgICAgIGlkLFxuICAgICAgICBuYW1lXG4gICAgICApXG4gICAgYClcbiAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKVxuICAgIC5vcmRlcignbmFtZScsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXG5cbiAgY29uc3QgcXVlcnlUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgbG9nVGltaW5nKCdGZWUgVHlwZXMgREIgUXVlcnknLCBzdGFydFRpbWUsIGBmZXRjaGVkICR7ZGF0YT8ubGVuZ3RoIHx8IDB9IHJlY29yZHNgKVxuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGZlZSB0eXBlczonLCBlcnJvcilcbiAgICByZXR1cm4gW11cbiAgfVxuXG4gIC8vIFRyYW5zZm9ybSB0aGUgZGF0YSB0byBpbmNsdWRlIGNhbGN1bGF0ZWQgZmllbGRzXG4gIGNvbnN0IHRyYW5zZm9ybWVkRGF0YSA9IGRhdGE/Lm1hcChmZWVUeXBlID0+ICh7XG4gICAgLi4uZmVlVHlwZSxcbiAgICB2YXRfbmFtZTogZmVlVHlwZS52YXQ/Lm5hbWUgfHwgJycsXG4gICAgdmF0X3BlcmNlbnQ6IGZlZVR5cGUudmF0Py5rdWxjcyB8fCAwLFxuICAgIGN1cnJlbmN5X25hbWU6IGZlZVR5cGUuY3VycmVuY2llcz8ubmFtZSB8fCAnJyxcbiAgICB2YXRfYW1vdW50OiAoZmVlVHlwZS5uZXRfcHJpY2UgKiAoZmVlVHlwZS52YXQ/Lmt1bGNzIHx8IDApKSAvIDEwMCxcbiAgICBncm9zc19wcmljZTogZmVlVHlwZS5uZXRfcHJpY2UgKyAoKGZlZVR5cGUubmV0X3ByaWNlICogKGZlZVR5cGUudmF0Py5rdWxjcyB8fCAwKSkgLyAxMDApXG4gIH0pKSB8fCBbXVxuXG4gIGxvZ1RpbWluZygnRmVlIFR5cGVzIFRvdGFsJywgc3RhcnRUaW1lLCBgcmV0dXJuZWQgJHt0cmFuc2Zvcm1lZERhdGEubGVuZ3RofSByZWNvcmRzYClcbiAgcmV0dXJuIHRyYW5zZm9ybWVkRGF0YVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RmVlVHlwZUJ5SWQoaWQ6IHN0cmluZykge1xuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVNlcnZlclxuICAgIC5mcm9tKCdmZWV0eXBlcycpXG4gICAgLnNlbGVjdChgXG4gICAgICBpZCwgXG4gICAgICBuYW1lLCBcbiAgICAgIG5ldF9wcmljZSwgXG4gICAgICBjcmVhdGVkX2F0LCBcbiAgICAgIHVwZGF0ZWRfYXQsXG4gICAgICB2YXRfaWQsXG4gICAgICBjdXJyZW5jeV9pZCxcbiAgICAgIHZhdCAoXG4gICAgICAgIGlkLFxuICAgICAgICBuYW1lLFxuICAgICAgICBrdWxjc1xuICAgICAgKSxcbiAgICAgIGN1cnJlbmNpZXMgKFxuICAgICAgICBpZCxcbiAgICAgICAgbmFtZVxuICAgICAgKVxuICAgIGApXG4gICAgLmVxKCdpZCcsIGlkKVxuICAgIC5pcygnZGVsZXRlZF9hdCcsIG51bGwpXG4gICAgLnNpbmdsZSgpXG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZmVlIHR5cGU6JywgZXJyb3IpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIC8vIFRyYW5zZm9ybSB0aGUgZGF0YSB0byBpbmNsdWRlIGNhbGN1bGF0ZWQgZmllbGRzXG4gIGNvbnN0IHRyYW5zZm9ybWVkRGF0YSA9IHtcbiAgICAuLi5kYXRhLFxuICAgIHZhdF9uYW1lOiBkYXRhLnZhdD8ubmFtZSB8fCAnJyxcbiAgICB2YXRfcGVyY2VudDogZGF0YS52YXQ/Lmt1bGNzIHx8IDAsXG4gICAgY3VycmVuY3lfbmFtZTogZGF0YS5jdXJyZW5jaWVzPy5uYW1lIHx8ICcnLFxuICAgIHZhdF9hbW91bnQ6IChkYXRhLm5ldF9wcmljZSAqIChkYXRhLnZhdD8ua3VsY3MgfHwgMCkpIC8gMTAwLFxuICAgIGdyb3NzX3ByaWNlOiBkYXRhLm5ldF9wcmljZSArICgoZGF0YS5uZXRfcHJpY2UgKiAoZGF0YS52YXQ/Lmt1bGNzIHx8IDApKSAvIDEwMClcbiAgfVxuXG4gIHJldHVybiB0cmFuc2Zvcm1lZERhdGFcbn1cblxuLy8gQ3VycmVuY2llcyBTU1IgZnVuY3Rpb25zXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q3VycmVuY3lCeUlkKGlkOiBzdHJpbmcpIHtcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VTZXJ2ZXJcbiAgICAuZnJvbSgnY3VycmVuY2llcycpXG4gICAgLnNlbGVjdCgnaWQsIG5hbWUsIHJhdGUsIGNyZWF0ZWRfYXQsIHVwZGF0ZWRfYXQnKVxuICAgIC5lcSgnaWQnLCBpZClcbiAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKVxuICAgIC5zaW5nbGUoKVxuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGN1cnJlbmN5OicsIGVycm9yKVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICByZXR1cm4gZGF0YVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWxsQ3VycmVuY2llcygpIHtcbiAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlU2VydmVyXG4gICAgLmZyb20oJ2N1cnJlbmNpZXMnKVxuICAgIC5zZWxlY3QoJ2lkLCBuYW1lLCByYXRlLCBjcmVhdGVkX2F0LCB1cGRhdGVkX2F0JylcbiAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKVxuICAgIC5vcmRlcignbmFtZScsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXG5cbiAgY29uc3QgcXVlcnlUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgbG9nVGltaW5nKCdDdXJyZW5jaWVzIERCIFF1ZXJ5Jywgc3RhcnRUaW1lLCBgZmV0Y2hlZCAke2RhdGE/Lmxlbmd0aCB8fCAwfSByZWNvcmRzYClcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBjdXJyZW5jaWVzOicsIGVycm9yKVxuICAgIHJldHVybiBbXVxuICB9XG5cbiAgbG9nVGltaW5nKCdDdXJyZW5jaWVzIFRvdGFsJywgc3RhcnRUaW1lLCBgcmV0dXJuZWQgJHtkYXRhPy5sZW5ndGggfHwgMH0gcmVjb3Jkc2ApXG4gIHJldHVybiBkYXRhIHx8IFtdXG59XG5cbi8vIFZBVCBTU1IgZnVuY3Rpb25zXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VmF0QnlJZChpZDogc3RyaW5nKSB7XG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlU2VydmVyXG4gICAgLmZyb20oJ3ZhdCcpXG4gICAgLnNlbGVjdCgnaWQsIG5hbWUsIGt1bGNzLCBjcmVhdGVkX2F0LCB1cGRhdGVkX2F0JylcbiAgICAuZXEoJ2lkJywgaWQpXG4gICAgLmlzKCdkZWxldGVkX2F0JywgbnVsbClcbiAgICAuc2luZ2xlKClcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBWQVQgcmF0ZTonLCBlcnJvcilcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgcmV0dXJuIGRhdGFcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbFZhdFJhdGVzKCkge1xuICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKVxuICBcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VTZXJ2ZXJcbiAgICAuZnJvbSgndmF0JylcbiAgICAuc2VsZWN0KCdpZCwgbmFtZSwga3VsY3MsIGNyZWF0ZWRfYXQsIHVwZGF0ZWRfYXQnKVxuICAgIC5pcygnZGVsZXRlZF9hdCcsIG51bGwpXG4gICAgLm9yZGVyKCduYW1lJywgeyBhc2NlbmRpbmc6IHRydWUgfSlcblxuICBjb25zdCBxdWVyeVRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKVxuICBsb2dUaW1pbmcoJ1ZBVCBEQiBRdWVyeScsIHN0YXJ0VGltZSwgYGZldGNoZWQgJHtkYXRhPy5sZW5ndGggfHwgMH0gcmVjb3Jkc2ApXG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgVkFUIHJhdGVzOicsIGVycm9yKVxuICAgIHJldHVybiBbXVxuICB9XG5cbiAgbG9nVGltaW5nKCdWQVQgVG90YWwnLCBzdGFydFRpbWUsIGByZXR1cm5lZCAke2RhdGE/Lmxlbmd0aCB8fCAwfSByZWNvcmRzYClcbiAgcmV0dXJuIGRhdGEgfHwgW11cbn1cblxuLy8gQ3V0dGluZyBGZWVzIFNTUiBmdW5jdGlvbnNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDdXR0aW5nRmVlKCkge1xuICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKVxuICBcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VTZXJ2ZXJcbiAgICAuZnJvbSgnY3V0dGluZ19mZWVzJylcbiAgICAuc2VsZWN0KGBcbiAgICAgIGlkLFxuICAgICAgZmVlX3Blcl9tZXRlcixcbiAgICAgIHBhbnRoZWx5ZnVyYXNfZmVlX3Blcl9ob2xlLFxuICAgICAgZHVwbHVuZ29sYXNfZmVlX3Blcl9zcW0sXG4gICAgICBzem9ndmFnYXNfZmVlX3Blcl9wYW5lbCxcbiAgICAgIGN1cnJlbmN5X2lkLFxuICAgICAgdmF0X2lkLFxuICAgICAgY3VycmVuY2llcyAoXG4gICAgICAgIGlkLFxuICAgICAgICBuYW1lXG4gICAgICApLFxuICAgICAgdmF0IChcbiAgICAgICAgaWQsXG4gICAgICAgIGt1bGNzXG4gICAgICApLFxuICAgICAgY3JlYXRlZF9hdCxcbiAgICAgIHVwZGF0ZWRfYXRcbiAgICBgKVxuICAgIC5saW1pdCgxKVxuICAgIC5zaW5nbGUoKVxuXG4gIGNvbnN0IHF1ZXJ5VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gIGxvZ1RpbWluZygnQ3V0dGluZyBGZWUgREIgUXVlcnknLCBzdGFydFRpbWUsIGBmZXRjaGVkICR7ZGF0YSA/IDEgOiAwfSByZWNvcmRzYClcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBjdXR0aW5nIGZlZTonLCBlcnJvcilcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgbG9nVGltaW5nKCdDdXR0aW5nIEZlZSBUb3RhbCcsIHN0YXJ0VGltZSwgYHJldHVybmVkICR7ZGF0YSA/IDEgOiAwfSByZWNvcmRzYClcbiAgcmV0dXJuIGRhdGEgfHwgbnVsbFxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TWF0ZXJpYWxQcmljZUhpc3RvcnkobWF0ZXJpYWxJZDogc3RyaW5nKSB7XG4gIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gIFxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVNlcnZlclxuICAgIC5mcm9tKCdtYXRlcmlhbF9wcmljZV9oaXN0b3J5JylcbiAgICAuc2VsZWN0KCdpZCwgb2xkX3ByaWNlX3Blcl9zcW0sIG5ld19wcmljZV9wZXJfc3FtLCBjaGFuZ2VkX2F0LCBjaGFuZ2VkX2J5JylcbiAgICAuZXEoJ21hdGVyaWFsX2lkJywgbWF0ZXJpYWxJZClcbiAgICAub3JkZXIoJ2NoYW5nZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAubGltaXQoMTApXG5cbiAgY29uc3QgcXVlcnlUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgbG9nVGltaW5nKCdQcmljZSBIaXN0b3J5IERCIFF1ZXJ5Jywgc3RhcnRUaW1lLCBgZmV0Y2hlZCAke2RhdGE/Lmxlbmd0aCB8fCAwfSByZWNvcmRzYClcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwcmljZSBoaXN0b3J5OicsIGVycm9yKVxuICAgIHJldHVybiBbXVxuICB9XG5cbiAgLy8gRW5yaWNoIHdpdGggdXNlciBlbWFpbHMgdXNpbmcgYWRtaW4gQVBJXG4gIGNvbnN0IGVucmljaGVkRGF0YSA9IGF3YWl0IFByb21pc2UuYWxsKChkYXRhIHx8IFtdKS5tYXAoYXN5bmMgKGg6IGFueSkgPT4ge1xuICAgIGxldCB1c2VyRW1haWwgPSBudWxsXG4gICAgaWYgKGguY2hhbmdlZF9ieSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBkYXRhOiB1c2VyRGF0YSB9ID0gYXdhaXQgc3VwYWJhc2VTZXJ2ZXIuYXV0aC5hZG1pbi5nZXRVc2VyQnlJZChoLmNoYW5nZWRfYnkpXG4gICAgICAgIGlmICh1c2VyRGF0YT8udXNlcikge1xuICAgICAgICAgIHVzZXJFbWFpbCA9IHVzZXJEYXRhLnVzZXIuZW1haWxcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXIgZm9yIHByaWNlIGhpc3Rvcnk6JywgZXJyKVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgLi4uaCxcbiAgICAgIGNoYW5nZWRfYnlfdXNlcjogdXNlckVtYWlsXG4gICAgfVxuICB9KSlcblxuICBsb2dUaW1pbmcoJ1ByaWNlIEhpc3RvcnkgVG90YWwnLCBzdGFydFRpbWUsIGByZXR1cm5lZCAke2VucmljaGVkRGF0YT8ubGVuZ3RoIHx8IDB9IHJlY29yZHNgKVxuICByZXR1cm4gZW5yaWNoZWREYXRhIHx8IFtdXG59XG5cbi8vIEN1c3RvbWVycyBTU1IgZnVuY3Rpb25zXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q3VzdG9tZXJCeUlkKGlkOiBzdHJpbmcpIHtcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VTZXJ2ZXJcbiAgICAuZnJvbSgnY3VzdG9tZXJzJylcbiAgICAuc2VsZWN0KGBcbiAgICAgIGlkLFxuICAgICAgbmFtZSxcbiAgICAgIGVtYWlsLFxuICAgICAgbW9iaWxlLFxuICAgICAgZGlzY291bnRfcGVyY2VudCxcbiAgICAgIGJpbGxpbmdfbmFtZSxcbiAgICAgIGJpbGxpbmdfY291bnRyeSxcbiAgICAgIGJpbGxpbmdfY2l0eSxcbiAgICAgIGJpbGxpbmdfcG9zdGFsX2NvZGUsXG4gICAgICBiaWxsaW5nX3N0cmVldCxcbiAgICAgIGJpbGxpbmdfaG91c2VfbnVtYmVyLFxuICAgICAgYmlsbGluZ190YXhfbnVtYmVyLFxuICAgICAgYmlsbGluZ19jb21wYW55X3JlZ19udW1iZXIsXG4gICAgICBjcmVhdGVkX2F0LFxuICAgICAgdXBkYXRlZF9hdFxuICAgIGApXG4gICAgLmVxKCdpZCcsIGlkKVxuICAgIC5pcygnZGVsZXRlZF9hdCcsIG51bGwpXG4gICAgLnNpbmdsZSgpXG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgY3VzdG9tZXI6JywgZXJyb3IpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiBkYXRhXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxDdXN0b21lcnMoKSB7XG4gIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gIFxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVNlcnZlclxuICAgIC5mcm9tKCdjdXN0b21lcnMnKVxuICAgIC5zZWxlY3QoYFxuICAgICAgaWQsXG4gICAgICBuYW1lLFxuICAgICAgZW1haWwsXG4gICAgICBtb2JpbGUsXG4gICAgICBkaXNjb3VudF9wZXJjZW50LFxuICAgICAgYmlsbGluZ19uYW1lLFxuICAgICAgYmlsbGluZ19jb3VudHJ5LFxuICAgICAgYmlsbGluZ19jaXR5LFxuICAgICAgYmlsbGluZ19wb3N0YWxfY29kZSxcbiAgICAgIGJpbGxpbmdfc3RyZWV0LFxuICAgICAgYmlsbGluZ19ob3VzZV9udW1iZXIsXG4gICAgICBiaWxsaW5nX3RheF9udW1iZXIsXG4gICAgICBiaWxsaW5nX2NvbXBhbnlfcmVnX251bWJlcixcbiAgICAgIGNyZWF0ZWRfYXQsXG4gICAgICB1cGRhdGVkX2F0XG4gICAgYClcbiAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKVxuICAgIC5vcmRlcignbmFtZScsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXG5cbiAgY29uc3QgcXVlcnlUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgbG9nVGltaW5nKCdDdXN0b21lcnMgREIgUXVlcnknLCBzdGFydFRpbWUsIGBmZXRjaGVkICR7ZGF0YT8ubGVuZ3RoIHx8IDB9IHJlY29yZHNgKVxuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGN1c3RvbWVyczonLCBlcnJvcilcbiAgICByZXR1cm4gW11cbiAgfVxuXG4gIGxvZ1RpbWluZygnQ3VzdG9tZXJzIFRvdGFsJywgc3RhcnRUaW1lLCBgcmV0dXJuZWQgJHtkYXRhPy5sZW5ndGggfHwgMH0gcmVjb3Jkc2ApXG4gIHJldHVybiBkYXRhIHx8IFtdXG59XG5cbi8vIEVkZ2UgTWF0ZXJpYWxzIFNTUiBmdW5jdGlvbnNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRFZGdlTWF0ZXJpYWxCeUlkKGlkOiBzdHJpbmcpIHtcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VTZXJ2ZXJcbiAgICAuZnJvbSgnZWRnZV9tYXRlcmlhbHMnKVxuICAgIC5zZWxlY3QoYFxuICAgICAgaWQsXG4gICAgICBicmFuZF9pZCxcbiAgICAgIHR5cGUsXG4gICAgICB0aGlja25lc3MsXG4gICAgICB3aWR0aCxcbiAgICAgIGRlY29yLFxuICAgICAgcHJpY2UsXG4gICAgICB2YXRfaWQsXG4gICAgICBhY3RpdmUsXG4gICAgICByw6FoYWd5w6FzLFxuICAgICAgZmF2b3VyaXRlX3ByaW9yaXR5LFxuICAgICAgY3JlYXRlZF9hdCxcbiAgICAgIHVwZGF0ZWRfYXQsXG4gICAgICBicmFuZHMgKFxuICAgICAgICBuYW1lXG4gICAgICApLFxuICAgICAgdmF0IChcbiAgICAgICAgbmFtZSxcbiAgICAgICAga3VsY3NcbiAgICAgIClcbiAgICBgKVxuICAgIC5lcSgnaWQnLCBpZClcbiAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKVxuICAgIC5zaW5nbGUoKVxuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGVkZ2UgbWF0ZXJpYWw6JywgZXJyb3IpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIC8vIEZldGNoIG1hY2hpbmUgY29kZSBmcm9tIG1hY2hpbmVfZWRnZV9tYXRlcmlhbF9tYXBcbiAgY29uc3QgeyBkYXRhOiBtYWNoaW5lRGF0YSB9ID0gYXdhaXQgc3VwYWJhc2VTZXJ2ZXJcbiAgICAuZnJvbSgnbWFjaGluZV9lZGdlX21hdGVyaWFsX21hcCcpXG4gICAgLnNlbGVjdCgnbWFjaGluZV9jb2RlJylcbiAgICAuZXEoJ2VkZ2VfbWF0ZXJpYWxfaWQnLCBpZClcbiAgICAuZXEoJ21hY2hpbmVfdHlwZScsICdLb3JwdXMnKVxuICAgIC5zaW5nbGUoKVxuXG4gIHJldHVybiB7XG4gICAgLi4uZGF0YSxcbiAgICBtYWNoaW5lX2NvZGU6IG1hY2hpbmVEYXRhPy5tYWNoaW5lX2NvZGUgfHwgJydcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWxsRWRnZU1hdGVyaWFscygpIHtcbiAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlU2VydmVyXG4gICAgLmZyb20oJ2VkZ2VfbWF0ZXJpYWxzJylcbiAgICAuc2VsZWN0KGBcbiAgICAgIGlkLFxuICAgICAgYnJhbmRfaWQsXG4gICAgICB0eXBlLFxuICAgICAgdGhpY2tuZXNzLFxuICAgICAgd2lkdGgsXG4gICAgICBkZWNvcixcbiAgICAgIHByaWNlLFxuICAgICAgdmF0X2lkLFxuICAgICAgYWN0aXZlLFxuICAgICAgcsOhaGFnecOhcyxcbiAgICAgIGZhdm91cml0ZV9wcmlvcml0eSxcbiAgICAgIGNyZWF0ZWRfYXQsXG4gICAgICB1cGRhdGVkX2F0LFxuICAgICAgYnJhbmRzIChcbiAgICAgICAgbmFtZVxuICAgICAgKSxcbiAgICAgIHZhdCAoXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGt1bGNzXG4gICAgICApXG4gICAgYClcbiAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKVxuICAgIC5vcmRlcigndHlwZScsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXG4gICAgLm9yZGVyKCdkZWNvcicsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXG5cbiAgY29uc3QgcXVlcnlUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgbG9nVGltaW5nKCdFZGdlIE1hdGVyaWFscyBEQiBRdWVyeScsIHN0YXJ0VGltZSwgYGZldGNoZWQgJHtkYXRhPy5sZW5ndGggfHwgMH0gcmVjb3Jkc2ApXG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZWRnZSBtYXRlcmlhbHM6JywgZXJyb3IpXG4gICAgcmV0dXJuIFtdXG4gIH1cblxuICBsb2dUaW1pbmcoJ0VkZ2UgTWF0ZXJpYWxzIFRvdGFsJywgc3RhcnRUaW1lLCBgcmV0dXJuZWQgJHtkYXRhPy5sZW5ndGggfHwgMH0gcmVjb3Jkc2ApXG4gIHJldHVybiBkYXRhIHx8IFtdXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxCcmFuZHNGb3JFZGdlTWF0ZXJpYWxzKCkge1xuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVNlcnZlclxuICAgIC5mcm9tKCdicmFuZHMnKVxuICAgIC5zZWxlY3QoJ2lkLCBuYW1lLCBjb21tZW50LCBjcmVhdGVkX2F0LCB1cGRhdGVkX2F0JylcbiAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKVxuICAgIC5vcmRlcignbmFtZScsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYnJhbmRzIGZvciBlZGdlIG1hdGVyaWFsczonLCBlcnJvcilcbiAgICByZXR1cm4gW11cbiAgfVxuXG4gIHJldHVybiBkYXRhIHx8IFtdXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxWYXRSYXRlc0ZvckVkZ2VNYXRlcmlhbHMoKSB7XG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlU2VydmVyXG4gICAgLmZyb20oJ3ZhdCcpXG4gICAgLnNlbGVjdCgnaWQsIG5hbWUsIGt1bGNzLCBjcmVhdGVkX2F0LCB1cGRhdGVkX2F0JylcbiAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKVxuICAgIC5vcmRlcignbmFtZScsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgVkFUIHJhdGVzIGZvciBlZGdlIG1hdGVyaWFsczonLCBlcnJvcilcbiAgICByZXR1cm4gW11cbiAgfVxuXG4gIHJldHVybiBkYXRhIHx8IFtdXG59XG5cbi8vIExpbmVhciBNYXRlcmlhbHMgU1NSIGZ1bmN0aW9uc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbExpbmVhck1hdGVyaWFscygpIHtcbiAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlU2VydmVyXG4gICAgLmZyb20oJ2xpbmVhcl9tYXRlcmlhbHMnKVxuICAgIC5zZWxlY3QoYFxuICAgICAgaWQsXG4gICAgICBicmFuZF9pZCxcbiAgICAgIG5hbWUsXG4gICAgICB3aWR0aCxcbiAgICAgIGxlbmd0aCxcbiAgICAgIHRoaWNrbmVzcyxcbiAgICAgIHR5cGUsXG4gICAgICBpbWFnZV91cmwsXG4gICAgICBwcmljZV9wZXJfbSxcbiAgICAgIGN1cnJlbmN5X2lkLFxuICAgICAgdmF0X2lkLFxuICAgICAgb25fc3RvY2ssXG4gICAgICBhY3RpdmUsXG4gICAgICBjcmVhdGVkX2F0LFxuICAgICAgdXBkYXRlZF9hdCxcbiAgICAgIGJyYW5kcyAoXG4gICAgICAgIG5hbWVcbiAgICAgICksXG4gICAgICBjdXJyZW5jaWVzIChcbiAgICAgICAgbmFtZVxuICAgICAgKSxcbiAgICAgIHZhdCAoXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGt1bGNzXG4gICAgICApXG4gICAgYClcbiAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKVxuICAgIC5vcmRlcignbmFtZScsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXG5cbiAgY29uc3QgcXVlcnlUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgbG9nVGltaW5nKCdMaW5lYXIgTWF0ZXJpYWxzIERCIFF1ZXJ5Jywgc3RhcnRUaW1lLCBgZmV0Y2hlZCAke2RhdGE/Lmxlbmd0aCB8fCAwfSByZWNvcmRzYClcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBsaW5lYXIgbWF0ZXJpYWxzOicsIGVycm9yKVxuICAgIHJldHVybiBbXVxuICB9XG5cbiAgLy8gRmV0Y2ggbWFjaGluZSBjb2RlcyBmb3IgYWxsIGxpbmVhciBtYXRlcmlhbHNcbiAgY29uc3QgbGluZWFyTWF0ZXJpYWxJZHMgPSBkYXRhPy5tYXAobG0gPT4gbG0uaWQpIHx8IFtdXG4gIGNvbnN0IHsgZGF0YTogbWFjaGluZUNvZGVzIH0gPSBhd2FpdCBzdXBhYmFzZVNlcnZlclxuICAgIC5mcm9tKCdtYWNoaW5lX2xpbmVhcl9tYXRlcmlhbF9tYXAnKVxuICAgIC5zZWxlY3QoJ2xpbmVhcl9tYXRlcmlhbF9pZCwgbWFjaGluZV9jb2RlJylcbiAgICAuaW4oJ2xpbmVhcl9tYXRlcmlhbF9pZCcsIGxpbmVhck1hdGVyaWFsSWRzKVxuICAgIC5lcSgnbWFjaGluZV90eXBlJywgJ0tvcnB1cycpXG5cbiAgY29uc3QgbWFjaGluZUNvZGVNYXAgPSBuZXcgTWFwKFxuICAgIG1hY2hpbmVDb2Rlcz8ubWFwKG1jID0+IFttYy5saW5lYXJfbWF0ZXJpYWxfaWQsIG1jLm1hY2hpbmVfY29kZV0pIHx8IFtdXG4gIClcblxuICAvLyBUcmFuc2Zvcm0gZGF0YSB0byBpbmNsdWRlIG1hY2hpbmUgY29kZXNcbiAgY29uc3QgdHJhbnNmb3JtZWREYXRhID0gZGF0YT8ubWFwKGxtID0+ICh7XG4gICAgLi4ubG0sXG4gICAgbWFjaGluZV9jb2RlOiBtYWNoaW5lQ29kZU1hcC5nZXQobG0uaWQpIHx8ICcnLFxuICAgIGJyYW5kX25hbWU6IGxtLmJyYW5kcz8ubmFtZSB8fCAnJyxcbiAgICBjdXJyZW5jeV9jb2RlOiBsbS5jdXJyZW5jaWVzPy5uYW1lIHx8ICcnLFxuICAgIGN1cnJlbmN5X25hbWU6IGxtLmN1cnJlbmNpZXM/Lm5hbWUgfHwgJycsXG4gICAgdmF0X25hbWU6IGxtLnZhdD8ubmFtZSB8fCAnJyxcbiAgICB2YXRfcGVyY2VudDogbG0udmF0Py5rdWxjcyB8fCAwXG4gIH0pKSB8fCBbXVxuXG4gIGxvZ1RpbWluZygnTGluZWFyIE1hdGVyaWFscyBUb3RhbCcsIHN0YXJ0VGltZSwgYHJldHVybmVkICR7dHJhbnNmb3JtZWREYXRhLmxlbmd0aH0gcmVjb3Jkc2ApXG4gIFxuICByZXR1cm4gdHJhbnNmb3JtZWREYXRhXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRMaW5lYXJNYXRlcmlhbEJ5SWQoaWQ6IHN0cmluZykge1xuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVNlcnZlclxuICAgIC5mcm9tKCdsaW5lYXJfbWF0ZXJpYWxzJylcbiAgICAuc2VsZWN0KGBcbiAgICAgIGlkLFxuICAgICAgYnJhbmRfaWQsXG4gICAgICBuYW1lLFxuICAgICAgd2lkdGgsXG4gICAgICBsZW5ndGgsXG4gICAgICB0aGlja25lc3MsXG4gICAgICB0eXBlLFxuICAgICAgaW1hZ2VfdXJsLFxuICAgICAgYmFzZV9wcmljZSxcbiAgICAgIG11bHRpcGxpZXIsXG4gICAgICBwcmljZV9wZXJfbSxcbiAgICAgIHBhcnRuZXJzX2lkLFxuICAgICAgdW5pdHNfaWQsXG4gICAgICBjdXJyZW5jeV9pZCxcbiAgICAgIHZhdF9pZCxcbiAgICAgIG9uX3N0b2NrLFxuICAgICAgYWN0aXZlLFxuICAgICAgY3JlYXRlZF9hdCxcbiAgICAgIHVwZGF0ZWRfYXQsXG4gICAgICBicmFuZHMgKFxuICAgICAgICBuYW1lXG4gICAgICApLFxuICAgICAgY3VycmVuY2llcyAoXG4gICAgICAgIG5hbWVcbiAgICAgICksXG4gICAgICB2YXQgKFxuICAgICAgICBuYW1lLFxuICAgICAgICBrdWxjc1xuICAgICAgKVxuICAgIGApXG4gICAgLmVxKCdpZCcsIGlkKVxuICAgIC5pcygnZGVsZXRlZF9hdCcsIG51bGwpXG4gICAgLnNpbmdsZSgpXG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgbGluZWFyIG1hdGVyaWFsOicsIGVycm9yKVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICAvLyBGZXRjaCBtYWNoaW5lIGNvZGVcbiAgY29uc3QgeyBkYXRhOiBtYWNoaW5lRGF0YSB9ID0gYXdhaXQgc3VwYWJhc2VTZXJ2ZXJcbiAgICAuZnJvbSgnbWFjaGluZV9saW5lYXJfbWF0ZXJpYWxfbWFwJylcbiAgICAuc2VsZWN0KCdtYWNoaW5lX2NvZGUnKVxuICAgIC5lcSgnbGluZWFyX21hdGVyaWFsX2lkJywgaWQpXG4gICAgLmVxKCdtYWNoaW5lX3R5cGUnLCAnS29ycHVzJylcbiAgICAuc2luZ2xlKClcblxuICByZXR1cm4ge1xuICAgIC4uLmRhdGEsXG4gICAgbWFjaGluZV9jb2RlOiBtYWNoaW5lRGF0YT8ubWFjaGluZV9jb2RlIHx8ICcnXG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbEJyYW5kc0ZvckxpbmVhck1hdGVyaWFscygpIHtcbiAgY29uc3QgeyBkYXRhLCBlcnJvcn0gPSBhd2FpdCBzdXBhYmFzZVNlcnZlclxuICAgIC5mcm9tKCdicmFuZHMnKVxuICAgIC5zZWxlY3QoJ2lkLCBuYW1lJylcbiAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKVxuICAgIC5vcmRlcignbmFtZScsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYnJhbmRzIGZvciBsaW5lYXIgbWF0ZXJpYWxzOicsIGVycm9yKVxuICAgIHJldHVybiBbXVxuICB9XG5cbiAgcmV0dXJuIGRhdGEgfHwgW11cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbFZhdFJhdGVzRm9yTGluZWFyTWF0ZXJpYWxzKCkge1xuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVNlcnZlclxuICAgIC5mcm9tKCd2YXQnKVxuICAgIC5zZWxlY3QoJ2lkLCBuYW1lLCBrdWxjcycpXG4gICAgLmlzKCdkZWxldGVkX2F0JywgbnVsbClcbiAgICAub3JkZXIoJ25hbWUnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KVxuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIFZBVCByYXRlcyBmb3IgbGluZWFyIG1hdGVyaWFsczonLCBlcnJvcilcbiAgICByZXR1cm4gW11cbiAgfVxuXG4gIHJldHVybiBkYXRhIHx8IFtdXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxDdXJyZW5jaWVzRm9yTGluZWFyTWF0ZXJpYWxzKCkge1xuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVNlcnZlclxuICAgIC5mcm9tKCdjdXJyZW5jaWVzJylcbiAgICAuc2VsZWN0KCdpZCwgbmFtZScpXG4gICAgLmlzKCdkZWxldGVkX2F0JywgbnVsbClcbiAgICAub3JkZXIoJ25hbWUnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KVxuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGN1cnJlbmNpZXMgZm9yIGxpbmVhciBtYXRlcmlhbHM6JywgZXJyb3IpXG4gICAgcmV0dXJuIFtdXG4gIH1cblxuICByZXR1cm4gZGF0YSB8fCBbXVxufVxuXG4vLyBDb21wYW5pZXMgU1NSIGZ1bmN0aW9uc1xuLy8gUGFydG5lcnMgU1NSIGZ1bmN0aW9uc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFBhcnRuZXJCeUlkKGlkOiBzdHJpbmcpIHtcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VTZXJ2ZXJcbiAgICAuZnJvbSgncGFydG5lcnMnKVxuICAgIC5zZWxlY3QoYFxuICAgICAgaWQsXG4gICAgICBuYW1lLFxuICAgICAgY291bnRyeSxcbiAgICAgIHBvc3RhbF9jb2RlLFxuICAgICAgY2l0eSxcbiAgICAgIGFkZHJlc3MsXG4gICAgICBtb2JpbGUsXG4gICAgICBlbWFpbCxcbiAgICAgIHRheF9udW1iZXIsXG4gICAgICBjb21wYW55X3JlZ2lzdHJhdGlvbl9udW1iZXIsXG4gICAgICBiYW5rX2FjY291bnQsXG4gICAgICBub3RlcyxcbiAgICAgIHN0YXR1cyxcbiAgICAgIGNvbnRhY3RfcGVyc29uLFxuICAgICAgdmF0X2lkLFxuICAgICAgY3VycmVuY3lfaWQsXG4gICAgICBwYXltZW50X3Rlcm1zLFxuICAgICAgY3JlYXRlZF9hdCxcbiAgICAgIHVwZGF0ZWRfYXRcbiAgICBgKVxuICAgIC5lcSgnaWQnLCBpZClcbiAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKVxuICAgIC5zaW5nbGUoKVxuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHBhcnRuZXI6JywgZXJyb3IpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiBkYXRhXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxQYXJ0bmVycygpIHtcbiAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlU2VydmVyXG4gICAgLmZyb20oJ3BhcnRuZXJzJylcbiAgICAuc2VsZWN0KGBcbiAgICAgIGlkLFxuICAgICAgbmFtZSxcbiAgICAgIGNvdW50cnksXG4gICAgICBwb3N0YWxfY29kZSxcbiAgICAgIGNpdHksXG4gICAgICBhZGRyZXNzLFxuICAgICAgbW9iaWxlLFxuICAgICAgZW1haWwsXG4gICAgICB0YXhfbnVtYmVyLFxuICAgICAgY29tcGFueV9yZWdpc3RyYXRpb25fbnVtYmVyLFxuICAgICAgYmFua19hY2NvdW50LFxuICAgICAgbm90ZXMsXG4gICAgICBzdGF0dXMsXG4gICAgICBjb250YWN0X3BlcnNvbixcbiAgICAgIHZhdF9pZCxcbiAgICAgIGN1cnJlbmN5X2lkLFxuICAgICAgcGF5bWVudF90ZXJtcyxcbiAgICAgIGNyZWF0ZWRfYXQsXG4gICAgICB1cGRhdGVkX2F0XG4gICAgYClcbiAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKVxuICAgIC5vcmRlcignbmFtZScsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXG5cbiAgY29uc3QgcXVlcnlUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgbG9nVGltaW5nKCdQYXJ0bmVycyBEQiBRdWVyeScsIHN0YXJ0VGltZSwgYGZldGNoZWQgJHtkYXRhPy5sZW5ndGggfHwgMH0gcmVjb3Jkc2ApXG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcGFydG5lcnM6JywgZXJyb3IpXG4gICAgcmV0dXJuIFtdXG4gIH1cblxuICBsb2dUaW1pbmcoJ1BhcnRuZXJzIFRvdGFsJywgc3RhcnRUaW1lLCBgcmV0dXJuZWQgJHtkYXRhPy5sZW5ndGggfHwgMH0gcmVjb3Jkc2ApXG4gIHJldHVybiBkYXRhIHx8IFtdXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxWYXRSYXRlc0ZvclBhcnRuZXJzKCkge1xuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVNlcnZlclxuICAgIC5mcm9tKCd2YXQnKVxuICAgIC5zZWxlY3QoJ2lkLCBuYW1lLCBrdWxjcywgY3JlYXRlZF9hdCwgdXBkYXRlZF9hdCcpXG4gICAgLmlzKCdkZWxldGVkX2F0JywgbnVsbClcbiAgICAub3JkZXIoJ25hbWUnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KVxuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIFZBVCByYXRlcyBmb3IgcGFydG5lcnM6JywgZXJyb3IpXG4gICAgcmV0dXJuIFtdXG4gIH1cblxuICByZXR1cm4gZGF0YSB8fCBbXVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWxsQ3VycmVuY2llc0ZvclBhcnRuZXJzKCkge1xuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVNlcnZlclxuICAgIC5mcm9tKCdjdXJyZW5jaWVzJylcbiAgICAuc2VsZWN0KCdpZCwgbmFtZSwgcmF0ZSwgY3JlYXRlZF9hdCwgdXBkYXRlZF9hdCcpXG4gICAgLmlzKCdkZWxldGVkX2F0JywgbnVsbClcbiAgICAub3JkZXIoJ25hbWUnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KVxuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGN1cnJlbmNpZXMgZm9yIHBhcnRuZXJzOicsIGVycm9yKVxuICAgIHJldHVybiBbXVxuICB9XG5cbiAgcmV0dXJuIGRhdGEgfHwgW11cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnlCeUlkKGlkOiBzdHJpbmcpIHtcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VTZXJ2ZXJcbiAgICAuZnJvbSgndGVuYW50X2NvbXBhbnknKVxuICAgIC5zZWxlY3QoYFxuICAgICAgaWQsXG4gICAgICBuYW1lLFxuICAgICAgY291bnRyeSxcbiAgICAgIHBvc3RhbF9jb2RlLFxuICAgICAgY2l0eSxcbiAgICAgIGFkZHJlc3MsXG4gICAgICBwaG9uZV9udW1iZXIsXG4gICAgICBlbWFpbCxcbiAgICAgIHdlYnNpdGUsXG4gICAgICB0YXhfbnVtYmVyLFxuICAgICAgY29tcGFueV9yZWdpc3RyYXRpb25fbnVtYmVyLFxuICAgICAgdmF0X2lkLFxuICAgICAgY3JlYXRlZF9hdCxcbiAgICAgIHVwZGF0ZWRfYXRcbiAgICBgKVxuICAgIC5lcSgnaWQnLCBpZClcbiAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKVxuICAgIC5zaW5nbGUoKVxuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGNvbXBhbnk6JywgZXJyb3IpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiBkYXRhXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxDb21wYW5pZXMoKSB7XG4gIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gIFxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVNlcnZlclxuICAgIC5mcm9tKCd0ZW5hbnRfY29tcGFueScpXG4gICAgLnNlbGVjdChgXG4gICAgICBpZCxcbiAgICAgIG5hbWUsXG4gICAgICBjb3VudHJ5LFxuICAgICAgcG9zdGFsX2NvZGUsXG4gICAgICBjaXR5LFxuICAgICAgYWRkcmVzcyxcbiAgICAgIHBob25lX251bWJlcixcbiAgICAgIGVtYWlsLFxuICAgICAgd2Vic2l0ZSxcbiAgICAgIHRheF9udW1iZXIsXG4gICAgICBjb21wYW55X3JlZ2lzdHJhdGlvbl9udW1iZXIsXG4gICAgICB2YXRfaWQsXG4gICAgICBjcmVhdGVkX2F0LFxuICAgICAgdXBkYXRlZF9hdFxuICAgIGApXG4gICAgLmlzKCdkZWxldGVkX2F0JywgbnVsbClcbiAgICAub3JkZXIoJ25hbWUnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KVxuXG4gIGNvbnN0IHF1ZXJ5VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gIGxvZ1RpbWluZygnQ29tcGFuaWVzIERCIFF1ZXJ5Jywgc3RhcnRUaW1lLCBgZmV0Y2hlZCAke2RhdGE/Lmxlbmd0aCB8fCAwfSByZWNvcmRzYClcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBjb21wYW5pZXM6JywgZXJyb3IpXG4gICAgcmV0dXJuIFtdXG4gIH1cblxuICBsb2dUaW1pbmcoJ0NvbXBhbmllcyBUb3RhbCcsIHN0YXJ0VGltZSwgYHJldHVybmVkICR7ZGF0YT8ubGVuZ3RoIHx8IDB9IHJlY29yZHNgKVxuICByZXR1cm4gZGF0YSB8fCBbXVxufVxuXG4vLyBHZXQgdGVuYW50IGNvbXBhbnkgKGZvciBkZWZhdWx0IGVtYWlsIGluIGN1c3RvbWVyIGF1dG8tY3JlYXRpb24gYW5kIHF1b3RlIGRpc3BsYXkpXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VGVuYW50Q29tcGFueSgpIHtcbiAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlU2VydmVyXG4gICAgLmZyb20oJ3RlbmFudF9jb21wYW55JylcbiAgICAuc2VsZWN0KCdpZCwgbmFtZSwgY291bnRyeSwgcG9zdGFsX2NvZGUsIGNpdHksIGFkZHJlc3MsIHBob25lX251bWJlciwgZW1haWwsIHdlYnNpdGUsIHRheF9udW1iZXIsIGNvbXBhbnlfcmVnaXN0cmF0aW9uX251bWJlciwgdmF0X2lkJylcbiAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKVxuICAgIC5saW1pdCgxKVxuICAgIC5zaW5nbGUoKVxuXG4gIGNvbnN0IHF1ZXJ5VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gIGxvZ1RpbWluZygnVGVuYW50IENvbXBhbnkgREIgUXVlcnknLCBzdGFydFRpbWUsIGBmZXRjaGVkICR7ZGF0YSA/IDEgOiAwfSByZWNvcmRzYClcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB0ZW5hbnQgY29tcGFueTonLCBlcnJvcilcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgbG9nVGltaW5nKCdUZW5hbnQgQ29tcGFueSBUb3RhbCcsIHN0YXJ0VGltZSwgYHJldHVybmVkICR7ZGF0YSA/IDEgOiAwfSByZWNvcmRzYClcbiAgcmV0dXJuIGRhdGFcbn1cblxuLy8gTWVkaWEgZmlsZXMgU1NSIGZ1bmN0aW9uXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWxsTWVkaWFGaWxlcygpIHtcbiAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlU2VydmVyXG4gICAgLmZyb20oJ21lZGlhX2ZpbGVzJylcbiAgICAuc2VsZWN0KCcqJylcbiAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAubGltaXQoMTAwMClcblxuICBjb25zdCBxdWVyeVRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKVxuICBsb2dUaW1pbmcoJ01lZGlhIEZpbGVzIERCIFF1ZXJ5Jywgc3RhcnRUaW1lLCBgZmV0Y2hlZCAke2RhdGE/Lmxlbmd0aCB8fCAwfSByZWNvcmRzYClcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBtZWRpYSBmaWxlczonLCBlcnJvcilcbiAgICByZXR1cm4gW11cbiAgfVxuXG4gIC8vIFRyYW5zZm9ybSB0byBtYXRjaCBleHBlY3RlZCBmb3JtYXRcbiAgY29uc3QgdHJhbnNmb3JtZWRGaWxlcyA9IGRhdGE/Lm1hcChmaWxlID0+ICh7XG4gICAgaWQ6IGZpbGUuaWQsXG4gICAgbmFtZTogZmlsZS5vcmlnaW5hbF9maWxlbmFtZSwgIC8vIFNob3cgb3JpZ2luYWwgZmlsZW5hbWVcbiAgICBzdG9yZWROYW1lOiBmaWxlLnN0b3JlZF9maWxlbmFtZSwgIC8vIEluY2x1ZGUgc3RvcmVkIG5hbWUgZm9yIHJlZmVyZW5jZVxuICAgIHBhdGg6IGZpbGUuc3RvcmFnZV9wYXRoLFxuICAgIGZ1bGxVcmw6IGZpbGUuZnVsbF91cmwsXG4gICAgc2l6ZTogZmlsZS5zaXplLFxuICAgIGNyZWF0ZWRfYXQ6IGZpbGUuY3JlYXRlZF9hdCxcbiAgICB1cGRhdGVkX2F0OiBmaWxlLnVwZGF0ZWRfYXRcbiAgfSkpIHx8IFtdXG5cbiAgbG9nVGltaW5nKCdNZWRpYSBGaWxlcyBUb3RhbCcsIHN0YXJ0VGltZSwgYHJldHVybmVkICR7dHJhbnNmb3JtZWRGaWxlcy5sZW5ndGh9IHJlY29yZHNgKVxuICByZXR1cm4gdHJhbnNmb3JtZWRGaWxlc1xufVxuXG4vLyBHZXQgc2luZ2xlIHF1b3RlIGJ5IElEIHdpdGggYWxsIGRhdGEgKGZvciBlZGl0aW5nKVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFF1b3RlQnlJZChxdW90ZUlkOiBzdHJpbmcpIHtcbiAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgXG4gIGNvbnNvbGUubG9nKGBbU1NSXSBGZXRjaGluZyBxdW90ZSAke3F1b3RlSWR9IC0gT1BUSU1JWkVEYClcblxuICB0cnkge1xuICAgIC8vIE9QVElNSVpBVElPTjogRmV0Y2ggYWxsIGRhdGEgaW4gcGFyYWxsZWwgaW5zdGVhZCBvZiBzZXF1ZW50aWFsXG4gICAgY29uc3QgcGFyYWxsZWxTdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKVxuICAgIFxuICAgIGNvbnN0IFtxdW90ZVJlc3VsdCwgcGFuZWxzUmVzdWx0LCBwcmljaW5nUmVzdWx0LCBmZWVzUmVzdWx0LCBhY2Nlc3Nvcmllc1Jlc3VsdCwgdGVuYW50Q29tcGFueSwgcGF5bWVudHNSZXN1bHRdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgLy8gMS4gUXVvdGUgd2l0aCBjdXN0b21lciBkYXRhIGFuZCBwcm9kdWN0aW9uIG1hY2hpbmVcbiAgICAgIHN1cGFiYXNlU2VydmVyXG4gICAgICAgIC5mcm9tKCdxdW90ZXMnKVxuICAgICAgICAuc2VsZWN0KGBcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBxdW90ZV9udW1iZXIsXG4gICAgICAgICAgb3JkZXJfbnVtYmVyLFxuICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICBwYXltZW50X3N0YXR1cyxcbiAgICAgICAgICBjdXN0b21lcl9pZCxcbiAgICAgICAgICBkaXNjb3VudF9wZXJjZW50LFxuICAgICAgICAgIHByb2R1Y3Rpb25fbWFjaGluZV9pZCxcbiAgICAgICAgICBwcm9kdWN0aW9uX2RhdGUsXG4gICAgICAgICAgYmFyY29kZSxcbiAgICAgICAgICB0b3RhbF9uZXQsXG4gICAgICAgICAgdG90YWxfdmF0LFxuICAgICAgICAgIHRvdGFsX2dyb3NzLFxuICAgICAgICAgIGZpbmFsX3RvdGFsX2FmdGVyX2Rpc2NvdW50LFxuICAgICAgICAgIGZlZXNfdG90YWxfbmV0LFxuICAgICAgICAgIGZlZXNfdG90YWxfdmF0LFxuICAgICAgICAgIGZlZXNfdG90YWxfZ3Jvc3MsXG4gICAgICAgICAgYWNjZXNzb3JpZXNfdG90YWxfbmV0LFxuICAgICAgICAgIGFjY2Vzc29yaWVzX3RvdGFsX3ZhdCxcbiAgICAgICAgICBhY2Nlc3Nvcmllc190b3RhbF9ncm9zcyxcbiAgICAgICAgICBjcmVhdGVkX2F0LFxuICAgICAgICAgIHVwZGF0ZWRfYXQsXG4gICAgICAgICAgY3VzdG9tZXJzKFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgZW1haWwsXG4gICAgICAgICAgICBtb2JpbGUsXG4gICAgICAgICAgICBkaXNjb3VudF9wZXJjZW50LFxuICAgICAgICAgICAgYmlsbGluZ19uYW1lLFxuICAgICAgICAgICAgYmlsbGluZ19jb3VudHJ5LFxuICAgICAgICAgICAgYmlsbGluZ19jaXR5LFxuICAgICAgICAgICAgYmlsbGluZ19wb3N0YWxfY29kZSxcbiAgICAgICAgICAgIGJpbGxpbmdfc3RyZWV0LFxuICAgICAgICAgICAgYmlsbGluZ19ob3VzZV9udW1iZXIsXG4gICAgICAgICAgICBiaWxsaW5nX3RheF9udW1iZXIsXG4gICAgICAgICAgICBiaWxsaW5nX2NvbXBhbnlfcmVnX251bWJlclxuICAgICAgICAgICksXG4gICAgICAgICAgcHJvZHVjdGlvbl9tYWNoaW5lcyhcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgbWFjaGluZV9uYW1lXG4gICAgICAgICAgKVxuICAgICAgICBgKVxuICAgICAgICAuZXEoJ2lkJywgcXVvdGVJZClcbiAgICAgICAgLmlzKCdkZWxldGVkX2F0JywgbnVsbClcbiAgICAgICAgLnNpbmdsZSgpLFxuXG4gICAgICAvLyAyLiBQYW5lbHMgd2l0aCBtYXRlcmlhbHNcbiAgICAgIHN1cGFiYXNlU2VydmVyXG4gICAgICAgIC5mcm9tKCdxdW90ZV9wYW5lbHMnKVxuICAgICAgICAuc2VsZWN0KGBcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBtYXRlcmlhbF9pZCxcbiAgICAgICAgICB3aWR0aF9tbSxcbiAgICAgICAgICBoZWlnaHRfbW0sXG4gICAgICAgICAgcXVhbnRpdHksXG4gICAgICAgICAgbGFiZWwsXG4gICAgICAgICAgZWRnZV9tYXRlcmlhbF9hX2lkLFxuICAgICAgICAgIGVkZ2VfbWF0ZXJpYWxfYl9pZCxcbiAgICAgICAgICBlZGdlX21hdGVyaWFsX2NfaWQsXG4gICAgICAgICAgZWRnZV9tYXRlcmlhbF9kX2lkLFxuICAgICAgICAgIHBhbnRoZWx5ZnVyYXNfcXVhbnRpdHksXG4gICAgICAgICAgcGFudGhlbHlmdXJhc19vbGRhbCxcbiAgICAgICAgICBkdXBsdW5nb2xhcyxcbiAgICAgICAgICBzem9ndmFnYXMsXG4gICAgICAgICAgbWF0ZXJpYWxzKGlkLCBuYW1lLCBicmFuZF9pZCwgbGVuZ3RoX21tLCB3aWR0aF9tbSwgYnJhbmRzKG5hbWUpKVxuICAgICAgICBgKVxuICAgICAgICAuZXEoJ3F1b3RlX2lkJywgcXVvdGVJZClcbiAgICAgICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IHRydWUgfSksXG5cbiAgICAgIC8vIDMuIFByaWNpbmcgd2l0aCBicmVha2Rvd25zXG4gICAgICBzdXBhYmFzZVNlcnZlclxuICAgICAgICAuZnJvbSgncXVvdGVfbWF0ZXJpYWxzX3ByaWNpbmcnKVxuICAgICAgICAuc2VsZWN0KGBcbiAgICAgICAgICBpZCwgbWF0ZXJpYWxfaWQsIG1hdGVyaWFsX25hbWUsIGJvYXJkX3dpZHRoX21tLCBib2FyZF9sZW5ndGhfbW0sIHRoaWNrbmVzc19tbSwgZ3JhaW5fZGlyZWN0aW9uLFxuICAgICAgICAgIG9uX3N0b2NrLCBib2FyZHNfdXNlZCwgdXNhZ2VfcGVyY2VudGFnZSwgcHJpY2luZ19tZXRob2QsIGNoYXJnZWRfc3FtLFxuICAgICAgICAgIHByaWNlX3Blcl9zcW0sIHZhdF9yYXRlLCBjdXJyZW5jeSwgdXNhZ2VfbGltaXQsIHdhc3RlX211bHRpLFxuICAgICAgICAgIG1hdGVyaWFsX25ldCwgbWF0ZXJpYWxfdmF0LCBtYXRlcmlhbF9ncm9zcyxcbiAgICAgICAgICBlZGdlX21hdGVyaWFsc19uZXQsIGVkZ2VfbWF0ZXJpYWxzX3ZhdCwgZWRnZV9tYXRlcmlhbHNfZ3Jvc3MsXG4gICAgICAgICAgY3V0dGluZ19sZW5ndGhfbSwgY3V0dGluZ19uZXQsIGN1dHRpbmdfdmF0LCBjdXR0aW5nX2dyb3NzLFxuICAgICAgICAgIHNlcnZpY2VzX25ldCwgc2VydmljZXNfdmF0LCBzZXJ2aWNlc19ncm9zcyxcbiAgICAgICAgICB0b3RhbF9uZXQsIHRvdGFsX3ZhdCwgdG90YWxfZ3Jvc3MsXG4gICAgICAgICAgbWF0ZXJpYWxzKGlkLCBuYW1lLCBicmFuZHMobmFtZSkpLFxuICAgICAgICAgIHF1b3RlX2VkZ2VfbWF0ZXJpYWxzX2JyZWFrZG93bihcbiAgICAgICAgICAgIGlkLCBlZGdlX21hdGVyaWFsX2lkLCBlZGdlX21hdGVyaWFsX25hbWUsIHRvdGFsX2xlbmd0aF9tLCBwcmljZV9wZXJfbSxcbiAgICAgICAgICAgIG5ldF9wcmljZSwgdmF0X2Ftb3VudCwgZ3Jvc3NfcHJpY2VcbiAgICAgICAgICApLFxuICAgICAgICAgIHF1b3RlX3NlcnZpY2VzX2JyZWFrZG93bihcbiAgICAgICAgICAgIGlkLCBzZXJ2aWNlX3R5cGUsIHF1YW50aXR5LCB1bml0X3ByaWNlLCBuZXRfcHJpY2UsIHZhdF9hbW91bnQsIGdyb3NzX3ByaWNlXG4gICAgICAgICAgKVxuICAgICAgICBgKVxuICAgICAgICAuZXEoJ3F1b3RlX2lkJywgcXVvdGVJZClcbiAgICAgICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IHRydWUgfSksXG5cbiAgICAgIC8vIDQuIEZlZXNcbiAgICAgIHN1cGFiYXNlU2VydmVyXG4gICAgICAgIC5mcm9tKCdxdW90ZV9mZWVzJylcbiAgICAgICAgLnNlbGVjdChgXG4gICAgICAgICAgaWQsIGZlZV9uYW1lLCBxdWFudGl0eSwgdW5pdF9wcmljZV9uZXQsIHZhdF9yYXRlLCB2YXRfYW1vdW50LCBncm9zc19wcmljZSwgY3VycmVuY3lfaWQsIGNvbW1lbnQsXG4gICAgICAgICAgY3JlYXRlZF9hdCxcbiAgICAgICAgICBmZWV0eXBlcyhpZCwgbmFtZSksXG4gICAgICAgICAgY3VycmVuY2llcyhpZCwgbmFtZSlcbiAgICAgICAgYClcbiAgICAgICAgLmVxKCdxdW90ZV9pZCcsIHF1b3RlSWQpXG4gICAgICAgIC5pcygnZGVsZXRlZF9hdCcsIG51bGwpXG4gICAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pLFxuXG4gICAgICAvLyA1LiBBY2Nlc3Nvcmllc1xuICAgICAgc3VwYWJhc2VTZXJ2ZXJcbiAgICAgICAgLmZyb20oJ3F1b3RlX2FjY2Vzc29yaWVzJylcbiAgICAgICAgLnNlbGVjdChgXG4gICAgICAgICAgaWQsIGFjY2Vzc29yeV9uYW1lLCBza3UsIHF1YW50aXR5LCB1bml0X3ByaWNlX25ldCwgdmF0X3JhdGUsIHVuaXRfbmFtZSwgY3VycmVuY3lfaWQsXG4gICAgICAgICAgdG90YWxfbmV0LCB0b3RhbF92YXQsIHRvdGFsX2dyb3NzLCBjcmVhdGVkX2F0LFxuICAgICAgICAgIGFjY2Vzc29yaWVzKGlkLCBuYW1lLCBza3UpLFxuICAgICAgICAgIHVuaXRzKGlkLCBuYW1lLCBzaG9ydGZvcm0pLFxuICAgICAgICAgIGN1cnJlbmNpZXMoaWQsIG5hbWUpXG4gICAgICAgIGApXG4gICAgICAgIC5lcSgncXVvdGVfaWQnLCBxdW90ZUlkKVxuICAgICAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKVxuICAgICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KSxcblxuICAgICAgLy8gNi4gVGVuYW50IGNvbXBhbnlcbiAgICAgIGdldFRlbmFudENvbXBhbnkoKSxcblxuICAgICAgLy8gNy4gUGF5bWVudHMgKGZvciBvcmRlcnMpXG4gICAgICBzdXBhYmFzZVNlcnZlclxuICAgICAgICAuZnJvbSgncXVvdGVfcGF5bWVudHMnKVxuICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgLmVxKCdxdW90ZV9pZCcsIHF1b3RlSWQpXG4gICAgICAgIC5pcygnZGVsZXRlZF9hdCcsIG51bGwpXG4gICAgICAgIC5vcmRlcigncGF5bWVudF9kYXRlJywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG4gICAgXSlcblxuICAgIGxvZ1RpbWluZygnUGFyYWxsZWwgUXVlcmllcyBDb21wbGV0ZScsIHBhcmFsbGVsU3RhcnRUaW1lLCAnYWxsIDcgcXVlcmllcyBleGVjdXRlZCBpbiBwYXJhbGxlbCcpXG5cbiAgICAvLyBFeHRyYWN0IGRhdGEgYW5kIGVycm9ycyBmcm9tIHJlc3VsdHNcbiAgICBjb25zdCB7IGRhdGE6IHF1b3RlLCBlcnJvcjogcXVvdGVFcnJvciB9ID0gcXVvdGVSZXN1bHRcbiAgICBjb25zdCB7IGRhdGE6IHBhbmVscywgZXJyb3I6IHBhbmVsc0Vycm9yIH0gPSBwYW5lbHNSZXN1bHRcbiAgICBjb25zdCB7IGRhdGE6IHByaWNpbmdEYXRhLCBlcnJvcjogcHJpY2luZ0Vycm9yIH0gPSBwcmljaW5nUmVzdWx0XG4gICAgY29uc3QgeyBkYXRhOiBmZWVzLCBlcnJvcjogZmVlc0Vycm9yIH0gPSBmZWVzUmVzdWx0XG4gICAgY29uc3QgeyBkYXRhOiBhY2Nlc3NvcmllcywgZXJyb3I6IGFjY2Vzc29yaWVzRXJyb3IgfSA9IGFjY2Vzc29yaWVzUmVzdWx0XG4gICAgY29uc3QgeyBkYXRhOiBwYXltZW50cywgZXJyb3I6IHBheW1lbnRzRXJyb3IgfSA9IHBheW1lbnRzUmVzdWx0XG5cbiAgICAvLyBIYW5kbGUgZXJyb3JzXG4gICAgaWYgKHF1b3RlRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tTU1JdIEVycm9yIGZldGNoaW5nIHF1b3RlOicsIHF1b3RlRXJyb3IpXG4gICAgICBsb2dUaW1pbmcoJ1F1b3RlIEZldGNoIEZhaWxlZCcsIHN0YXJ0VGltZSlcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgaWYgKCFxdW90ZSkge1xuICAgICAgY29uc29sZS5lcnJvcignW1NTUl0gUXVvdGUgbm90IGZvdW5kOicsIHF1b3RlSWQpXG4gICAgICBsb2dUaW1pbmcoJ1F1b3RlIE5vdCBGb3VuZCcsIHN0YXJ0VGltZSlcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgaWYgKHBhbmVsc0Vycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbU1NSXSBFcnJvciBmZXRjaGluZyBwYW5lbHM6JywgcGFuZWxzRXJyb3IpXG4gICAgfVxuXG4gICAgaWYgKHByaWNpbmdFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW1NTUl0gRXJyb3IgZmV0Y2hpbmcgcHJpY2luZzonLCBwcmljaW5nRXJyb3IpXG4gICAgICBjb25zb2xlLmxvZygnW1NTUl0gQ29udGludWluZyB3aXRob3V0IHByaWNpbmcgZGF0YS4uLicpXG4gICAgfVxuXG4gICAgaWYgKGZlZXNFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW1NTUl0gRXJyb3IgZmV0Y2hpbmcgZmVlczonLCBmZWVzRXJyb3IpXG4gICAgfVxuXG4gICAgaWYgKGFjY2Vzc29yaWVzRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tTU1JdIEVycm9yIGZldGNoaW5nIGFjY2Vzc29yaWVzOicsIGFjY2Vzc29yaWVzRXJyb3IpXG4gICAgfVxuXG4gICAgLy8gTG9nIGluZGl2aWR1YWwgcXVlcnkgcmVzdWx0cyBmb3IgZGVidWdnaW5nXG4gICAgY29uc29sZS5sb2coYFtQRVJGXSBRdW90ZSBkYXRhOiAke3F1b3RlID8gJ09LJyA6ICdNSVNTSU5HJ31gKVxuICAgIGNvbnNvbGUubG9nKGBbUEVSRl0gUGFuZWxzOiAke3BhbmVscz8ubGVuZ3RoIHx8IDB9IHJlY29yZHNgKVxuICAgIGNvbnNvbGUubG9nKGBbUEVSRl0gUHJpY2luZzogJHtwcmljaW5nRGF0YT8ubGVuZ3RoIHx8IDB9IHJlY29yZHNgKVxuICAgIGNvbnNvbGUubG9nKGBbUEVSRl0gRmVlczogJHtmZWVzPy5sZW5ndGggfHwgMH0gcmVjb3Jkc2ApXG4gICAgY29uc29sZS5sb2coYFtQRVJGXSBBY2Nlc3NvcmllczogJHthY2Nlc3Nvcmllcz8ubGVuZ3RoIHx8IDB9IHJlY29yZHNgKVxuICAgIGNvbnNvbGUubG9nKGBbUEVSRl0gUGF5bWVudHM6ICR7cGF5bWVudHM/Lmxlbmd0aCB8fCAwfSByZWNvcmRzYClcbiAgICBjb25zb2xlLmxvZyhgW1BFUkZdIENvbXBhbnk6ICR7dGVuYW50Q29tcGFueSA/ICdPSycgOiAnTUlTU0lORyd9YClcblxuICAgIC8vIEZldGNoIG1hY2hpbmUgY29kZXMgZm9yIHBhbmVscyAoZm9yIGN1dHRpbmcgbGlzdClcbiAgICBjb25zdCBtYXRlcmlhbElkcyA9IHBhbmVscz8ubWFwKHAgPT4gcC5tYXRlcmlhbF9pZCkgfHwgW11cbiAgICBjb25zdCBlZGdlTWF0ZXJpYWxJZHMgPSBwYW5lbHM/LmZsYXRNYXAocCA9PiBbXG4gICAgICBwLmVkZ2VfbWF0ZXJpYWxfYV9pZCxcbiAgICAgIHAuZWRnZV9tYXRlcmlhbF9iX2lkLFxuICAgICAgcC5lZGdlX21hdGVyaWFsX2NfaWQsXG4gICAgICBwLmVkZ2VfbWF0ZXJpYWxfZF9pZFxuICAgIF0uZmlsdGVyKEJvb2xlYW4pKSB8fCBbXVxuXG4gICAgY29uc3QgbWFjaGluZUNvZGVzU3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgICBjb25zdCBbbWF0ZXJpYWxNYXBzLCBlZGdlTWF0ZXJpYWxNYXBzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIG1hdGVyaWFsSWRzLmxlbmd0aCA+IDAgPyBzdXBhYmFzZVNlcnZlclxuICAgICAgICAuZnJvbSgnbWFjaGluZV9tYXRlcmlhbF9tYXAnKVxuICAgICAgICAuc2VsZWN0KCdtYXRlcmlhbF9pZCwgbWFjaGluZV9jb2RlJylcbiAgICAgICAgLmluKCdtYXRlcmlhbF9pZCcsIG1hdGVyaWFsSWRzKVxuICAgICAgICAuZXEoJ21hY2hpbmVfdHlwZScsICdLb3JwdXMnKSA6IFByb21pc2UucmVzb2x2ZSh7IGRhdGE6IFtdIH0pLFxuICAgICAgXG4gICAgICBlZGdlTWF0ZXJpYWxJZHMubGVuZ3RoID4gMCA/IHN1cGFiYXNlU2VydmVyXG4gICAgICAgIC5mcm9tKCdtYWNoaW5lX2VkZ2VfbWF0ZXJpYWxfbWFwJylcbiAgICAgICAgLnNlbGVjdCgnZWRnZV9tYXRlcmlhbF9pZCwgbWFjaGluZV9jb2RlJylcbiAgICAgICAgLmluKCdlZGdlX21hdGVyaWFsX2lkJywgZWRnZU1hdGVyaWFsSWRzKVxuICAgICAgICAuZXEoJ21hY2hpbmVfdHlwZScsICdLb3JwdXMnKSA6IFByb21pc2UucmVzb2x2ZSh7IGRhdGE6IFtdIH0pXG4gICAgXSlcblxuICAgIGxvZ1RpbWluZygnTWFjaGluZSBDb2RlcyBGZXRjaCcsIG1hY2hpbmVDb2Rlc1N0YXJ0VGltZSwgYGZldGNoZWQgJHttYXRlcmlhbE1hcHMuZGF0YT8ubGVuZ3RoIHx8IDB9IG1hdGVyaWFsIGNvZGVzLCAke2VkZ2VNYXRlcmlhbE1hcHMuZGF0YT8ubGVuZ3RoIHx8IDB9IGVkZ2UgY29kZXNgKVxuXG4gICAgLy8gQ3JlYXRlIGxvb2t1cCBtYXBzIGZvciBtYWNoaW5lIGNvZGVzXG4gICAgY29uc3QgbWF0ZXJpYWxDb2RlTWFwID0gbmV3IE1hcChcbiAgICAgIG1hdGVyaWFsTWFwcy5kYXRhPy5tYXAobSA9PiBbbS5tYXRlcmlhbF9pZCwgbS5tYWNoaW5lX2NvZGVdKSB8fCBbXVxuICAgIClcbiAgICBjb25zdCBlZGdlQ29kZU1hcCA9IG5ldyBNYXAoXG4gICAgICBlZGdlTWF0ZXJpYWxNYXBzLmRhdGE/Lm1hcChlID0+IFtlLmVkZ2VfbWF0ZXJpYWxfaWQsIGUubWFjaGluZV9jb2RlXSkgfHwgW11cbiAgICApXG5cbiAgICAvLyBFbnJpY2ggcGFuZWxzIHdpdGggbWFjaGluZSBjb2RlcyBmb3IgY3V0dGluZyBsaXN0XG4gICAgY29uc3QgZW5yaWNoZWRQYW5lbHMgPSBwYW5lbHM/Lm1hcChwYW5lbCA9PiAoe1xuICAgICAgLi4ucGFuZWwsXG4gICAgICBtYXRlcmlhbF9tYWNoaW5lX2NvZGU6IG1hdGVyaWFsQ29kZU1hcC5nZXQocGFuZWwubWF0ZXJpYWxfaWQpIHx8ICcnLFxuICAgICAgZWRnZV9hX2NvZGU6IHBhbmVsLmVkZ2VfbWF0ZXJpYWxfYV9pZCA/IGVkZ2VDb2RlTWFwLmdldChwYW5lbC5lZGdlX21hdGVyaWFsX2FfaWQpIHx8IG51bGwgOiBudWxsLFxuICAgICAgZWRnZV9iX2NvZGU6IHBhbmVsLmVkZ2VfbWF0ZXJpYWxfYl9pZCA/IGVkZ2VDb2RlTWFwLmdldChwYW5lbC5lZGdlX21hdGVyaWFsX2JfaWQpIHx8IG51bGwgOiBudWxsLFxuICAgICAgZWRnZV9jX2NvZGU6IHBhbmVsLmVkZ2VfbWF0ZXJpYWxfY19pZCA/IGVkZ2VDb2RlTWFwLmdldChwYW5lbC5lZGdlX21hdGVyaWFsX2NfaWQpIHx8IG51bGwgOiBudWxsLFxuICAgICAgZWRnZV9kX2NvZGU6IHBhbmVsLmVkZ2VfbWF0ZXJpYWxfZF9pZCA/IGVkZ2VDb2RlTWFwLmdldChwYW5lbC5lZGdlX21hdGVyaWFsX2RfaWQpIHx8IG51bGwgOiBudWxsXG4gICAgfSkpIHx8IFtdXG5cbiAgICAvLyBUcmFuc2Zvcm0gdGhlIHJlc3BvbnNlIHRvIGluY2x1ZGUgYWxsIG5lY2Vzc2FyeSBkYXRhXG4gICAgY29uc3QgdHJhbnNmb3JtZWRRdW90ZSA9IHtcbiAgICAgIGlkOiBxdW90ZS5pZCxcbiAgICAgIHF1b3RlX251bWJlcjogcXVvdGUucXVvdGVfbnVtYmVyLFxuICAgICAgb3JkZXJfbnVtYmVyOiBxdW90ZS5vcmRlcl9udW1iZXIgfHwgbnVsbCxcbiAgICAgIHN0YXR1czogcXVvdGUuc3RhdHVzLFxuICAgICAgcGF5bWVudF9zdGF0dXM6IHF1b3RlLnBheW1lbnRfc3RhdHVzIHx8ICdub3RfcGFpZCcsXG4gICAgICBjdXN0b21lcl9pZDogcXVvdGUuY3VzdG9tZXJfaWQsXG4gICAgICBkaXNjb3VudF9wZXJjZW50OiBxdW90ZS5kaXNjb3VudF9wZXJjZW50LFxuICAgICAgcHJvZHVjdGlvbl9tYWNoaW5lX2lkOiBxdW90ZS5wcm9kdWN0aW9uX21hY2hpbmVfaWQgfHwgbnVsbCxcbiAgICAgIHByb2R1Y3Rpb25fZGF0ZTogcXVvdGUucHJvZHVjdGlvbl9kYXRlIHx8IG51bGwsXG4gICAgICBiYXJjb2RlOiBxdW90ZS5iYXJjb2RlIHx8IG51bGwsXG4gICAgICBwcm9kdWN0aW9uX21hY2hpbmU6IHF1b3RlLnByb2R1Y3Rpb25fbWFjaGluZXMgfHwgbnVsbCxcbiAgICAgIGN1c3RvbWVyOiBxdW90ZS5jdXN0b21lcnMsXG4gICAgICBwYW5lbHM6IGVucmljaGVkUGFuZWxzLFxuICAgICAgcHJpY2luZzogcHJpY2luZ0RhdGEgfHwgW10sXG4gICAgICBmZWVzOiBmZWVzIHx8IFtdLFxuICAgICAgYWNjZXNzb3JpZXM6IGFjY2Vzc29yaWVzIHx8IFtdLFxuICAgICAgcGF5bWVudHM6IHBheW1lbnRzIHx8IFtdLFxuICAgICAgdGVuYW50X2NvbXBhbnk6IHRlbmFudENvbXBhbnksXG4gICAgICB0b3RhbHM6IHtcbiAgICAgICAgdG90YWxfbmV0OiBxdW90ZS50b3RhbF9uZXQsXG4gICAgICAgIHRvdGFsX3ZhdDogcXVvdGUudG90YWxfdmF0LFxuICAgICAgICB0b3RhbF9ncm9zczogcXVvdGUudG90YWxfZ3Jvc3MsXG4gICAgICAgIGZpbmFsX3RvdGFsX2FmdGVyX2Rpc2NvdW50OiBxdW90ZS5maW5hbF90b3RhbF9hZnRlcl9kaXNjb3VudCxcbiAgICAgICAgZmVlc190b3RhbF9uZXQ6IHF1b3RlLmZlZXNfdG90YWxfbmV0IHx8IDAsXG4gICAgICAgIGZlZXNfdG90YWxfdmF0OiBxdW90ZS5mZWVzX3RvdGFsX3ZhdCB8fCAwLFxuICAgICAgICBmZWVzX3RvdGFsX2dyb3NzOiBxdW90ZS5mZWVzX3RvdGFsX2dyb3NzIHx8IDAsXG4gICAgICAgIGFjY2Vzc29yaWVzX3RvdGFsX25ldDogcXVvdGUuYWNjZXNzb3JpZXNfdG90YWxfbmV0IHx8IDAsXG4gICAgICAgIGFjY2Vzc29yaWVzX3RvdGFsX3ZhdDogcXVvdGUuYWNjZXNzb3JpZXNfdG90YWxfdmF0IHx8IDAsXG4gICAgICAgIGFjY2Vzc29yaWVzX3RvdGFsX2dyb3NzOiBxdW90ZS5hY2Nlc3Nvcmllc190b3RhbF9ncm9zcyB8fCAwXG4gICAgICB9LFxuICAgICAgY3JlYXRlZF9hdDogcXVvdGUuY3JlYXRlZF9hdCxcbiAgICAgIHVwZGF0ZWRfYXQ6IHF1b3RlLnVwZGF0ZWRfYXRcbiAgICB9XG5cbiAgICBsb2dUaW1pbmcoJ1F1b3RlIEZldGNoIFRvdGFsJywgc3RhcnRUaW1lLCBgcmV0dXJuZWQgcXVvdGUgJHtxdW90ZS5xdW90ZV9udW1iZXJ9IHdpdGggJHtwYW5lbHM/Lmxlbmd0aCB8fCAwfSBwYW5lbHNgKVxuICAgIGNvbnNvbGUubG9nKGBbU1NSXSBRdW90ZSBmZXRjaGVkIHN1Y2Nlc3NmdWxseTogJHtxdW90ZS5xdW90ZV9udW1iZXJ9IChPUFRJTUlaRUQpYClcbiAgICBcbiAgICByZXR1cm4gdHJhbnNmb3JtZWRRdW90ZVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignW1NTUl0gRXJyb3IgZmV0Y2hpbmcgcXVvdGU6JywgZXJyb3IpXG4gICAgbG9nVGltaW5nKCdRdW90ZSBGZXRjaCBFcnJvcicsIHN0YXJ0VGltZSlcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbi8vIEdldCBxdW90ZXMgd2l0aCBwYWdpbmF0aW9uIChmb3IgcXVvdGVzIGxpc3QgcGFnZSlcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRRdW90ZXNXaXRoUGFnaW5hdGlvbihwYWdlOiBudW1iZXIgPSAxLCBsaW1pdDogbnVtYmVyID0gMjAsIHNlYXJjaFRlcm0/OiBzdHJpbmcpIHtcbiAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgXG4gIGNvbnNvbGUubG9nKGBbU1NSXSBGZXRjaGluZyBxdW90ZXMgcGFnZSAke3BhZ2V9LCBsaW1pdCAke2xpbWl0fSwgc2VhcmNoOiBcIiR7c2VhcmNoVGVybSB8fCAnbm9uZSd9XCJgKVxuXG4gIHRyeSB7XG4gICAgY29uc3Qgb2Zmc2V0ID0gKHBhZ2UgLSAxKSAqIGxpbWl0XG4gICAgXG4gICAgLy8gQnVpbGQgcXVlcnkgd2l0aCBzZWFyY2ggaWYgcHJvdmlkZWRcbiAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZVNlcnZlclxuICAgICAgLmZyb20oJ3F1b3RlcycpXG4gICAgICAuc2VsZWN0KGBcbiAgICAgICAgaWQsXG4gICAgICAgIHF1b3RlX251bWJlcixcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBmaW5hbF90b3RhbF9hZnRlcl9kaXNjb3VudCxcbiAgICAgICAgdXBkYXRlZF9hdCxcbiAgICAgICAgY3VzdG9tZXJzIWlubmVyKFxuICAgICAgICAgIGlkLFxuICAgICAgICAgIG5hbWVcbiAgICAgICAgKVxuICAgICAgYCwgeyBjb3VudDogJ2V4YWN0JyB9KVxuICAgICAgLmVxKCdzdGF0dXMnLCAnZHJhZnQnKSAvLyBPbmx5IHNob3cgZHJhZnQgcXVvdGVzLCBub3Qgb3JkZXJzXG4gICAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKVxuICAgICAgLm9yZGVyKCd1cGRhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG4gICAgICAucmFuZ2Uob2Zmc2V0LCBvZmZzZXQgKyBsaW1pdCAtIDEpXG5cbiAgICAvLyBBcHBseSBzZWFyY2ggZmlsdGVyIGlmIHByb3ZpZGVkXG4gICAgaWYgKHNlYXJjaFRlcm0gJiYgc2VhcmNoVGVybS50cmltKCkpIHtcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuaWxpa2UoJ2N1c3RvbWVycy5uYW1lJywgYCUke3NlYXJjaFRlcm0udHJpbSgpfSVgKVxuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YTogcXVvdGVzLCBlcnJvcjogcXVvdGVzRXJyb3IsIGNvdW50IH0gPSBhd2FpdCBxdWVyeVxuXG4gICAgaWYgKHF1b3Rlc0Vycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbU1NSXSBFcnJvciBmZXRjaGluZyBxdW90ZXM6JywgcXVvdGVzRXJyb3IpXG4gICAgICBsb2dUaW1pbmcoJ1F1b3RlcyBGZXRjaCBGYWlsZWQnLCBzdGFydFRpbWUpXG4gICAgICByZXR1cm4geyBxdW90ZXM6IFtdLCB0b3RhbENvdW50OiAwLCB0b3RhbFBhZ2VzOiAwIH1cbiAgICB9XG5cbiAgICAvLyBUcmFuc2Zvcm0gdGhlIGRhdGEgdG8gZmxhdHRlbiBjdXN0b21lciBuYW1lXG4gICAgY29uc3QgdHJhbnNmb3JtZWRRdW90ZXMgPSBxdW90ZXM/Lm1hcChxdW90ZSA9PiAoe1xuICAgICAgaWQ6IHF1b3RlLmlkLFxuICAgICAgcXVvdGVfbnVtYmVyOiBxdW90ZS5xdW90ZV9udW1iZXIsXG4gICAgICBzdGF0dXM6IHF1b3RlLnN0YXR1cyxcbiAgICAgIGN1c3RvbWVyX25hbWU6IHF1b3RlLmN1c3RvbWVycz8ubmFtZSB8fCAnVW5rbm93biBDdXN0b21lcicsXG4gICAgICBmaW5hbF90b3RhbF9hZnRlcl9kaXNjb3VudDogcXVvdGUuZmluYWxfdG90YWxfYWZ0ZXJfZGlzY291bnQsXG4gICAgICB1cGRhdGVkX2F0OiBxdW90ZS51cGRhdGVkX2F0XG4gICAgfSkpIHx8IFtdXG5cbiAgICBjb25zdCB0b3RhbENvdW50ID0gY291bnQgfHwgMFxuICAgIGNvbnN0IHRvdGFsUGFnZXMgPSBNYXRoLmNlaWwodG90YWxDb3VudCAvIGxpbWl0KVxuXG4gICAgbG9nVGltaW5nKCdRdW90ZXMgRmV0Y2ggVG90YWwnLCBzdGFydFRpbWUsIGByZXR1cm5lZCAke3RyYW5zZm9ybWVkUXVvdGVzLmxlbmd0aH0gcXVvdGVzIChwYWdlICR7cGFnZX0vJHt0b3RhbFBhZ2VzfSlgKVxuICAgIGNvbnNvbGUubG9nKGBbU1NSXSBRdW90ZXMgZmV0Y2hlZCBzdWNjZXNzZnVsbHk6ICR7dHJhbnNmb3JtZWRRdW90ZXMubGVuZ3RofSBxdW90ZXMsIHRvdGFsOiAke3RvdGFsQ291bnR9YClcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgcXVvdGVzOiB0cmFuc2Zvcm1lZFF1b3RlcyxcbiAgICAgIHRvdGFsQ291bnQsXG4gICAgICB0b3RhbFBhZ2VzLFxuICAgICAgY3VycmVudFBhZ2U6IHBhZ2VcbiAgICB9XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbU1NSXSBFcnJvciBmZXRjaGluZyBxdW90ZXM6JywgZXJyb3IpXG4gICAgbG9nVGltaW5nKCdRdW90ZXMgRmV0Y2ggRXJyb3InLCBzdGFydFRpbWUpXG4gICAgcmV0dXJuIHsgcXVvdGVzOiBbXSwgdG90YWxDb3VudDogMCwgdG90YWxQYWdlczogMCB9XG4gIH1cbn1cblxuLy8gR2V0IG9yZGVycyB3aXRoIHBhZ2luYXRpb24gKGZvciBvcmRlcnMgbGlzdCBwYWdlKVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE9yZGVyc1dpdGhQYWdpbmF0aW9uKHBhZ2U6IG51bWJlciA9IDEsIGxpbWl0OiBudW1iZXIgPSAyMCwgc2VhcmNoVGVybT86IHN0cmluZykge1xuICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKVxuICBcbiAgY29uc29sZS5sb2coYFtTU1JdIEZldGNoaW5nIG9yZGVycyBwYWdlICR7cGFnZX0sIGxpbWl0ICR7bGltaXR9LCBzZWFyY2g6IFwiJHtzZWFyY2hUZXJtIHx8ICdub25lJ31cImApXG5cbiAgdHJ5IHtcbiAgICBjb25zdCBvZmZzZXQgPSAocGFnZSAtIDEpICogbGltaXRcbiAgICBcbiAgICAvLyBJZiBzZWFyY2ggdGVybSBpcyBwcm92aWRlZCwgd2UgbmVlZCB0byBmaW5kIG9yZGVycyB0aGF0IG1hdGNoIGVpdGhlciBjdXN0b21lciBuYW1lIG9yIG1hdGVyaWFsIG5hbWVzXG4gICAgaWYgKHNlYXJjaFRlcm0gJiYgc2VhcmNoVGVybS50cmltKCkpIHtcbiAgICAgIGNvbnN0IHRyaW1tZWRTZWFyY2ggPSBzZWFyY2hUZXJtLnRyaW0oKVxuICAgICAgXG4gICAgICAvLyBGaXJzdCwgZmluZCBtYXRlcmlhbHMgdGhhdCBtYXRjaCB0aGUgc2VhcmNoIHRlcm1cbiAgICAgIGNvbnNvbGUubG9nKGBbU1NSXSBTZWFyY2hpbmcgbWF0ZXJpYWxzIGZvcjogXCIke3RyaW1tZWRTZWFyY2h9XCJgKVxuICAgICAgY29uc3QgeyBkYXRhOiBtYXRjaGluZ01hdGVyaWFscywgZXJyb3I6IG1hdGVyaWFsc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVNlcnZlclxuICAgICAgICAuZnJvbSgnbWF0ZXJpYWxzJylcbiAgICAgICAgLnNlbGVjdCgnaWQnKVxuICAgICAgICAuaWxpa2UoJ25hbWUnLCBgJSR7dHJpbW1lZFNlYXJjaH0lYClcbiAgICAgIFxuICAgICAgaWYgKG1hdGVyaWFsc0Vycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tTU1JdIEVycm9yIHNlYXJjaGluZyBtYXRlcmlhbHM6JywgbWF0ZXJpYWxzRXJyb3IpXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IG1hdGVyaWFsSWRzID0gbWF0Y2hpbmdNYXRlcmlhbHM/Lm1hcChtID0+IG0uaWQpIHx8IFtdXG4gICAgICBjb25zb2xlLmxvZyhgW1NTUl0gRm91bmQgJHttYXRlcmlhbElkcy5sZW5ndGh9IG1hdGNoaW5nIG1hdGVyaWFsc2ApXG4gICAgICBcbiAgICAgIC8vIFRoZW4gZmluZCBxdW90ZSBJRHMgdGhhdCBoYXZlIHBhbmVscyB1c2luZyB0aGVzZSBtYXRlcmlhbHNcbiAgICAgIGxldCBtYXRlcmlhbE1hdGNoSWRzOiBzdHJpbmdbXSA9IFtdXG4gICAgICBpZiAobWF0ZXJpYWxJZHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zb2xlLmxvZyhgW1NTUl0gU2VhcmNoaW5nIHF1b3RlX3BhbmVscyBmb3IgbWF0ZXJpYWwgSURzOiAke21hdGVyaWFsSWRzLmpvaW4oJywgJyl9YClcbiAgICAgICAgY29uc3QgeyBkYXRhOiBtYXRlcmlhbE1hdGNoZXMsIGVycm9yOiBwYW5lbHNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VTZXJ2ZXJcbiAgICAgICAgICAuZnJvbSgncXVvdGVfcGFuZWxzJylcbiAgICAgICAgICAuc2VsZWN0KCdxdW90ZV9pZCcpXG4gICAgICAgICAgLmluKCdtYXRlcmlhbF9pZCcsIG1hdGVyaWFsSWRzKVxuICAgICAgICBcbiAgICAgICAgaWYgKHBhbmVsc0Vycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW1NTUl0gRXJyb3Igc2VhcmNoaW5nIHF1b3RlX3BhbmVsczonLCBwYW5lbHNFcnJvcilcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgbWF0ZXJpYWxNYXRjaElkcyA9IG1hdGVyaWFsTWF0Y2hlcz8ubWFwKG0gPT4gbS5xdW90ZV9pZCkgfHwgW11cbiAgICAgICAgY29uc29sZS5sb2coYFtTU1JdIEZvdW5kICR7bWF0ZXJpYWxNYXRjaElkcy5sZW5ndGh9IG1hdGNoaW5nIHF1b3RlIHBhbmVsc2ApXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEJ1aWxkIHF1ZXJ5IHdpdGggT1IgY29uZGl0aW9uIGZvciBjdXN0b21lciBuYW1lIE9SIG1hdGVyaWFsIG1hdGNoZXNcbiAgICAgIGNvbnNvbGUubG9nKGBbU1NSXSBCdWlsZGluZyBxdWVyeSB3aXRoIG1hdGVyaWFsTWF0Y2hJZHM6ICR7bWF0ZXJpYWxNYXRjaElkcy5sZW5ndGh9IG1hdGNoZXNgKVxuICAgICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VTZXJ2ZXJcbiAgICAgICAgLmZyb20oJ3F1b3RlcycpXG4gICAgICAgIC5zZWxlY3QoYFxuICAgICAgICAgIGlkLFxuICAgICAgICAgIG9yZGVyX251bWJlcixcbiAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgcGF5bWVudF9zdGF0dXMsXG4gICAgICAgICAgZmluYWxfdG90YWxfYWZ0ZXJfZGlzY291bnQsXG4gICAgICAgICAgdXBkYXRlZF9hdCxcbiAgICAgICAgICBwcm9kdWN0aW9uX21hY2hpbmVfaWQsXG4gICAgICAgICAgcHJvZHVjdGlvbl9kYXRlLFxuICAgICAgICAgIGJhcmNvZGUsXG4gICAgICAgICAgY3VzdG9tZXJzIWlubmVyKFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgbW9iaWxlLFxuICAgICAgICAgICAgZW1haWxcbiAgICAgICAgICApLFxuICAgICAgICAgIHByb2R1Y3Rpb25fbWFjaGluZXMoXG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIG1hY2hpbmVfbmFtZVxuICAgICAgICAgIClcbiAgICAgICAgYCwgeyBjb3VudDogJ2V4YWN0JyB9KVxuICAgICAgICAuaW4oJ3N0YXR1cycsIFsnb3JkZXJlZCcsICdpbl9wcm9kdWN0aW9uJywgJ3JlYWR5JywgJ2ZpbmlzaGVkJywgJ2NhbmNlbGxlZCddKVxuICAgICAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKVxuICAgICAgICAub3JkZXIoJ3VwZGF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAgICAgLnJhbmdlKG9mZnNldCwgb2Zmc2V0ICsgbGltaXQgLSAxKVxuICAgICAgXG4gICAgICAvLyBFeGVjdXRlIHR3byBzZXBhcmF0ZSBxdWVyaWVzIGFuZCBjb21iaW5lIHJlc3VsdHNcbiAgICAgIGNvbnNvbGUubG9nKGBbU1NSXSBFeGVjdXRpbmcgc2VwYXJhdGUgcXVlcmllcyBmb3IgY3VzdG9tZXIgYW5kIG1hdGVyaWFsIG1hdGNoZXMuLi5gKVxuICAgICAgXG4gICAgICAvLyBRdWVyeSAxOiBDdXN0b21lciBuYW1lIG1hdGNoZXNcbiAgICAgIGNvbnN0IGN1c3RvbWVyUXVlcnkgPSBzdXBhYmFzZVNlcnZlclxuICAgICAgICAuZnJvbSgncXVvdGVzJylcbiAgICAgICAgLnNlbGVjdChgXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgb3JkZXJfbnVtYmVyLFxuICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICBwYXltZW50X3N0YXR1cyxcbiAgICAgICAgICBmaW5hbF90b3RhbF9hZnRlcl9kaXNjb3VudCxcbiAgICAgICAgICB1cGRhdGVkX2F0LFxuICAgICAgICAgIHByb2R1Y3Rpb25fbWFjaGluZV9pZCxcbiAgICAgICAgICBwcm9kdWN0aW9uX2RhdGUsXG4gICAgICAgICAgYmFyY29kZSxcbiAgICAgICAgICBjdXN0b21lcnMhaW5uZXIoXG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBtb2JpbGUsXG4gICAgICAgICAgICBlbWFpbFxuICAgICAgICAgICksXG4gICAgICAgICAgcHJvZHVjdGlvbl9tYWNoaW5lcyhcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgbWFjaGluZV9uYW1lXG4gICAgICAgICAgKVxuICAgICAgICBgLCB7IGNvdW50OiAnZXhhY3QnIH0pXG4gICAgICAgIC5pbignc3RhdHVzJywgWydvcmRlcmVkJywgJ2luX3Byb2R1Y3Rpb24nLCAncmVhZHknLCAnZmluaXNoZWQnLCAnY2FuY2VsbGVkJ10pXG4gICAgICAgIC5pcygnZGVsZXRlZF9hdCcsIG51bGwpXG4gICAgICAgIC5pbGlrZSgnY3VzdG9tZXJzLm5hbWUnLCBgJSR7dHJpbW1lZFNlYXJjaH0lYClcbiAgICAgICAgLm9yZGVyKCd1cGRhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG4gICAgICAgIC5yYW5nZShvZmZzZXQsIG9mZnNldCArIGxpbWl0IC0gMSlcblxuICAgICAgLy8gUXVlcnkgMjogTWF0ZXJpYWwgbWF0Y2hlcyAoaWYgYW55KVxuICAgICAgbGV0IG1hdGVyaWFsUXVlcnkgPSBudWxsXG4gICAgICBpZiAobWF0ZXJpYWxNYXRjaElkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIG1hdGVyaWFsUXVlcnkgPSBzdXBhYmFzZVNlcnZlclxuICAgICAgICAgIC5mcm9tKCdxdW90ZXMnKVxuICAgICAgICAgIC5zZWxlY3QoYFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBvcmRlcl9udW1iZXIsXG4gICAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgICBwYXltZW50X3N0YXR1cyxcbiAgICAgICAgICAgIGZpbmFsX3RvdGFsX2FmdGVyX2Rpc2NvdW50LFxuICAgICAgICAgICAgdXBkYXRlZF9hdCxcbiAgICAgICAgICAgIHByb2R1Y3Rpb25fbWFjaGluZV9pZCxcbiAgICAgICAgICAgIHByb2R1Y3Rpb25fZGF0ZSxcbiAgICAgICAgICAgIGJhcmNvZGUsXG4gICAgICAgICAgICBjdXN0b21lcnMhaW5uZXIoXG4gICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICBtb2JpbGUsXG4gICAgICAgICAgICAgIGVtYWlsXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgcHJvZHVjdGlvbl9tYWNoaW5lcyhcbiAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgIG1hY2hpbmVfbmFtZVxuICAgICAgICAgICAgKVxuICAgICAgICAgIGAsIHsgY291bnQ6ICdleGFjdCcgfSlcbiAgICAgICAgICAuaW4oJ3N0YXR1cycsIFsnb3JkZXJlZCcsICdpbl9wcm9kdWN0aW9uJywgJ3JlYWR5JywgJ2ZpbmlzaGVkJywgJ2NhbmNlbGxlZCddKVxuICAgICAgICAgIC5pcygnZGVsZXRlZF9hdCcsIG51bGwpXG4gICAgICAgICAgLmluKCdpZCcsIG1hdGVyaWFsTWF0Y2hJZHMpXG4gICAgICAgICAgLm9yZGVyKCd1cGRhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG4gICAgICAgICAgLnJhbmdlKG9mZnNldCwgb2Zmc2V0ICsgbGltaXQgLSAxKVxuICAgICAgfVxuXG4gICAgICAvLyBFeGVjdXRlIGJvdGggcXVlcmllc1xuICAgICAgY29uc3QgW2N1c3RvbWVyUmVzdWx0LCBtYXRlcmlhbFJlc3VsdF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGN1c3RvbWVyUXVlcnksXG4gICAgICAgIG1hdGVyaWFsUXVlcnkgfHwgUHJvbWlzZS5yZXNvbHZlKHsgZGF0YTogW10sIGVycm9yOiBudWxsLCBjb3VudDogMCB9KVxuICAgICAgXSlcblxuICAgICAgY29uc3QgeyBkYXRhOiBjdXN0b21lck9yZGVycywgZXJyb3I6IGN1c3RvbWVyRXJyb3IsIGNvdW50OiBjdXN0b21lckNvdW50IH0gPSBjdXN0b21lclJlc3VsdFxuICAgICAgY29uc3QgeyBkYXRhOiBtYXRlcmlhbE9yZGVycywgZXJyb3I6IG1hdGVyaWFsRXJyb3IsIGNvdW50OiBtYXRlcmlhbENvdW50IH0gPSBtYXRlcmlhbFJlc3VsdFxuXG4gICAgICBpZiAoY3VzdG9tZXJFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbU1NSXSBFcnJvciBmZXRjaGluZyBjdXN0b21lciBvcmRlcnM6JywgY3VzdG9tZXJFcnJvcilcbiAgICAgICAgbG9nVGltaW5nKCdPcmRlcnMgRmV0Y2ggRmFpbGVkJywgc3RhcnRUaW1lKVxuICAgICAgICByZXR1cm4geyBvcmRlcnM6IFtdLCB0b3RhbENvdW50OiAwLCB0b3RhbFBhZ2VzOiAwLCBjdXJyZW50UGFnZTogcGFnZSB9XG4gICAgICB9XG5cbiAgICAgIGlmIChtYXRlcmlhbEVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tTU1JdIEVycm9yIGZldGNoaW5nIG1hdGVyaWFsIG9yZGVyczonLCBtYXRlcmlhbEVycm9yKVxuICAgICAgICBsb2dUaW1pbmcoJ09yZGVycyBGZXRjaCBGYWlsZWQnLCBzdGFydFRpbWUpXG4gICAgICAgIHJldHVybiB7IG9yZGVyczogW10sIHRvdGFsQ291bnQ6IDAsIHRvdGFsUGFnZXM6IDAsIGN1cnJlbnRQYWdlOiBwYWdlIH1cbiAgICAgIH1cblxuICAgICAgLy8gQ29tYmluZSBhbmQgZGVkdXBsaWNhdGUgcmVzdWx0c1xuICAgICAgY29uc3QgYWxsT3JkZXJzID0gWy4uLihjdXN0b21lck9yZGVycyB8fCBbXSksIC4uLihtYXRlcmlhbE9yZGVycyB8fCBbXSldXG4gICAgICBjb25zdCB1bmlxdWVPcmRlcnMgPSBhbGxPcmRlcnMuZmlsdGVyKChvcmRlciwgaW5kZXgsIHNlbGYpID0+IFxuICAgICAgICBpbmRleCA9PT0gc2VsZi5maW5kSW5kZXgobyA9PiBvLmlkID09PSBvcmRlci5pZClcbiAgICAgIClcblxuICAgICAgLy8gU29ydCBieSB1cGRhdGVkX2F0IGRlc2NlbmRpbmdcbiAgICAgIHVuaXF1ZU9yZGVycy5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShiLnVwZGF0ZWRfYXQpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGEudXBkYXRlZF9hdCkuZ2V0VGltZSgpKVxuXG4gICAgICAvLyBBcHBseSBwYWdpbmF0aW9uIHRvIGNvbWJpbmVkIHJlc3VsdHNcbiAgICAgIGNvbnN0IHBhZ2luYXRlZE9yZGVycyA9IHVuaXF1ZU9yZGVycy5zbGljZSgwLCBsaW1pdClcbiAgICAgIGNvbnN0IHRvdGFsQ291bnQgPSB1bmlxdWVPcmRlcnMubGVuZ3RoXG4gICAgICBjb25zdCB0b3RhbFBhZ2VzID0gTWF0aC5jZWlsKHRvdGFsQ291bnQgLyBsaW1pdClcblxuICAgICAgY29uc29sZS5sb2coYFtTU1JdIENvbWJpbmVkIHJlc3VsdHM6ICR7dW5pcXVlT3JkZXJzLmxlbmd0aH0gdG90YWwsICR7cGFnaW5hdGVkT3JkZXJzLmxlbmd0aH0gb24gcGFnZWApXG5cbiAgICAgIC8vIFVzZSB0aGUgY29tYmluZWQgcmVzdWx0cyBhcyBvcmRlcnNcbiAgICAgIGNvbnN0IG9yZGVycyA9IHBhZ2luYXRlZE9yZGVyc1xuICAgICAgXG4gICAgICAvLyBHZXQgcGF5bWVudCB0b3RhbHMgZm9yIGFsbCBvcmRlcnMgKGZvciBwYXltZW50IG1vZGFsKVxuICAgICAgY29uc3QgeyBkYXRhOiBwYXltZW50VG90YWxzIH0gPSBhd2FpdCBzdXBhYmFzZVNlcnZlclxuICAgICAgICAuZnJvbSgncXVvdGVfcGF5bWVudHMnKVxuICAgICAgICAuc2VsZWN0KCdxdW90ZV9pZCwgYW1vdW50JylcbiAgICAgICAgLmluKCdxdW90ZV9pZCcsIG9yZGVycz8ubWFwKG8gPT4gby5pZCkgfHwgW10pXG5cbiAgICAgIGNvbnN0IHRvdGFsUGFpZEJ5T3JkZXIgPSAocGF5bWVudFRvdGFscyB8fCBbXSkucmVkdWNlKChhY2M6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4sIHA6IGFueSkgPT4ge1xuICAgICAgICBhY2NbcC5xdW90ZV9pZF0gPSAoYWNjW3AucXVvdGVfaWRdIHx8IDApICsgcC5hbW91bnRcbiAgICAgICAgcmV0dXJuIGFjY1xuICAgICAgfSwge30pXG5cbiAgICAgIC8vIFRyYW5zZm9ybSB0aGUgZGF0YVxuICAgICAgY29uc3QgdHJhbnNmb3JtZWRPcmRlcnMgPSBvcmRlcnM/Lm1hcChvcmRlciA9PiAoe1xuICAgICAgICBpZDogb3JkZXIuaWQsXG4gICAgICAgIG9yZGVyX251bWJlcjogb3JkZXIub3JkZXJfbnVtYmVyIHx8ICdOL0EnLFxuICAgICAgICBzdGF0dXM6IG9yZGVyLnN0YXR1cyxcbiAgICAgICAgcGF5bWVudF9zdGF0dXM6IG9yZGVyLnBheW1lbnRfc3RhdHVzIHx8ICdub3RfcGFpZCcsXG4gICAgICAgIGN1c3RvbWVyX25hbWU6IG9yZGVyLmN1c3RvbWVycz8ubmFtZSB8fCAnVW5rbm93biBDdXN0b21lcicsXG4gICAgICAgIGN1c3RvbWVyX21vYmlsZTogb3JkZXIuY3VzdG9tZXJzPy5tb2JpbGUgfHwgJycsXG4gICAgICAgIGN1c3RvbWVyX2VtYWlsOiBvcmRlci5jdXN0b21lcnM/LmVtYWlsIHx8ICcnLFxuICAgICAgICBmaW5hbF90b3RhbDogb3JkZXIuZmluYWxfdG90YWxfYWZ0ZXJfZGlzY291bnQgfHwgMCxcbiAgICAgICAgdG90YWxfcGFpZDogdG90YWxQYWlkQnlPcmRlcltvcmRlci5pZF0gfHwgMCxcbiAgICAgICAgcmVtYWluaW5nX2JhbGFuY2U6IChvcmRlci5maW5hbF90b3RhbF9hZnRlcl9kaXNjb3VudCB8fCAwKSAtICh0b3RhbFBhaWRCeU9yZGVyW29yZGVyLmlkXSB8fCAwKSxcbiAgICAgICAgdXBkYXRlZF9hdDogb3JkZXIudXBkYXRlZF9hdCxcbiAgICAgICAgcHJvZHVjdGlvbl9tYWNoaW5lX2lkOiBvcmRlci5wcm9kdWN0aW9uX21hY2hpbmVfaWQgfHwgbnVsbCxcbiAgICAgICAgcHJvZHVjdGlvbl9tYWNoaW5lX25hbWU6IG9yZGVyLnByb2R1Y3Rpb25fbWFjaGluZXM/Lm1hY2hpbmVfbmFtZSB8fCBudWxsLFxuICAgICAgICBwcm9kdWN0aW9uX2RhdGU6IG9yZGVyLnByb2R1Y3Rpb25fZGF0ZSB8fCBudWxsLFxuICAgICAgICBiYXJjb2RlOiBvcmRlci5iYXJjb2RlIHx8ICcnXG4gICAgICB9KSkgfHwgW11cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgb3JkZXJzOiB0cmFuc2Zvcm1lZE9yZGVycyxcbiAgICAgICAgdG90YWxDb3VudCxcbiAgICAgICAgdG90YWxQYWdlcyxcbiAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2VcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gTm8gc2VhcmNoIHRlcm0gLSByZWd1bGFyIHF1ZXJ5XG4gICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VTZXJ2ZXJcbiAgICAgIC5mcm9tKCdxdW90ZXMnKVxuICAgICAgLnNlbGVjdChgXG4gICAgICAgIGlkLFxuICAgICAgICBvcmRlcl9udW1iZXIsXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgcGF5bWVudF9zdGF0dXMsXG4gICAgICAgIGZpbmFsX3RvdGFsX2FmdGVyX2Rpc2NvdW50LFxuICAgICAgICB1cGRhdGVkX2F0LFxuICAgICAgICBwcm9kdWN0aW9uX21hY2hpbmVfaWQsXG4gICAgICAgIHByb2R1Y3Rpb25fZGF0ZSxcbiAgICAgICAgYmFyY29kZSxcbiAgICAgICAgY3VzdG9tZXJzIWlubmVyKFxuICAgICAgICAgIGlkLFxuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgbW9iaWxlLFxuICAgICAgICAgIGVtYWlsXG4gICAgICAgICksXG4gICAgICAgIHByb2R1Y3Rpb25fbWFjaGluZXMoXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgbWFjaGluZV9uYW1lXG4gICAgICAgIClcbiAgICAgIGAsIHsgY291bnQ6ICdleGFjdCcgfSlcbiAgICAgIC5pbignc3RhdHVzJywgWydvcmRlcmVkJywgJ2luX3Byb2R1Y3Rpb24nLCAncmVhZHknLCAnZmluaXNoZWQnLCAnY2FuY2VsbGVkJ10pIC8vIFNob3cgYWxsIG9yZGVyIHN0YXR1c2VzIGluY2x1ZGluZyBjYW5jZWxsZWRcbiAgICAgIC5pcygnZGVsZXRlZF9hdCcsIG51bGwpXG4gICAgICAub3JkZXIoJ3VwZGF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAgIC5yYW5nZShvZmZzZXQsIG9mZnNldCArIGxpbWl0IC0gMSlcblxuICAgIGNvbnN0IHsgZGF0YTogb3JkZXJzLCBlcnJvcjogb3JkZXJzRXJyb3IsIGNvdW50IH0gPSBhd2FpdCBxdWVyeVxuXG4gICAgaWYgKG9yZGVyc0Vycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbU1NSXSBFcnJvciBmZXRjaGluZyBvcmRlcnM6Jywgb3JkZXJzRXJyb3IpXG4gICAgICBjb25zb2xlLmVycm9yKCdbU1NSXSBFcnJvciBkZXRhaWxzOicsIEpTT04uc3RyaW5naWZ5KG9yZGVyc0Vycm9yLCBudWxsLCAyKSlcbiAgICAgIGxvZ1RpbWluZygnT3JkZXJzIEZldGNoIEZhaWxlZCcsIHN0YXJ0VGltZSlcbiAgICAgIHJldHVybiB7IG9yZGVyczogW10sIHRvdGFsQ291bnQ6IDAsIHRvdGFsUGFnZXM6IDAsIGN1cnJlbnRQYWdlOiBwYWdlIH1cbiAgICB9XG5cbiAgICAvLyBHZXQgcGF5bWVudCB0b3RhbHMgZm9yIGFsbCBvcmRlcnMgKGZvciBwYXltZW50IG1vZGFsKVxuICAgIGNvbnN0IHsgZGF0YTogcGF5bWVudFRvdGFscyB9ID0gYXdhaXQgc3VwYWJhc2VTZXJ2ZXJcbiAgICAgIC5mcm9tKCdxdW90ZV9wYXltZW50cycpXG4gICAgICAuc2VsZWN0KCdxdW90ZV9pZCwgYW1vdW50JylcbiAgICAgIC5pbigncXVvdGVfaWQnLCBvcmRlcnM/Lm1hcChvID0+IG8uaWQpIHx8IFtdKVxuXG4gICAgY29uc3QgdG90YWxQYWlkQnlPcmRlciA9IChwYXltZW50VG90YWxzIHx8IFtdKS5yZWR1Y2UoKGFjYywgcCkgPT4ge1xuICAgICAgYWNjW3AucXVvdGVfaWRdID0gKGFjY1twLnF1b3RlX2lkXSB8fCAwKSArIHAuYW1vdW50XG4gICAgICByZXR1cm4gYWNjXG4gICAgfSwge30gYXMgUmVjb3JkPHN0cmluZywgbnVtYmVyPilcblxuICAgIC8vIFRyYW5zZm9ybSB0aGUgZGF0YVxuICAgIGNvbnN0IHRyYW5zZm9ybWVkT3JkZXJzID0gb3JkZXJzPy5tYXAob3JkZXIgPT4gKHtcbiAgICAgIGlkOiBvcmRlci5pZCxcbiAgICAgIG9yZGVyX251bWJlcjogb3JkZXIub3JkZXJfbnVtYmVyIHx8ICdOL0EnLFxuICAgICAgc3RhdHVzOiBvcmRlci5zdGF0dXMsXG4gICAgICBwYXltZW50X3N0YXR1czogb3JkZXIucGF5bWVudF9zdGF0dXMgfHwgJ25vdF9wYWlkJyxcbiAgICAgIGN1c3RvbWVyX25hbWU6IG9yZGVyLmN1c3RvbWVycz8ubmFtZSB8fCAnVW5rbm93biBDdXN0b21lcicsXG4gICAgICBjdXN0b21lcl9tb2JpbGU6IG9yZGVyLmN1c3RvbWVycz8ubW9iaWxlIHx8ICcnLFxuICAgICAgY3VzdG9tZXJfZW1haWw6IG9yZGVyLmN1c3RvbWVycz8uZW1haWwgfHwgJycsXG4gICAgICBmaW5hbF90b3RhbDogb3JkZXIuZmluYWxfdG90YWxfYWZ0ZXJfZGlzY291bnQgfHwgMCxcbiAgICAgIHRvdGFsX3BhaWQ6IHRvdGFsUGFpZEJ5T3JkZXJbb3JkZXIuaWRdIHx8IDAsXG4gICAgICByZW1haW5pbmdfYmFsYW5jZTogKG9yZGVyLmZpbmFsX3RvdGFsX2FmdGVyX2Rpc2NvdW50IHx8IDApIC0gKHRvdGFsUGFpZEJ5T3JkZXJbb3JkZXIuaWRdIHx8IDApLFxuICAgICAgdXBkYXRlZF9hdDogb3JkZXIudXBkYXRlZF9hdCxcbiAgICAgIHByb2R1Y3Rpb25fbWFjaGluZV9pZDogb3JkZXIucHJvZHVjdGlvbl9tYWNoaW5lX2lkIHx8IG51bGwsXG4gICAgICBwcm9kdWN0aW9uX21hY2hpbmVfbmFtZTogb3JkZXIucHJvZHVjdGlvbl9tYWNoaW5lcz8ubWFjaGluZV9uYW1lIHx8IG51bGwsXG4gICAgICBwcm9kdWN0aW9uX2RhdGU6IG9yZGVyLnByb2R1Y3Rpb25fZGF0ZSB8fCBudWxsLFxuICAgICAgYmFyY29kZTogb3JkZXIuYmFyY29kZSB8fCAnJ1xuICAgIH0pKSB8fCBbXVxuXG4gICAgY29uc3QgdG90YWxDb3VudCA9IGNvdW50IHx8IDBcbiAgICBjb25zdCB0b3RhbFBhZ2VzID0gTWF0aC5jZWlsKHRvdGFsQ291bnQgLyBsaW1pdClcblxuICAgIGxvZ1RpbWluZygnT3JkZXJzIEZldGNoIFRvdGFsJywgc3RhcnRUaW1lLCBgcmV0dXJuZWQgJHt0cmFuc2Zvcm1lZE9yZGVycy5sZW5ndGh9IG9yZGVycyAocGFnZSAke3BhZ2V9LyR7dG90YWxQYWdlc30pYClcbiAgICBjb25zb2xlLmxvZyhgW1NTUl0gT3JkZXJzIGZldGNoZWQgc3VjY2Vzc2Z1bGx5OiAke3RyYW5zZm9ybWVkT3JkZXJzLmxlbmd0aH0gb3JkZXJzLCB0b3RhbDogJHt0b3RhbENvdW50fWApXG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIG9yZGVyczogdHJhbnNmb3JtZWRPcmRlcnMsXG4gICAgICB0b3RhbENvdW50LFxuICAgICAgdG90YWxQYWdlcyxcbiAgICAgIGN1cnJlbnRQYWdlOiBwYWdlXG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1tTU1JdIEVycm9yIGZldGNoaW5nIG9yZGVyczonLCBlcnJvcilcbiAgICBjb25zb2xlLmVycm9yKCdbU1NSXSBFcnJvciBkZXRhaWxzOicsIEpTT04uc3RyaW5naWZ5KGVycm9yLCBudWxsLCAyKSlcbiAgICBjb25zb2xlLmVycm9yKCdbU1NSXSBFcnJvciBtZXNzYWdlOicsIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InKVxuICAgIGNvbnNvbGUuZXJyb3IoJ1tTU1JdIEVycm9yIHN0YWNrOicsIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5zdGFjayA6ICdObyBzdGFjayB0cmFjZScpXG4gICAgbG9nVGltaW5nKCdPcmRlcnMgRmV0Y2ggRXJyb3InLCBzdGFydFRpbWUpXG4gICAgcmV0dXJuIHsgb3JkZXJzOiBbXSwgdG90YWxDb3VudDogMCwgdG90YWxQYWdlczogMCwgY3VycmVudFBhZ2U6IHBhZ2UgfVxuICB9XG59XG5cbi8vIEFjY2Vzc29yaWVzIFNTUiBmdW5jdGlvbnNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxBY2Nlc3NvcmllcygpIHtcbiAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlU2VydmVyXG4gICAgLmZyb20oJ2FjY2Vzc29yaWVzJylcbiAgICAuc2VsZWN0KGBcbiAgICAgIGlkLCBcbiAgICAgIG5hbWUsIFxuICAgICAgc2t1LCBcbiAgICAgIGJhc2VfcHJpY2UsXG4gICAgICBtdWx0aXBsaWVyLFxuICAgICAgbmV0X3ByaWNlLCBcbiAgICAgIGNyZWF0ZWRfYXQsIFxuICAgICAgdXBkYXRlZF9hdCxcbiAgICAgIHZhdF9pZCxcbiAgICAgIGN1cnJlbmN5X2lkLFxuICAgICAgdW5pdHNfaWQsXG4gICAgICBwYXJ0bmVyc19pZCxcbiAgICAgIHZhdCAoXG4gICAgICAgIGlkLFxuICAgICAgICBuYW1lLFxuICAgICAgICBrdWxjc1xuICAgICAgKSxcbiAgICAgIGN1cnJlbmNpZXMgKFxuICAgICAgICBpZCxcbiAgICAgICAgbmFtZVxuICAgICAgKSxcbiAgICAgIHVuaXRzIChcbiAgICAgICAgaWQsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHNob3J0Zm9ybVxuICAgICAgKSxcbiAgICAgIHBhcnRuZXJzIChcbiAgICAgICAgaWQsXG4gICAgICAgIG5hbWVcbiAgICAgIClcbiAgICBgKVxuICAgIC5pcygnZGVsZXRlZF9hdCcsIG51bGwpXG4gICAgLm9yZGVyKCduYW1lJywgeyBhc2NlbmRpbmc6IHRydWUgfSlcblxuICBjb25zdCBxdWVyeVRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKVxuICBsb2dUaW1pbmcoJ0FjY2Vzc29yaWVzIERCIFF1ZXJ5Jywgc3RhcnRUaW1lLCBgZmV0Y2hlZCAke2RhdGE/Lmxlbmd0aCB8fCAwfSByZWNvcmRzYClcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBhY2Nlc3NvcmllczonLCBlcnJvcilcbiAgICByZXR1cm4gW11cbiAgfVxuXG4gIC8vIFRyYW5zZm9ybSB0aGUgZGF0YSB0byBpbmNsdWRlIGNhbGN1bGF0ZWQgZmllbGRzXG4gIGNvbnN0IHRyYW5zZm9ybWVkRGF0YSA9IGRhdGE/Lm1hcChhY2Nlc3NvcnkgPT4gKHtcbiAgICAuLi5hY2Nlc3NvcnksXG4gICAgdmF0X25hbWU6IGFjY2Vzc29yeS52YXQ/Lm5hbWUgfHwgJycsXG4gICAgdmF0X3BlcmNlbnQ6IGFjY2Vzc29yeS52YXQ/Lmt1bGNzIHx8IDAsXG4gICAgY3VycmVuY3lfbmFtZTogYWNjZXNzb3J5LmN1cnJlbmNpZXM/Lm5hbWUgfHwgJycsXG4gICAgdW5pdF9uYW1lOiBhY2Nlc3NvcnkudW5pdHM/Lm5hbWUgfHwgJycsXG4gICAgdW5pdF9zaG9ydGZvcm06IGFjY2Vzc29yeS51bml0cz8uc2hvcnRmb3JtIHx8ICcnLFxuICAgIHBhcnRuZXJfbmFtZTogYWNjZXNzb3J5LnBhcnRuZXJzPy5uYW1lIHx8ICcnLFxuICAgIHZhdF9hbW91bnQ6IChhY2Nlc3NvcnkubmV0X3ByaWNlICogKGFjY2Vzc29yeS52YXQ/Lmt1bGNzIHx8IDApKSAvIDEwMCxcbiAgICBncm9zc19wcmljZTogYWNjZXNzb3J5Lm5ldF9wcmljZSArICgoYWNjZXNzb3J5Lm5ldF9wcmljZSAqIChhY2Nlc3NvcnkudmF0Py5rdWxjcyB8fCAwKSkgLyAxMDApXG4gIH0pKSB8fCBbXVxuXG4gIGxvZ1RpbWluZygnQWNjZXNzb3JpZXMgVG90YWwnLCBzdGFydFRpbWUsIGByZXR1cm5lZCAke3RyYW5zZm9ybWVkRGF0YS5sZW5ndGh9IHJlY29yZHNgKVxuICByZXR1cm4gdHJhbnNmb3JtZWREYXRhXG59XG5cbi8vIEdldCBhY2Nlc3NvcmllcyB3aXRoIHBhZ2luYXRpb25cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBY2Nlc3Nvcmllc1dpdGhQYWdpbmF0aW9uKHBhZ2U6IG51bWJlciA9IDEsIGxpbWl0OiBudW1iZXIgPSAxMDApIHtcbiAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgXG4gIGNvbnN0IG9mZnNldCA9IChwYWdlIC0gMSkgKiBsaW1pdFxuICBcbiAgLy8gR2V0IHRvdGFsIGNvdW50XG4gIGNvbnN0IHsgY291bnQgfSA9IGF3YWl0IHN1cGFiYXNlU2VydmVyXG4gICAgLmZyb20oJ2FjY2Vzc29yaWVzJylcbiAgICAuc2VsZWN0KCcqJywgeyBjb3VudDogJ2V4YWN0JywgaGVhZDogdHJ1ZSB9KVxuICAgIC5pcygnZGVsZXRlZF9hdCcsIG51bGwpXG5cbiAgLy8gR2V0IHBhZ2luYXRlZCBkYXRhXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlU2VydmVyXG4gICAgLmZyb20oJ2FjY2Vzc29yaWVzJylcbiAgICAuc2VsZWN0KGBcbiAgICAgIGlkLCBcbiAgICAgIG5hbWUsIFxuICAgICAgc2t1LCBcbiAgICAgIGJhc2VfcHJpY2UsXG4gICAgICBtdWx0aXBsaWVyLFxuICAgICAgbmV0X3ByaWNlLCBcbiAgICAgIGNyZWF0ZWRfYXQsIFxuICAgICAgdXBkYXRlZF9hdCxcbiAgICAgIHZhdF9pZCxcbiAgICAgIGN1cnJlbmN5X2lkLFxuICAgICAgdW5pdHNfaWQsXG4gICAgICBwYXJ0bmVyc19pZCxcbiAgICAgIHZhdCAoXG4gICAgICAgIGlkLFxuICAgICAgICBuYW1lLFxuICAgICAgICBrdWxjc1xuICAgICAgKSxcbiAgICAgIGN1cnJlbmNpZXMgKFxuICAgICAgICBpZCxcbiAgICAgICAgbmFtZVxuICAgICAgKSxcbiAgICAgIHVuaXRzIChcbiAgICAgICAgaWQsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHNob3J0Zm9ybVxuICAgICAgKSxcbiAgICAgIHBhcnRuZXJzIChcbiAgICAgICAgaWQsXG4gICAgICAgIG5hbWVcbiAgICAgIClcbiAgICBgKVxuICAgIC5pcygnZGVsZXRlZF9hdCcsIG51bGwpXG4gICAgLm9yZGVyKCduYW1lJywgeyBhc2NlbmRpbmc6IHRydWUgfSlcbiAgICAucmFuZ2Uob2Zmc2V0LCBvZmZzZXQgKyBsaW1pdCAtIDEpXG5cbiAgY29uc3QgcXVlcnlUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgbG9nVGltaW5nKCdBY2Nlc3NvcmllcyBQYWdpbmF0ZWQgREIgUXVlcnknLCBzdGFydFRpbWUsIGBmZXRjaGVkICR7ZGF0YT8ubGVuZ3RoIHx8IDB9IHJlY29yZHNgKVxuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGFjY2Vzc29yaWVzOicsIGVycm9yKVxuICAgIHJldHVybiB7IGFjY2Vzc29yaWVzOiBbXSwgdG90YWxDb3VudDogMCwgdG90YWxQYWdlczogMCwgY3VycmVudFBhZ2U6IHBhZ2UgfVxuICB9XG5cbiAgLy8gVHJhbnNmb3JtIHRoZSBkYXRhIHRvIGluY2x1ZGUgY2FsY3VsYXRlZCBmaWVsZHNcbiAgY29uc3QgdHJhbnNmb3JtZWREYXRhID0gZGF0YT8ubWFwKGFjY2Vzc29yeSA9PiAoe1xuICAgIC4uLmFjY2Vzc29yeSxcbiAgICB2YXRfbmFtZTogYWNjZXNzb3J5LnZhdD8ubmFtZSB8fCAnJyxcbiAgICB2YXRfcGVyY2VudDogYWNjZXNzb3J5LnZhdD8ua3VsY3MgfHwgMCxcbiAgICBjdXJyZW5jeV9uYW1lOiBhY2Nlc3NvcnkuY3VycmVuY2llcz8ubmFtZSB8fCAnJyxcbiAgICB1bml0X25hbWU6IGFjY2Vzc29yeS51bml0cz8ubmFtZSB8fCAnJyxcbiAgICB1bml0X3Nob3J0Zm9ybTogYWNjZXNzb3J5LnVuaXRzPy5zaG9ydGZvcm0gfHwgJycsXG4gICAgcGFydG5lcl9uYW1lOiBhY2Nlc3NvcnkucGFydG5lcnM/Lm5hbWUgfHwgJycsXG4gICAgdmF0X2Ftb3VudDogKGFjY2Vzc29yeS5uZXRfcHJpY2UgKiAoYWNjZXNzb3J5LnZhdD8ua3VsY3MgfHwgMCkpIC8gMTAwLFxuICAgIGdyb3NzX3ByaWNlOiBhY2Nlc3NvcnkubmV0X3ByaWNlICsgKChhY2Nlc3NvcnkubmV0X3ByaWNlICogKGFjY2Vzc29yeS52YXQ/Lmt1bGNzIHx8IDApKSAvIDEwMClcbiAgfSkpIHx8IFtdXG5cbiAgY29uc3QgdG90YWxDb3VudCA9IGNvdW50IHx8IDBcbiAgY29uc3QgdG90YWxQYWdlcyA9IE1hdGguY2VpbCh0b3RhbENvdW50IC8gbGltaXQpXG5cbiAgbG9nVGltaW5nKCdBY2Nlc3NvcmllcyBQYWdpbmF0ZWQgVG90YWwnLCBzdGFydFRpbWUsIGByZXR1cm5lZCAke3RyYW5zZm9ybWVkRGF0YS5sZW5ndGh9IG9mICR7dG90YWxDb3VudH0gcmVjb3Jkc2ApXG4gIFxuICByZXR1cm4ge1xuICAgIGFjY2Vzc29yaWVzOiB0cmFuc2Zvcm1lZERhdGEsXG4gICAgdG90YWxDb3VudCxcbiAgICB0b3RhbFBhZ2VzLFxuICAgIGN1cnJlbnRQYWdlOiBwYWdlXG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFjY2Vzc29yeUJ5SWQoaWQ6IHN0cmluZykge1xuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVNlcnZlclxuICAgIC5mcm9tKCdhY2Nlc3NvcmllcycpXG4gICAgLnNlbGVjdChgXG4gICAgICBpZCwgXG4gICAgICBuYW1lLCBcbiAgICAgIHNrdSwgXG4gICAgICBiYXNlX3ByaWNlLFxuICAgICAgbXVsdGlwbGllcixcbiAgICAgIG5ldF9wcmljZSwgXG4gICAgICBjcmVhdGVkX2F0LCBcbiAgICAgIHVwZGF0ZWRfYXQsXG4gICAgICB2YXRfaWQsXG4gICAgICBjdXJyZW5jeV9pZCxcbiAgICAgIHVuaXRzX2lkLFxuICAgICAgcGFydG5lcnNfaWQsXG4gICAgICB2YXQgKFxuICAgICAgICBpZCxcbiAgICAgICAgbmFtZSxcbiAgICAgICAga3VsY3NcbiAgICAgICksXG4gICAgICBjdXJyZW5jaWVzIChcbiAgICAgICAgaWQsXG4gICAgICAgIG5hbWVcbiAgICAgICksXG4gICAgICB1bml0cyAoXG4gICAgICAgIGlkLFxuICAgICAgICBuYW1lLFxuICAgICAgICBzaG9ydGZvcm1cbiAgICAgICksXG4gICAgICBwYXJ0bmVycyAoXG4gICAgICAgIGlkLFxuICAgICAgICBuYW1lXG4gICAgICApXG4gICAgYClcbiAgICAuZXEoJ2lkJywgaWQpXG4gICAgLmlzKCdkZWxldGVkX2F0JywgbnVsbClcbiAgICAuc2luZ2xlKClcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBhY2Nlc3Nvcnk6JywgZXJyb3IpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIC8vIFRyYW5zZm9ybSB0aGUgZGF0YSB0byBpbmNsdWRlIGNhbGN1bGF0ZWQgZmllbGRzXG4gIGNvbnN0IHRyYW5zZm9ybWVkRGF0YSA9IHtcbiAgICAuLi5kYXRhLFxuICAgIHZhdF9uYW1lOiBkYXRhLnZhdD8ubmFtZSB8fCAnJyxcbiAgICB2YXRfcGVyY2VudDogZGF0YS52YXQ/Lmt1bGNzIHx8IDAsXG4gICAgY3VycmVuY3lfbmFtZTogZGF0YS5jdXJyZW5jaWVzPy5uYW1lIHx8ICcnLFxuICAgIHVuaXRfbmFtZTogZGF0YS51bml0cz8ubmFtZSB8fCAnJyxcbiAgICB1bml0X3Nob3J0Zm9ybTogZGF0YS51bml0cz8uc2hvcnRmb3JtIHx8ICcnLFxuICAgIHBhcnRuZXJfbmFtZTogZGF0YS5wYXJ0bmVycz8ubmFtZSB8fCAnJyxcbiAgICB2YXRfYW1vdW50OiAoZGF0YS5uZXRfcHJpY2UgKiAoZGF0YS52YXQ/Lmt1bGNzIHx8IDApKSAvIDEwMCxcbiAgICBncm9zc19wcmljZTogZGF0YS5uZXRfcHJpY2UgKyAoKGRhdGEubmV0X3ByaWNlICogKGRhdGEudmF0Py5rdWxjcyB8fCAwKSkgLyAxMDApXG4gIH1cblxuICByZXR1cm4gdHJhbnNmb3JtZWREYXRhXG59XG5cblxuLy8gV29ya2VycyBmdW5jdGlvbnNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxXb3JrZXJzKCkge1xuICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKVxuICBcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VTZXJ2ZXJcbiAgICAuZnJvbSgnd29ya2VycycpXG4gICAgLnNlbGVjdCgnaWQsIG5hbWUsIG5pY2tuYW1lLCBtb2JpbGUsIGNvbG9yLCBjcmVhdGVkX2F0LCB1cGRhdGVkX2F0JylcbiAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKVxuICAgIC5vcmRlcignbmFtZScsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXG5cbiAgY29uc3QgcXVlcnlUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgbG9nVGltaW5nKCdXb3JrZXJzIERCIFF1ZXJ5Jywgc3RhcnRUaW1lLCBgZmV0Y2hlZCAke2RhdGE/Lmxlbmd0aCB8fCAwfSByZWNvcmRzYClcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB3b3JrZXJzOicsIGVycm9yKVxuICAgIHJldHVybiBbXVxuICB9XG5cbiAgbG9nVGltaW5nKCdXb3JrZXJzIFRvdGFsJywgc3RhcnRUaW1lLCBgcmV0dXJuZWQgJHtkYXRhPy5sZW5ndGggfHwgMH0gcmVjb3Jkc2ApXG4gIHJldHVybiBkYXRhIHx8IFtdXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRXb3JrZXJCeUlkKGlkOiBzdHJpbmcpIHtcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VTZXJ2ZXJcbiAgICAuZnJvbSgnd29ya2VycycpXG4gICAgLnNlbGVjdCgnaWQsIG5hbWUsIG5pY2tuYW1lLCBtb2JpbGUsIGNvbG9yLCBjcmVhdGVkX2F0LCB1cGRhdGVkX2F0JylcbiAgICAuZXEoJ2lkJywgaWQpXG4gICAgLmlzKCdkZWxldGVkX2F0JywgbnVsbClcbiAgICAuc2luZ2xlKClcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB3b3JrZXI6JywgZXJyb3IpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiBkYXRhXG59XG5cbi8vIFNob3AgT3JkZXJzIGZ1bmN0aW9uc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbFNob3BPcmRlcnMoKSB7XG4gIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gIFxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVNlcnZlclxuICAgIC5mcm9tKCdzaG9wX29yZGVycycpXG4gICAgLnNlbGVjdChgXG4gICAgICBpZCxcbiAgICAgIG9yZGVyX251bWJlcixcbiAgICAgIHdvcmtlcl9pZCxcbiAgICAgIGN1c3RvbWVyX25hbWUsXG4gICAgICBjdXN0b21lcl9lbWFpbCxcbiAgICAgIGN1c3RvbWVyX21vYmlsZSxcbiAgICAgIGN1c3RvbWVyX2Rpc2NvdW50LFxuICAgICAgYmlsbGluZ19uYW1lLFxuICAgICAgYmlsbGluZ19jb3VudHJ5LFxuICAgICAgYmlsbGluZ19jaXR5LFxuICAgICAgYmlsbGluZ19wb3N0YWxfY29kZSxcbiAgICAgIGJpbGxpbmdfc3RyZWV0LFxuICAgICAgYmlsbGluZ19ob3VzZV9udW1iZXIsXG4gICAgICBiaWxsaW5nX3RheF9udW1iZXIsXG4gICAgICBiaWxsaW5nX2NvbXBhbnlfcmVnX251bWJlcixcbiAgICAgIHN0YXR1cyxcbiAgICAgIGNyZWF0ZWRfYXQsXG4gICAgICB1cGRhdGVkX2F0LFxuICAgICAgd29ya2VycyhuYW1lLCBuaWNrbmFtZSksXG4gICAgICBzaG9wX29yZGVyX2l0ZW1zKFxuICAgICAgICBpZCxcbiAgICAgICAgcHJvZHVjdF9uYW1lLFxuICAgICAgICBza3UsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHF1YW50aXR5LFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIGJhc2VfcHJpY2UsXG4gICAgICAgIG11bHRpcGxpZXIsXG4gICAgICAgIHZhdF9pZCxcbiAgICAgICAgY3VycmVuY3lfaWQsXG4gICAgICAgIHVuaXRzKG5hbWUsIHNob3J0Zm9ybSksXG4gICAgICAgIHBhcnRuZXJzKG5hbWUpXG4gICAgICApXG4gICAgYClcbiAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKVxuICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuXG4gIGNvbnN0IHF1ZXJ5VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gIGxvZ1RpbWluZygnZ2V0QWxsU2hvcE9yZGVycyBRdWVyeScsIHN0YXJ0VGltZSwgYEZvdW5kICR7ZGF0YT8ubGVuZ3RoIHx8IDB9IG9yZGVyc2ApXG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgc2hvcCBvcmRlcnM6JywgZXJyb3IpXG4gICAgcmV0dXJuIFtdXG4gIH1cblxuICAvLyBUcmFuc2Zvcm0gZGF0YSBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG4gIGNvbnN0IHRyYW5zZm9ybWVkT3JkZXJzID0gZGF0YT8ubWFwKG9yZGVyID0+ICh7XG4gICAgaWQ6IG9yZGVyLmlkLFxuICAgIG9yZGVyX251bWJlcjogb3JkZXIub3JkZXJfbnVtYmVyLFxuICAgIHdvcmtlcl9pZDogb3JkZXIud29ya2VyX2lkLFxuICAgIHdvcmtlcl9uYW1lOiBvcmRlci53b3JrZXJzPy5uYW1lIHx8ICcnLFxuICAgIHdvcmtlcl9uaWNrbmFtZTogb3JkZXIud29ya2Vycz8ubmlja25hbWUgfHwgJycsXG4gICAgY3VzdG9tZXJfbmFtZTogb3JkZXIuY3VzdG9tZXJfbmFtZSxcbiAgICBjdXN0b21lcl9lbWFpbDogb3JkZXIuY3VzdG9tZXJfZW1haWwsXG4gICAgY3VzdG9tZXJfbW9iaWxlOiBvcmRlci5jdXN0b21lcl9tb2JpbGUsXG4gICAgY3VzdG9tZXJfZGlzY291bnQ6IG9yZGVyLmN1c3RvbWVyX2Rpc2NvdW50LFxuICAgIGJpbGxpbmdfbmFtZTogb3JkZXIuYmlsbGluZ19uYW1lLFxuICAgIGJpbGxpbmdfY291bnRyeTogb3JkZXIuYmlsbGluZ19jb3VudHJ5LFxuICAgIGJpbGxpbmdfY2l0eTogb3JkZXIuYmlsbGluZ19jaXR5LFxuICAgIGJpbGxpbmdfcG9zdGFsX2NvZGU6IG9yZGVyLmJpbGxpbmdfcG9zdGFsX2NvZGUsXG4gICAgYmlsbGluZ19zdHJlZXQ6IG9yZGVyLmJpbGxpbmdfc3RyZWV0LFxuICAgIGJpbGxpbmdfaG91c2VfbnVtYmVyOiBvcmRlci5iaWxsaW5nX2hvdXNlX251bWJlcixcbiAgICBiaWxsaW5nX3RheF9udW1iZXI6IG9yZGVyLmJpbGxpbmdfdGF4X251bWJlcixcbiAgICBiaWxsaW5nX2NvbXBhbnlfcmVnX251bWJlcjogb3JkZXIuYmlsbGluZ19jb21wYW55X3JlZ19udW1iZXIsXG4gICAgc3RhdHVzOiBvcmRlci5zdGF0dXMsXG4gICAgY3JlYXRlZF9hdDogb3JkZXIuY3JlYXRlZF9hdCxcbiAgICB1cGRhdGVkX2F0OiBvcmRlci51cGRhdGVkX2F0LFxuICAgIGl0ZW1zX2NvdW50OiBvcmRlci5zaG9wX29yZGVyX2l0ZW1zPy5sZW5ndGggfHwgMCxcbiAgICBpdGVtczogb3JkZXIuc2hvcF9vcmRlcl9pdGVtcz8ubWFwKGl0ZW0gPT4gKHtcbiAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgcHJvZHVjdF9uYW1lOiBpdGVtLnByb2R1Y3RfbmFtZSxcbiAgICAgIHNrdTogaXRlbS5za3UsXG4gICAgICB0eXBlOiBpdGVtLnR5cGUsXG4gICAgICBxdWFudGl0eTogaXRlbS5xdWFudGl0eSxcbiAgICAgIHN0YXR1czogaXRlbS5zdGF0dXMsXG4gICAgICBiYXNlX3ByaWNlOiBpdGVtLmJhc2VfcHJpY2UsXG4gICAgICBtdWx0aXBsaWVyOiBpdGVtLm11bHRpcGxpZXIsXG4gICAgICB2YXRfaWQ6IGl0ZW0udmF0X2lkLFxuICAgICAgY3VycmVuY3lfaWQ6IGl0ZW0uY3VycmVuY3lfaWQsXG4gICAgICB1bml0X25hbWU6IGl0ZW0udW5pdHM/Lm5hbWUgfHwgJycsXG4gICAgICB1bml0X3Nob3J0Zm9ybTogaXRlbS51bml0cz8uc2hvcnRmb3JtIHx8ICcnLFxuICAgICAgcGFydG5lcl9uYW1lOiBpdGVtLnBhcnRuZXJzPy5uYW1lIHx8ICcnXG4gICAgfSkpIHx8IFtdXG4gIH0pKSB8fCBbXVxuXG4gIGxvZ1RpbWluZygnZ2V0QWxsU2hvcE9yZGVycyBUb3RhbCcsIHN0YXJ0VGltZSwgYFRyYW5zZm9ybWVkICR7dHJhbnNmb3JtZWRPcmRlcnMubGVuZ3RofSBvcmRlcnNgKVxuICByZXR1cm4gdHJhbnNmb3JtZWRPcmRlcnNcbn1cblxuLy8gR2V0IHNpbmdsZSBzaG9wIG9yZGVyIGJ5IElEIHdpdGggYWxsIGRhdGEgKGZvciBkZXRhaWwgcGFnZSlcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTaG9wT3JkZXJCeUlkKG9yZGVySWQ6IHN0cmluZykge1xuICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKVxuICBcbiAgY29uc29sZS5sb2coYFtTU1JdIEZldGNoaW5nIHNob3Agb3JkZXIgJHtvcmRlcklkfWApXG5cbiAgdHJ5IHtcbiAgICAvLyBGZXRjaCBhbGwgZGF0YSBpbiBwYXJhbGxlbFxuICAgIGNvbnN0IHBhcmFsbGVsU3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgICBcbiAgICBjb25zdCBbb3JkZXJSZXN1bHQsIHRlbmFudENvbXBhbnldID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgLy8gMS4gU2hvcCBvcmRlciB3aXRoIHdvcmtlciBkYXRhXG4gICAgICBzdXBhYmFzZVNlcnZlclxuICAgICAgICAuZnJvbSgnc2hvcF9vcmRlcnMnKVxuICAgICAgICAuc2VsZWN0KGBcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBvcmRlcl9udW1iZXIsXG4gICAgICAgICAgd29ya2VyX2lkLFxuICAgICAgICAgIGN1c3RvbWVyX25hbWUsXG4gICAgICAgICAgY3VzdG9tZXJfZW1haWwsXG4gICAgICAgICAgY3VzdG9tZXJfbW9iaWxlLFxuICAgICAgICAgIGN1c3RvbWVyX2Rpc2NvdW50LFxuICAgICAgICAgIGJpbGxpbmdfbmFtZSxcbiAgICAgICAgICBiaWxsaW5nX2NvdW50cnksXG4gICAgICAgICAgYmlsbGluZ19jaXR5LFxuICAgICAgICAgIGJpbGxpbmdfcG9zdGFsX2NvZGUsXG4gICAgICAgICAgYmlsbGluZ19zdHJlZXQsXG4gICAgICAgICAgYmlsbGluZ19ob3VzZV9udW1iZXIsXG4gICAgICAgICAgYmlsbGluZ190YXhfbnVtYmVyLFxuICAgICAgICAgIGJpbGxpbmdfY29tcGFueV9yZWdfbnVtYmVyLFxuICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICBjcmVhdGVkX2F0LFxuICAgICAgICAgIHVwZGF0ZWRfYXQsXG4gICAgICAgICAgd29ya2VycyhcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIG5pY2tuYW1lLFxuICAgICAgICAgICAgbW9iaWxlLFxuICAgICAgICAgICAgY29sb3JcbiAgICAgICAgICApXG4gICAgICAgIGApXG4gICAgICAgIC5lcSgnaWQnLCBvcmRlcklkKVxuICAgICAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKVxuICAgICAgICAuc2luZ2xlKCksXG5cbiAgICAgIC8vIDIuIFRlbmFudCBjb21wYW55XG4gICAgICBnZXRUZW5hbnRDb21wYW55KClcbiAgICBdKVxuXG4gICAgLy8gMy4gU2hvcCBvcmRlciBpdGVtcyB3aXRoIHJlbGF0ZWQgZGF0YVxuICAgIGNvbnN0IHsgZGF0YTogaXRlbXNEYXRhLCBlcnJvcjogaXRlbXNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VTZXJ2ZXJcbiAgICAgIC5mcm9tKCdzaG9wX29yZGVyX2l0ZW1zJylcbiAgICAgIC5zZWxlY3QoYFxuICAgICAgICBpZCxcbiAgICAgICAgcHJvZHVjdF9uYW1lLFxuICAgICAgICBza3UsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGJhc2VfcHJpY2UsXG4gICAgICAgIG11bHRpcGxpZXIsXG4gICAgICAgIHF1YW50aXR5LFxuICAgICAgICBtZWdqZWd5emVzLFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIGNyZWF0ZWRfYXQsXG4gICAgICAgIHVuaXRzKFxuICAgICAgICAgIGlkLFxuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgc2hvcnRmb3JtXG4gICAgICAgICksXG4gICAgICAgIHBhcnRuZXJzKFxuICAgICAgICAgIGlkLFxuICAgICAgICAgIG5hbWVcbiAgICAgICAgKSxcbiAgICAgICAgdmF0KFxuICAgICAgICAgIGlkLFxuICAgICAgICAgIGt1bGNzXG4gICAgICAgICksXG4gICAgICAgIGN1cnJlbmNpZXMoXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgbmFtZVxuICAgICAgICApXG4gICAgICBgKVxuICAgICAgLmVxKCdvcmRlcl9pZCcsIG9yZGVySWQpXG4gICAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKVxuICAgICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IHRydWUgfSlcblxuICAgIGxvZ1RpbWluZygnUGFyYWxsZWwgUXVlcmllcyBDb21wbGV0ZScsIHBhcmFsbGVsU3RhcnRUaW1lLCAnYWxsIHF1ZXJpZXMgZXhlY3V0ZWQgaW4gcGFyYWxsZWwnKVxuXG4gICAgLy8gRXh0cmFjdCBkYXRhIGFuZCBlcnJvcnMgZnJvbSByZXN1bHRzXG4gICAgY29uc3QgeyBkYXRhOiBvcmRlciwgZXJyb3I6IG9yZGVyRXJyb3IgfSA9IG9yZGVyUmVzdWx0XG5cbiAgICAvLyBIYW5kbGUgZXJyb3JzXG4gICAgaWYgKG9yZGVyRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tTU1JdIEVycm9yIGZldGNoaW5nIHNob3Agb3JkZXI6Jywgb3JkZXJFcnJvcilcbiAgICAgIGxvZ1RpbWluZygnU2hvcCBPcmRlciBGZXRjaCBGYWlsZWQnLCBzdGFydFRpbWUpXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIGlmIChpdGVtc0Vycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbU1NSXSBFcnJvciBmZXRjaGluZyBzaG9wIG9yZGVyIGl0ZW1zOicsIGl0ZW1zRXJyb3IpXG4gICAgICBsb2dUaW1pbmcoJ1Nob3AgT3JkZXIgSXRlbXMgRmV0Y2ggRmFpbGVkJywgc3RhcnRUaW1lKVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBpZiAoIW9yZGVyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbU1NSXSBTaG9wIG9yZGVyIG5vdCBmb3VuZDonLCBvcmRlcklkKVxuICAgICAgbG9nVGltaW5nKCdTaG9wIE9yZGVyIE5vdCBGb3VuZCcsIHN0YXJ0VGltZSlcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgLy8gQ2FsY3VsYXRlIHRvdGFsc1xuICAgIGNvbnN0IGl0ZW1zID0gaXRlbXNEYXRhIHx8IFtdXG4gICAgY29uc3QgdG90YWxzID0gaXRlbXMucmVkdWNlKChhY2MsIGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IG5ldFByaWNlID0gaXRlbS5iYXNlX3ByaWNlICogaXRlbS5tdWx0aXBsaWVyXG4gICAgICBjb25zdCBncm9zc1ByaWNlID0gbmV0UHJpY2UgKiAoMSArIChpdGVtLnZhdD8ua3VsY3MgfHwgMCkgLyAxMDApXG4gICAgICBjb25zdCBpdGVtVG90YWwgPSBncm9zc1ByaWNlICogaXRlbS5xdWFudGl0eVxuICAgICAgY29uc3QgZGlzY291bnRBbW91bnQgPSBpdGVtVG90YWwgKiAob3JkZXIuY3VzdG9tZXJfZGlzY291bnQgLyAxMDApXG4gICAgICBcbiAgICAgIGFjYy50b3RhbF9uZXQgKz0gbmV0UHJpY2UgKiBpdGVtLnF1YW50aXR5XG4gICAgICBhY2MudG90YWxfZ3Jvc3MgKz0gaXRlbVRvdGFsXG4gICAgICBhY2MuZmluYWxfdG90YWwgKz0gaXRlbVRvdGFsIC0gZGlzY291bnRBbW91bnRcbiAgICAgIGFjYy5kaXNjb3VudF9hbW91bnQgKz0gZGlzY291bnRBbW91bnRcbiAgICAgIFxuICAgICAgcmV0dXJuIGFjY1xuICAgIH0sIHtcbiAgICAgIHRvdGFsX25ldDogMCxcbiAgICAgIHRvdGFsX2dyb3NzOiAwLFxuICAgICAgZmluYWxfdG90YWw6IDAsXG4gICAgICBkaXNjb3VudF9hbW91bnQ6IDBcbiAgICB9KVxuXG4gICAgLy8gVHJhbnNmb3JtIHRoZSByZXNwb25zZVxuICAgIGNvbnN0IHRyYW5zZm9ybWVkT3JkZXIgPSB7XG4gICAgICBpZDogb3JkZXIuaWQsXG4gICAgICBvcmRlcl9udW1iZXI6IG9yZGVyLm9yZGVyX251bWJlcixcbiAgICAgIHdvcmtlcl9pZDogb3JkZXIud29ya2VyX2lkLFxuICAgICAgd29ya2VyOiBvcmRlci53b3JrZXJzLFxuICAgICAgY3VzdG9tZXJfbmFtZTogb3JkZXIuY3VzdG9tZXJfbmFtZSxcbiAgICAgIGN1c3RvbWVyX2VtYWlsOiBvcmRlci5jdXN0b21lcl9lbWFpbCxcbiAgICAgIGN1c3RvbWVyX21vYmlsZTogb3JkZXIuY3VzdG9tZXJfbW9iaWxlLFxuICAgICAgY3VzdG9tZXJfZGlzY291bnQ6IG9yZGVyLmN1c3RvbWVyX2Rpc2NvdW50LFxuICAgICAgYmlsbGluZ19uYW1lOiBvcmRlci5iaWxsaW5nX25hbWUsXG4gICAgICBiaWxsaW5nX2NvdW50cnk6IG9yZGVyLmJpbGxpbmdfY291bnRyeSxcbiAgICAgIGJpbGxpbmdfY2l0eTogb3JkZXIuYmlsbGluZ19jaXR5LFxuICAgICAgYmlsbGluZ19wb3N0YWxfY29kZTogb3JkZXIuYmlsbGluZ19wb3N0YWxfY29kZSxcbiAgICAgIGJpbGxpbmdfc3RyZWV0OiBvcmRlci5iaWxsaW5nX3N0cmVldCxcbiAgICAgIGJpbGxpbmdfaG91c2VfbnVtYmVyOiBvcmRlci5iaWxsaW5nX2hvdXNlX251bWJlcixcbiAgICAgIGJpbGxpbmdfdGF4X251bWJlcjogb3JkZXIuYmlsbGluZ190YXhfbnVtYmVyLFxuICAgICAgYmlsbGluZ19jb21wYW55X3JlZ19udW1iZXI6IG9yZGVyLmJpbGxpbmdfY29tcGFueV9yZWdfbnVtYmVyLFxuICAgICAgc3RhdHVzOiBvcmRlci5zdGF0dXMsXG4gICAgICBpdGVtczogaXRlbXMsXG4gICAgICB0ZW5hbnRfY29tcGFueTogdGVuYW50Q29tcGFueSxcbiAgICAgIHRvdGFsczogdG90YWxzLFxuICAgICAgY3JlYXRlZF9hdDogb3JkZXIuY3JlYXRlZF9hdCxcbiAgICAgIHVwZGF0ZWRfYXQ6IG9yZGVyLnVwZGF0ZWRfYXRcbiAgICB9XG5cbiAgICBsb2dUaW1pbmcoJ1Nob3AgT3JkZXIgRmV0Y2ggVG90YWwnLCBzdGFydFRpbWUsIGByZXR1cm5lZCBvcmRlciAke29yZGVyLm9yZGVyX251bWJlcn0gd2l0aCAke2l0ZW1zLmxlbmd0aH0gaXRlbXNgKVxuICAgIGNvbnNvbGUubG9nKGBbU1NSXSBTaG9wIG9yZGVyIGZldGNoZWQgc3VjY2Vzc2Z1bGx5OiAke29yZGVyLm9yZGVyX251bWJlcn1gKVxuICAgIFxuICAgIHJldHVybiB0cmFuc2Zvcm1lZE9yZGVyXG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbU1NSXSBFcnJvciBmZXRjaGluZyBzaG9wIG9yZGVyOicsIGVycm9yKVxuICAgIGxvZ1RpbWluZygnU2hvcCBPcmRlciBGZXRjaCBFcnJvcicsIHN0YXJ0VGltZSlcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbi8vIEZldGNoIGFsbCBzaG9wIG9yZGVyIGl0ZW1zIGZvciBzdXBwbGllciBvcmRlcnMgcGFnZVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbFNob3BPcmRlckl0ZW1zKHBhZ2U6IG51bWJlciA9IDEsIGxpbWl0OiBudW1iZXIgPSA1MCwgc2VhcmNoOiBzdHJpbmcgPSAnJywgc3RhdHVzOiBzdHJpbmcgPSAnJywgcGFydG5lcklkOiBzdHJpbmcgPSAnJykge1xuICBpZiAoIWNoZWNrU3VwYWJhc2VDb25maWcoKSkgcmV0dXJuIHsgaXRlbXM6IFtdLCB0b3RhbENvdW50OiAwLCB0b3RhbFBhZ2VzOiAwIH1cblxuICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKVxuICBjb25zdCBvZmZzZXQgPSAocGFnZSAtIDEpICogbGltaXRcblxuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKGBbU1NSXSBGZXRjaGluZyBzaG9wIG9yZGVyIGl0ZW1zIHBhZ2UgJHtwYWdlfSwgbGltaXQgJHtsaW1pdH0sIHNlYXJjaDogXCIke3NlYXJjaH1cIiwgc3RhdHVzOiBcIiR7c3RhdHVzfVwiLCBwYXJ0bmVyOiBcIiR7cGFydG5lcklkfVwiYClcblxuICAgIC8vIEJ1aWxkIHRoZSBxdWVyeSB3aXRoIGpvaW5zIHRvIGdldCBhbGwgcmVsYXRlZCBkYXRhXG4gICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VTZXJ2ZXJcbiAgICAgIC5mcm9tKCdzaG9wX29yZGVyX2l0ZW1zJylcbiAgICAgIC5zZWxlY3QoYFxuICAgICAgICBpZCxcbiAgICAgICAgcHJvZHVjdF9uYW1lLFxuICAgICAgICBza3UsXG4gICAgICAgIHF1YW50aXR5LFxuICAgICAgICBiYXNlX3ByaWNlLFxuICAgICAgICBtdWx0aXBsaWVyLFxuICAgICAgICBtZWdqZWd5emVzLFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIGNyZWF0ZWRfYXQsXG4gICAgICAgIHVwZGF0ZWRfYXQsXG4gICAgICAgIG9yZGVyX2lkLFxuICAgICAgICB1bml0c19pZCxcbiAgICAgICAgcGFydG5lcl9pZCxcbiAgICAgICAgdmF0X2lkLFxuICAgICAgICBzaG9wX29yZGVycyFpbm5lciAoXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgY3VzdG9tZXJfbmFtZSxcbiAgICAgICAgICBvcmRlcl9udW1iZXJcbiAgICAgICAgKSxcbiAgICAgICAgdW5pdHMgKFxuICAgICAgICAgIGlkLFxuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgc2hvcnRmb3JtXG4gICAgICAgICksXG4gICAgICAgIHBhcnRuZXJzIChcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBuYW1lXG4gICAgICAgICksXG4gICAgICAgIHZhdCAoXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICBrdWxjc1xuICAgICAgICApXG4gICAgICBgLCB7IGNvdW50OiAnZXhhY3QnIH0pXG4gICAgICAuaXMoJ3Nob3Bfb3JkZXJzLmRlbGV0ZWRfYXQnLCBudWxsKVxuXG4gICAgLy8gQXBwbHkgZmlsdGVyc1xuICAgIGlmIChzZWFyY2ggJiYgc2VhcmNoLmxlbmd0aCA+PSAyKSB7XG4gICAgICBxdWVyeSA9IHF1ZXJ5Lm9yKGBwcm9kdWN0X25hbWUuaWxpa2UuJSR7c2VhcmNofSUsc2t1LmlsaWtlLiUke3NlYXJjaH0lLHNob3Bfb3JkZXJzLmN1c3RvbWVyX25hbWUuaWxpa2UuJSR7c2VhcmNofSVgKVxuICAgIH1cblxuICAgIGlmIChzdGF0dXMpIHtcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ3N0YXR1cycsIHN0YXR1cylcbiAgICB9XG5cbiAgICBpZiAocGFydG5lcklkKSB7XG4gICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdwYXJ0bmVyX2lkJywgcGFydG5lcklkKVxuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IsIGNvdW50IH0gPSBhd2FpdCBxdWVyeVxuICAgICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG4gICAgICAucmFuZ2Uob2Zmc2V0LCBvZmZzZXQgKyBsaW1pdCAtIDEpXG5cbiAgICBsb2dUaW1pbmcoJ1Nob3AgT3JkZXIgSXRlbXMgREIgUXVlcnknLCBzdGFydFRpbWUsIGBGb3VuZCAke2RhdGE/Lmxlbmd0aCB8fCAwfSBpdGVtc2ApXG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tTU1JdIEVycm9yIGZldGNoaW5nIHNob3Agb3JkZXIgaXRlbXM6JywgZXJyb3IpXG4gICAgICByZXR1cm4geyBpdGVtczogW10sIHRvdGFsQ291bnQ6IDAsIHRvdGFsUGFnZXM6IDAgfVxuICAgIH1cblxuICAgIGNvbnN0IHRvdGFsQ291bnQgPSBjb3VudCB8fCAwXG4gICAgY29uc3QgdG90YWxQYWdlcyA9IE1hdGguY2VpbCh0b3RhbENvdW50IC8gbGltaXQpXG5cbiAgICAvLyBUcmFuc2Zvcm0gdGhlIGRhdGEgdG8gaW5jbHVkZSBjYWxjdWxhdGVkIGZpZWxkc1xuICAgIGNvbnN0IGl0ZW1zID0gZGF0YT8ubWFwKGl0ZW0gPT4ge1xuICAgICAgY29uc3QgZ3Jvc3NVbml0UHJpY2UgPSBNYXRoLnJvdW5kKChpdGVtLmJhc2VfcHJpY2UgfHwgMCkgKiAoaXRlbS5tdWx0aXBsaWVyIHx8IDEpICogKDEgKyAoaXRlbS52YXQ/Lmt1bGNzIHx8IDApIC8gMTAwKSlcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgIHByb2R1Y3RfbmFtZTogaXRlbS5wcm9kdWN0X25hbWUsXG4gICAgICAgIHNrdTogaXRlbS5za3UsXG4gICAgICAgIHF1YW50aXR5OiBpdGVtLnF1YW50aXR5LFxuICAgICAgICBtZWdqZWd5emVzOiBpdGVtLm1lZ2plZ3l6ZXMsXG4gICAgICAgIHN0YXR1czogaXRlbS5zdGF0dXMsXG4gICAgICAgIGNyZWF0ZWRfYXQ6IGl0ZW0uY3JlYXRlZF9hdCxcbiAgICAgICAgdXBkYXRlZF9hdDogaXRlbS51cGRhdGVkX2F0LFxuICAgICAgICBvcmRlcl9pZDogaXRlbS5vcmRlcl9pZCxcbiAgICAgICAgY3VzdG9tZXJfbmFtZTogaXRlbS5zaG9wX29yZGVycz8uY3VzdG9tZXJfbmFtZSxcbiAgICAgICAgb3JkZXJfbnVtYmVyOiBpdGVtLnNob3Bfb3JkZXJzPy5vcmRlcl9udW1iZXIsXG4gICAgICAgIHVuaXRfbmFtZTogaXRlbS51bml0cz8ubmFtZSxcbiAgICAgICAgdW5pdF9zaG9ydGZvcm06IGl0ZW0udW5pdHM/LnNob3J0Zm9ybSxcbiAgICAgICAgcGFydG5lcl9uYW1lOiBpdGVtLnBhcnRuZXJzPy5uYW1lLFxuICAgICAgICBwYXJ0bmVyX2lkOiBpdGVtLnBhcnRuZXJfaWQsXG4gICAgICAgIHZhdF9uYW1lOiBpdGVtLnZhdD8ubmFtZSxcbiAgICAgICAgdmF0X3BlcmNlbnQ6IGl0ZW0udmF0Py5rdWxjcyxcbiAgICAgICAgYmFzZV9wcmljZTogaXRlbS5iYXNlX3ByaWNlLFxuICAgICAgICBtdWx0aXBsaWVyOiBpdGVtLm11bHRpcGxpZXIsXG4gICAgICAgIGdyb3NzX3VuaXRfcHJpY2U6IGdyb3NzVW5pdFByaWNlLFxuICAgICAgICBncm9zc190b3RhbDogTWF0aC5yb3VuZChncm9zc1VuaXRQcmljZSAqIGl0ZW0ucXVhbnRpdHkpXG4gICAgICB9XG4gICAgfSkgfHwgW11cblxuICAgIGxvZ1RpbWluZygnU2hvcCBPcmRlciBJdGVtcyBUb3RhbCcsIHN0YXJ0VGltZSwgYFRyYW5zZm9ybWVkICR7aXRlbXMubGVuZ3RofSBpdGVtc2ApXG4gICAgY29uc29sZS5sb2coYFtTU1JdIFNob3Agb3JkZXIgaXRlbXMgZmV0Y2hlZCBzdWNjZXNzZnVsbHk6ICR7aXRlbXMubGVuZ3RofSBpdGVtcywgdG90YWw6ICR7dG90YWxDb3VudH1gKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGl0ZW1zLFxuICAgICAgdG90YWxDb3VudCxcbiAgICAgIHRvdGFsUGFnZXMsXG4gICAgICBjdXJyZW50UGFnZTogcGFnZSxcbiAgICAgIGxpbWl0XG4gICAgfVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignW1NTUl0gRXJyb3IgZmV0Y2hpbmcgc2hvcCBvcmRlciBpdGVtczonLCBlcnJvcilcbiAgICBsb2dUaW1pbmcoJ1Nob3AgT3JkZXIgSXRlbXMgRmV0Y2ggRXJyb3InLCBzdGFydFRpbWUpXG4gICAgcmV0dXJuIHsgaXRlbXM6IFtdLCB0b3RhbENvdW50OiAwLCB0b3RhbFBhZ2VzOiAwIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsImlzRGV2IiwicHJvY2VzcyIsImxvZ1RpbWluZyIsIm9wZXJhdGlvbiIsInN0YXJ0VGltZSIsImFkZGl0aW9uYWxJbmZvIiwiZHVyYXRpb24iLCJwZXJmb3JtYW5jZSIsIm5vdyIsImNvbnNvbGUiLCJsb2ciLCJ0b0ZpeGVkIiwiY2hlY2tTdXBhYmFzZUNvbmZpZyIsInN1cGFiYXNlU2VydmVyIiwid2FybiIsInN1cGFiYXNlVXJsIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VTZXJ2aWNlS2V5IiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsImlzU3VwYWJhc2VDb25maWd1cmVkIiwiY3JlYXRlTW9ja1N1cGFiYXNlQ2xpZW50IiwiZnJvbSIsInNlbGVjdCIsImVxIiwiaXMiLCJzaW5nbGUiLCJkYXRhIiwiZXJyb3IiLCJvcmRlciIsImF1dGgiLCJwZXJzaXN0U2Vzc2lvbiIsImF1dG9SZWZyZXNoVG9rZW4iLCJkZXRlY3RTZXNzaW9uSW5VcmwiLCJnbG9iYWwiLCJoZWFkZXJzIiwicmVhbHRpbWUiLCJlbmFibGVkIiwiZ2V0QnJhbmRCeUlkIiwiaWQiLCJnZXRBbGxCcmFuZHMiLCJhc2NlbmRpbmciLCJxdWVyeVRpbWUiLCJsZW5ndGgiLCJnZXRNYXRlcmlhbEJ5SWQiLCJtYXRlcmlhbERhdGEiLCJzZXR0aW5nc0RhdGEiLCJtYWNoaW5lRGF0YSIsIm5hbWUiLCJsZW5ndGhfbW0iLCJ3aWR0aF9tbSIsInRoaWNrbmVzc19tbSIsImdyYWluX2RpcmVjdGlvbiIsIkJvb2xlYW4iLCJvbl9zdG9jayIsInVuZGVmaW5lZCIsImFjdGl2ZSIsImltYWdlX3VybCIsImJyYW5kX2lkIiwiYnJhbmRfbmFtZSIsImJyYW5kcyIsImtlcmZfbW0iLCJ0cmltX3RvcF9tbSIsInRyaW1fcmlnaHRfbW0iLCJ0cmltX2JvdHRvbV9tbSIsInRyaW1fbGVmdF9tbSIsInJvdGF0YWJsZSIsIndhc3RlX211bHRpIiwidXNhZ2VfbGltaXQiLCJtYWNoaW5lX2NvZGUiLCJiYXNlX3ByaWNlIiwibXVsdGlwbGllciIsInByaWNlX3Blcl9zcW0iLCJwYXJ0bmVyc19pZCIsInVuaXRzX2lkIiwiY3VycmVuY3lfaWQiLCJ2YXRfaWQiLCJjdXJyZW5jaWVzIiwidmF0IiwiY3JlYXRlZF9hdCIsInVwZGF0ZWRfYXQiLCJnZXRBbGxNYXRlcmlhbHMiLCJtYXRlcmlhbElkcyIsIm1hcCIsIm0iLCJwcmljaW5nRGF0YSIsImluIiwicHJpY2luZ01hcCIsIk1hcCIsInAiLCJ2YXRfcGVyY2VudCIsImt1bGNzIiwiY3VycmVuY3kiLCJ0cmFuc2Zvcm1lZERhdGEiLCJtYXRlcmlhbCIsInByaWNpbmciLCJnZXQiLCJtYXRlcmlhbF9uYW1lIiwiZ2V0QWxsQnJhbmRzRm9yTWF0ZXJpYWxzIiwiZ2V0VW5pdEJ5SWQiLCJnZXRBbGxVbml0cyIsImdldEFsbFByb2R1Y3Rpb25NYWNoaW5lcyIsImdldFByb2R1Y3Rpb25NYWNoaW5lQnlJZCIsImdldEFsbEZlZVR5cGVzIiwiZmVlVHlwZSIsInZhdF9uYW1lIiwiY3VycmVuY3lfbmFtZSIsInZhdF9hbW91bnQiLCJuZXRfcHJpY2UiLCJncm9zc19wcmljZSIsImdldEZlZVR5cGVCeUlkIiwiZ2V0Q3VycmVuY3lCeUlkIiwiZ2V0QWxsQ3VycmVuY2llcyIsImdldFZhdEJ5SWQiLCJnZXRBbGxWYXRSYXRlcyIsImdldEN1dHRpbmdGZWUiLCJsaW1pdCIsImdldE1hdGVyaWFsUHJpY2VIaXN0b3J5IiwibWF0ZXJpYWxJZCIsImVucmljaGVkRGF0YSIsIlByb21pc2UiLCJhbGwiLCJoIiwidXNlckVtYWlsIiwiY2hhbmdlZF9ieSIsInVzZXJEYXRhIiwiYWRtaW4iLCJnZXRVc2VyQnlJZCIsInVzZXIiLCJlbWFpbCIsImVyciIsImNoYW5nZWRfYnlfdXNlciIsImdldEN1c3RvbWVyQnlJZCIsImdldEFsbEN1c3RvbWVycyIsImdldEVkZ2VNYXRlcmlhbEJ5SWQiLCJnZXRBbGxFZGdlTWF0ZXJpYWxzIiwiZ2V0QWxsQnJhbmRzRm9yRWRnZU1hdGVyaWFscyIsImdldEFsbFZhdFJhdGVzRm9yRWRnZU1hdGVyaWFscyIsImdldEFsbExpbmVhck1hdGVyaWFscyIsImxpbmVhck1hdGVyaWFsSWRzIiwibG0iLCJtYWNoaW5lQ29kZXMiLCJtYWNoaW5lQ29kZU1hcCIsIm1jIiwibGluZWFyX21hdGVyaWFsX2lkIiwiY3VycmVuY3lfY29kZSIsImdldExpbmVhck1hdGVyaWFsQnlJZCIsImdldEFsbEJyYW5kc0ZvckxpbmVhck1hdGVyaWFscyIsImdldEFsbFZhdFJhdGVzRm9yTGluZWFyTWF0ZXJpYWxzIiwiZ2V0QWxsQ3VycmVuY2llc0ZvckxpbmVhck1hdGVyaWFscyIsImdldFBhcnRuZXJCeUlkIiwiZ2V0QWxsUGFydG5lcnMiLCJnZXRBbGxWYXRSYXRlc0ZvclBhcnRuZXJzIiwiZ2V0QWxsQ3VycmVuY2llc0ZvclBhcnRuZXJzIiwiZ2V0Q29tcGFueUJ5SWQiLCJnZXRBbGxDb21wYW5pZXMiLCJnZXRUZW5hbnRDb21wYW55IiwiZ2V0QWxsTWVkaWFGaWxlcyIsInRyYW5zZm9ybWVkRmlsZXMiLCJmaWxlIiwib3JpZ2luYWxfZmlsZW5hbWUiLCJzdG9yZWROYW1lIiwic3RvcmVkX2ZpbGVuYW1lIiwicGF0aCIsInN0b3JhZ2VfcGF0aCIsImZ1bGxVcmwiLCJmdWxsX3VybCIsInNpemUiLCJnZXRRdW90ZUJ5SWQiLCJxdW90ZUlkIiwicGFyYWxsZWxTdGFydFRpbWUiLCJxdW90ZVJlc3VsdCIsInBhbmVsc1Jlc3VsdCIsInByaWNpbmdSZXN1bHQiLCJmZWVzUmVzdWx0IiwiYWNjZXNzb3JpZXNSZXN1bHQiLCJ0ZW5hbnRDb21wYW55IiwicGF5bWVudHNSZXN1bHQiLCJxdW90ZSIsInF1b3RlRXJyb3IiLCJwYW5lbHMiLCJwYW5lbHNFcnJvciIsInByaWNpbmdFcnJvciIsImZlZXMiLCJmZWVzRXJyb3IiLCJhY2Nlc3NvcmllcyIsImFjY2Vzc29yaWVzRXJyb3IiLCJwYXltZW50cyIsInBheW1lbnRzRXJyb3IiLCJtYXRlcmlhbF9pZCIsImVkZ2VNYXRlcmlhbElkcyIsImZsYXRNYXAiLCJlZGdlX21hdGVyaWFsX2FfaWQiLCJlZGdlX21hdGVyaWFsX2JfaWQiLCJlZGdlX21hdGVyaWFsX2NfaWQiLCJlZGdlX21hdGVyaWFsX2RfaWQiLCJmaWx0ZXIiLCJtYWNoaW5lQ29kZXNTdGFydFRpbWUiLCJtYXRlcmlhbE1hcHMiLCJlZGdlTWF0ZXJpYWxNYXBzIiwicmVzb2x2ZSIsIm1hdGVyaWFsQ29kZU1hcCIsImVkZ2VDb2RlTWFwIiwiZSIsImVkZ2VfbWF0ZXJpYWxfaWQiLCJlbnJpY2hlZFBhbmVscyIsInBhbmVsIiwibWF0ZXJpYWxfbWFjaGluZV9jb2RlIiwiZWRnZV9hX2NvZGUiLCJlZGdlX2JfY29kZSIsImVkZ2VfY19jb2RlIiwiZWRnZV9kX2NvZGUiLCJ0cmFuc2Zvcm1lZFF1b3RlIiwicXVvdGVfbnVtYmVyIiwib3JkZXJfbnVtYmVyIiwic3RhdHVzIiwicGF5bWVudF9zdGF0dXMiLCJjdXN0b21lcl9pZCIsImRpc2NvdW50X3BlcmNlbnQiLCJwcm9kdWN0aW9uX21hY2hpbmVfaWQiLCJwcm9kdWN0aW9uX2RhdGUiLCJiYXJjb2RlIiwicHJvZHVjdGlvbl9tYWNoaW5lIiwicHJvZHVjdGlvbl9tYWNoaW5lcyIsImN1c3RvbWVyIiwiY3VzdG9tZXJzIiwidGVuYW50X2NvbXBhbnkiLCJ0b3RhbHMiLCJ0b3RhbF9uZXQiLCJ0b3RhbF92YXQiLCJ0b3RhbF9ncm9zcyIsImZpbmFsX3RvdGFsX2FmdGVyX2Rpc2NvdW50IiwiZmVlc190b3RhbF9uZXQiLCJmZWVzX3RvdGFsX3ZhdCIsImZlZXNfdG90YWxfZ3Jvc3MiLCJhY2Nlc3Nvcmllc190b3RhbF9uZXQiLCJhY2Nlc3Nvcmllc190b3RhbF92YXQiLCJhY2Nlc3Nvcmllc190b3RhbF9ncm9zcyIsImdldFF1b3Rlc1dpdGhQYWdpbmF0aW9uIiwicGFnZSIsInNlYXJjaFRlcm0iLCJvZmZzZXQiLCJxdWVyeSIsImNvdW50IiwicmFuZ2UiLCJ0cmltIiwiaWxpa2UiLCJxdW90ZXMiLCJxdW90ZXNFcnJvciIsInRvdGFsQ291bnQiLCJ0b3RhbFBhZ2VzIiwidHJhbnNmb3JtZWRRdW90ZXMiLCJjdXN0b21lcl9uYW1lIiwiTWF0aCIsImNlaWwiLCJjdXJyZW50UGFnZSIsImdldE9yZGVyc1dpdGhQYWdpbmF0aW9uIiwidHJpbW1lZFNlYXJjaCIsIm1hdGNoaW5nTWF0ZXJpYWxzIiwibWF0ZXJpYWxzRXJyb3IiLCJtYXRlcmlhbE1hdGNoSWRzIiwiam9pbiIsIm1hdGVyaWFsTWF0Y2hlcyIsInF1b3RlX2lkIiwiY3VzdG9tZXJRdWVyeSIsIm1hdGVyaWFsUXVlcnkiLCJjdXN0b21lclJlc3VsdCIsIm1hdGVyaWFsUmVzdWx0IiwiY3VzdG9tZXJPcmRlcnMiLCJjdXN0b21lckVycm9yIiwiY3VzdG9tZXJDb3VudCIsIm1hdGVyaWFsT3JkZXJzIiwibWF0ZXJpYWxFcnJvciIsIm1hdGVyaWFsQ291bnQiLCJvcmRlcnMiLCJhbGxPcmRlcnMiLCJ1bmlxdWVPcmRlcnMiLCJpbmRleCIsInNlbGYiLCJmaW5kSW5kZXgiLCJvIiwic29ydCIsImEiLCJiIiwiRGF0ZSIsImdldFRpbWUiLCJwYWdpbmF0ZWRPcmRlcnMiLCJzbGljZSIsInBheW1lbnRUb3RhbHMiLCJ0b3RhbFBhaWRCeU9yZGVyIiwicmVkdWNlIiwiYWNjIiwiYW1vdW50IiwidHJhbnNmb3JtZWRPcmRlcnMiLCJjdXN0b21lcl9tb2JpbGUiLCJtb2JpbGUiLCJjdXN0b21lcl9lbWFpbCIsImZpbmFsX3RvdGFsIiwidG90YWxfcGFpZCIsInJlbWFpbmluZ19iYWxhbmNlIiwicHJvZHVjdGlvbl9tYWNoaW5lX25hbWUiLCJtYWNoaW5lX25hbWUiLCJvcmRlcnNFcnJvciIsIkpTT04iLCJzdHJpbmdpZnkiLCJFcnJvciIsIm1lc3NhZ2UiLCJzdGFjayIsImdldEFsbEFjY2Vzc29yaWVzIiwiYWNjZXNzb3J5IiwidW5pdF9uYW1lIiwidW5pdHMiLCJ1bml0X3Nob3J0Zm9ybSIsInNob3J0Zm9ybSIsInBhcnRuZXJfbmFtZSIsInBhcnRuZXJzIiwiZ2V0QWNjZXNzb3JpZXNXaXRoUGFnaW5hdGlvbiIsImhlYWQiLCJnZXRBY2Nlc3NvcnlCeUlkIiwiZ2V0QWxsV29ya2VycyIsImdldFdvcmtlckJ5SWQiLCJnZXRBbGxTaG9wT3JkZXJzIiwid29ya2VyX2lkIiwid29ya2VyX25hbWUiLCJ3b3JrZXJzIiwid29ya2VyX25pY2tuYW1lIiwibmlja25hbWUiLCJjdXN0b21lcl9kaXNjb3VudCIsImJpbGxpbmdfbmFtZSIsImJpbGxpbmdfY291bnRyeSIsImJpbGxpbmdfY2l0eSIsImJpbGxpbmdfcG9zdGFsX2NvZGUiLCJiaWxsaW5nX3N0cmVldCIsImJpbGxpbmdfaG91c2VfbnVtYmVyIiwiYmlsbGluZ190YXhfbnVtYmVyIiwiYmlsbGluZ19jb21wYW55X3JlZ19udW1iZXIiLCJpdGVtc19jb3VudCIsInNob3Bfb3JkZXJfaXRlbXMiLCJpdGVtcyIsIml0ZW0iLCJwcm9kdWN0X25hbWUiLCJza3UiLCJ0eXBlIiwicXVhbnRpdHkiLCJnZXRTaG9wT3JkZXJCeUlkIiwib3JkZXJJZCIsIm9yZGVyUmVzdWx0IiwiaXRlbXNEYXRhIiwiaXRlbXNFcnJvciIsIm9yZGVyRXJyb3IiLCJuZXRQcmljZSIsImdyb3NzUHJpY2UiLCJpdGVtVG90YWwiLCJkaXNjb3VudEFtb3VudCIsImRpc2NvdW50X2Ftb3VudCIsInRyYW5zZm9ybWVkT3JkZXIiLCJ3b3JrZXIiLCJnZXRBbGxTaG9wT3JkZXJJdGVtcyIsInNlYXJjaCIsInBhcnRuZXJJZCIsIm9yIiwiZ3Jvc3NVbml0UHJpY2UiLCJyb3VuZCIsIm1lZ2plZ3l6ZXMiLCJvcmRlcl9pZCIsInNob3Bfb3JkZXJzIiwicGFydG5lcl9pZCIsImdyb3NzX3VuaXRfcHJpY2UiLCJncm9zc190b3RhbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase-server.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions","vendor-chunks/xlsx"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fcustomers%2Fimport%2Froute&page=%2Fapi%2Fcustomers%2Fimport%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcustomers%2Fimport%2Froute.ts&appDir=%2FVolumes%2FT7%2Ferp_turinova_new%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FVolumes%2FT7%2Ferp_turinova_new&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();