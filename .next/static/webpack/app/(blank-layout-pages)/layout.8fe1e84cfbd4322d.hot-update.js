"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(blank-layout-pages)/layout",{

/***/ "(app-pages-browser)/./src/contexts/PermissionContext.tsx":
/*!********************************************!*\
  !*** ./src/contexts/PermissionContext.tsx ***!
  \********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PermissionProvider: () => (/* binding */ PermissionProvider),\n/* harmony export */   usePermissions: () => (/* binding */ usePermissions)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_permissions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/permissions */ \"(app-pages-browser)/./src/lib/permissions.ts\");\n/* __next_internal_client_entry_do_not_use__ PermissionProvider,usePermissions auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\nconst PermissionContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nfunction PermissionProvider(param) {\n    let { children } = param;\n    _s();\n    const [permissions, setPermissions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [permissionCache, setPermissionCache] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const supabase = createClientComponentClient();\n    const loadPermissions = async ()=>{\n        try {\n            setLoading(true);\n            // Check if we have a valid cache\n            if (permissionCache && (0,_lib_permissions__WEBPACK_IMPORTED_MODULE_2__.isPermissionCacheValid)(permissionCache)) {\n                setPermissions(permissionCache.permissions);\n                setLoading(false);\n                return;\n            }\n            // Get current user\n            const { data: { session }, error: sessionError } = await supabase.auth.getSession();\n            if (sessionError || !(session === null || session === void 0 ? void 0 : session.user)) {\n                // This is normal when user is not logged in - don't log as error\n                // Only allow home page when not authenticated\n                const defaultPermissions = [\n                    {\n                        page_path: '/home',\n                        can_access: true\n                    }\n                ];\n                setPermissions(defaultPermissions);\n                setLoading(false);\n                return;\n            }\n            const user = session.user;\n            // Get user permissions directly from Supabase instead of API route\n            console.log('Fetching permissions directly from Supabase for user:', user.id);\n            const { data, error } = await supabase.rpc('get_user_permissions', {\n                user_uuid: user.id\n            });\n            console.log('Supabase RPC response:', {\n                data,\n                error\n            });\n            if (error) {\n                console.error('Error fetching user permissions:', error);\n                // Only allow home page on error (fail-closed)\n                const defaultPermissions = [\n                    {\n                        page_path: '/home',\n                        can_access: true\n                    }\n                ];\n                setPermissions(defaultPermissions);\n                setLoading(false);\n                return;\n            }\n            if (!data || data.length === 0) {\n                console.log('No permissions data returned from RPC');\n                // Only allow home page when no permissions found\n                const defaultPermissions = [\n                    {\n                        page_path: '/home',\n                        can_access: true\n                    }\n                ];\n                setPermissions(defaultPermissions);\n                setLoading(false);\n                return;\n            }\n            const userPermissions = data.map((p)=>({\n                    page_path: p.page_path,\n                    can_access: p.can_access\n                }));\n            // Debug: Log the permissions received\n            console.log('Loaded user permissions:', userPermissions);\n            // Create new cache\n            const newCache = (0,_lib_permissions__WEBPACK_IMPORTED_MODULE_2__.createPermissionCache)(userPermissions);\n            setPermissionCache(newCache);\n            setPermissions(userPermissions);\n        } catch (error) {\n            console.error('Error loading permissions:', error);\n            // Only allow home page on error (fail-closed)\n            const defaultPermissions = [\n                {\n                    page_path: '/home',\n                    can_access: true\n                }\n            ];\n            setPermissions(defaultPermissions);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const hasPermission = (pagePath)=>{\n        const result = (0,_lib_permissions__WEBPACK_IMPORTED_MODULE_2__.hasPagePermission)(pagePath, permissions);\n        console.log(\"Permission check for \".concat(pagePath, \":\"), result, 'Available permissions:', permissions.map((p)=>\"\".concat(p.page_path, \":\").concat(p.can_access)));\n        return result;\n    };\n    const canAccess = (pagePath)=>{\n        return (0,_lib_permissions__WEBPACK_IMPORTED_MODULE_2__.hasPagePermission)(pagePath, permissions);\n    };\n    const refreshPermissions = async ()=>{\n        setPermissionCache(null) // Clear cache to force reload\n        ;\n        await loadPermissions();\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PermissionProvider.useEffect\": ()=>{\n            loadPermissions();\n            // Listen for auth changes\n            const { data: { subscription } } = supabase.auth.onAuthStateChange({\n                \"PermissionProvider.useEffect\": (event, session)=>{\n                    if (event === 'SIGNED_IN' && session) {\n                        loadPermissions();\n                    } else if (event === 'SIGNED_OUT') {\n                        // Only allow home page when signed out\n                        const defaultPermissions = [\n                            {\n                                page_path: '/home',\n                                can_access: true\n                            }\n                        ];\n                        setPermissions(defaultPermissions);\n                        setPermissionCache(null);\n                    }\n                }\n            }[\"PermissionProvider.useEffect\"]);\n            return ({\n                \"PermissionProvider.useEffect\": ()=>subscription.unsubscribe()\n            })[\"PermissionProvider.useEffect\"];\n        }\n    }[\"PermissionProvider.useEffect\"], []);\n    const value = {\n        permissions,\n        loading,\n        hasPermission,\n        canAccess,\n        refreshPermissions\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PermissionContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Volumes/T7/erp_turinova_new/src/contexts/PermissionContext.tsx\",\n        lineNumber: 150,\n        columnNumber: 5\n    }, this);\n}\n_s(PermissionProvider, \"wB54lrNK0pODeqw0vuHd9bq2nzo=\");\n_c = PermissionProvider;\nfunction usePermissions() {\n    _s1();\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PermissionContext);\n    if (context === undefined) {\n        throw new Error('usePermissions must be used within a PermissionProvider');\n    }\n    return context;\n}\n_s1(usePermissions, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"PermissionProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb250ZXh0cy9QZXJtaXNzaW9uQ29udGV4dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFNkU7QUFFd0Q7QUFVckksTUFBTVEsa0NBQW9CUCxvREFBYUEsQ0FBb0NRO0FBRXBFLFNBQVNDLG1CQUFtQixLQUEyQztRQUEzQyxFQUFFQyxRQUFRLEVBQWlDLEdBQTNDOztJQUNqQyxNQUFNLENBQUNDLGFBQWFDLGVBQWUsR0FBR1QsK0NBQVFBLENBQW1CLEVBQUU7SUFDbkUsTUFBTSxDQUFDVSxTQUFTQyxXQUFXLEdBQUdYLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ1ksaUJBQWlCQyxtQkFBbUIsR0FBR2IsK0NBQVFBLENBQXlCO0lBQy9FLE1BQU1jLFdBQVdDO0lBRWpCLE1BQU1DLGtCQUFrQjtRQUN0QixJQUFJO1lBQ0ZMLFdBQVc7WUFFWCxpQ0FBaUM7WUFDakMsSUFBSUMsbUJBQW1CVix3RUFBc0JBLENBQUNVLGtCQUFrQjtnQkFDOURILGVBQWVHLGdCQUFnQkosV0FBVztnQkFDMUNHLFdBQVc7Z0JBQ1g7WUFDRjtZQUVBLG1CQUFtQjtZQUNuQixNQUFNLEVBQUVNLE1BQU0sRUFBRUMsT0FBTyxFQUFFLEVBQUVDLE9BQU9DLFlBQVksRUFBRSxHQUFHLE1BQU1OLFNBQVNPLElBQUksQ0FBQ0MsVUFBVTtZQUVqRixJQUFJRixnQkFBZ0IsRUFBQ0Ysb0JBQUFBLDhCQUFBQSxRQUFTSyxJQUFJLEdBQUU7Z0JBQ2xDLGlFQUFpRTtnQkFDakUsOENBQThDO2dCQUM5QyxNQUFNQyxxQkFBdUM7b0JBQzNDO3dCQUFFQyxXQUFXO3dCQUFTQyxZQUFZO29CQUFLO2lCQUN4QztnQkFDRGpCLGVBQWVlO2dCQUNmYixXQUFXO2dCQUNYO1lBQ0Y7WUFFQSxNQUFNWSxPQUFPTCxRQUFRSyxJQUFJO1lBRXpCLG1FQUFtRTtZQUNuRUksUUFBUUMsR0FBRyxDQUFDLHlEQUF5REwsS0FBS00sRUFBRTtZQUU1RSxNQUFNLEVB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WTVDLFdBQVc7UUFDekIsTUFBTSxJQUFJNkMsTUFBTTtJQUNsQjtJQUNBLE9BQU9EO0FBQ1Q7SUFOZ0JEIiwic291cmNlcyI6WyIvVm9sdW1lcy9UNy9lcnBfdHVyaW5vdmFfbmV3L3NyYy9jb250ZXh0cy9QZXJtaXNzaW9uQ29udGV4dC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnXG5cbmltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJ0AvbGliL3N1cGFiYXNlJ1xuaW1wb3J0IHsgVXNlclBlcm1pc3Npb24sIFBlcm1pc3Npb25DYWNoZSwgY3JlYXRlUGVybWlzc2lvbkNhY2hlLCBpc1Blcm1pc3Npb25DYWNoZVZhbGlkLCBoYXNQYWdlUGVybWlzc2lvbiB9IGZyb20gJ0AvbGliL3Blcm1pc3Npb25zJ1xuXG5pbnRlcmZhY2UgUGVybWlzc2lvbkNvbnRleHRUeXBlIHtcbiAgcGVybWlzc2lvbnM6IFVzZXJQZXJtaXNzaW9uW11cbiAgbG9hZGluZzogYm9vbGVhblxuICBoYXNQZXJtaXNzaW9uOiAocGFnZVBhdGg6IHN0cmluZykgPT4gYm9vbGVhblxuICBjYW5BY2Nlc3M6IChwYWdlUGF0aDogc3RyaW5nKSA9PiBib29sZWFuICAvLyBCYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gIHJlZnJlc2hQZXJtaXNzaW9uczogKCkgPT4gUHJvbWlzZTx2b2lkPlxufVxuXG5jb25zdCBQZXJtaXNzaW9uQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8UGVybWlzc2lvbkNvbnRleHRUeXBlIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpXG5cbmV4cG9ydCBmdW5jdGlvbiBQZXJtaXNzaW9uUHJvdmlkZXIoeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfSkge1xuICBjb25zdCBbcGVybWlzc2lvbnMsIHNldFBlcm1pc3Npb25zXSA9IHVzZVN0YXRlPFVzZXJQZXJtaXNzaW9uW10+KFtdKVxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKVxuICBjb25zdCBbcGVybWlzc2lvbkNhY2hlLCBzZXRQZXJtaXNzaW9uQ2FjaGVdID0gdXNlU3RhdGU8UGVybWlzc2lvbkNhY2hlIHwgbnVsbD4obnVsbClcbiAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnRDb21wb25lbnRDbGllbnQoKVxuXG4gIGNvbnN0IGxvYWRQZXJtaXNzaW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0TG9hZGluZyh0cnVlKVxuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIGEgdmFsaWQgY2FjaGVcbiAgICAgIGlmIChwZXJtaXNzaW9uQ2FjaGUgJiYgaXNQZXJtaXNzaW9uQ2FjaGVWYWxpZChwZXJtaXNzaW9uQ2FjaGUpKSB7XG4gICAgICAgIHNldFBlcm1pc3Npb25zKHBlcm1pc3Npb25DYWNoZS5wZXJtaXNzaW9ucylcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIC8vIEdldCBjdXJyZW50IHVzZXJcbiAgICAgIGNvbnN0IHsgZGF0YTogeyBzZXNzaW9uIH0sIGVycm9yOiBzZXNzaW9uRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpXG4gICAgICBcbiAgICAgIGlmIChzZXNzaW9uRXJyb3IgfHwgIXNlc3Npb24/LnVzZXIpIHtcbiAgICAgICAgLy8gVGhpcyBpcyBub3JtYWwgd2hlbiB1c2VyIGlzIG5vdCBsb2dnZWQgaW4gLSBkb24ndCBsb2cgYXMgZXJyb3JcbiAgICAgICAgLy8gT25seSBhbGxvdyBob21lIHBhZ2Ugd2hlbiBub3QgYXV0aGVudGljYXRlZFxuICAgICAgICBjb25zdCBkZWZhdWx0UGVybWlzc2lvbnM6IFVzZXJQZXJtaXNzaW9uW10gPSBbXG4gICAgICAgICAgeyBwYWdlX3BhdGg6ICcvaG9tZScsIGNhbl9hY2Nlc3M6IHRydWUgfSxcbiAgICAgICAgXVxuICAgICAgICBzZXRQZXJtaXNzaW9ucyhkZWZhdWx0UGVybWlzc2lvbnMpXG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCB1c2VyID0gc2Vzc2lvbi51c2VyXG5cbiAgICAgIC8vIEdldCB1c2VyIHBlcm1pc3Npb25zIGRpcmVjdGx5IGZyb20gU3VwYWJhc2UgaW5zdGVhZCBvZiBBUEkgcm91dGVcbiAgICAgIGNvbnNvbGUubG9nKCdGZXRjaGluZyBwZXJtaXNzaW9ucyBkaXJlY3RseSBmcm9tIFN1cGFiYXNlIGZvciB1c2VyOicsIHVzZXIuaWQpXG4gICAgICBcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYygnZ2V0X3VzZXJfcGVybWlzc2lvbnMnLCB7XG4gICAgICAgIHVzZXJfdXVpZDogdXNlci5pZFxuICAgICAgfSlcblxuICAgICAgY29uc29sZS5sb2coJ1N1cGFiYXNlIFJQQyByZXNwb25zZTonLCB7IGRhdGEsIGVycm9yIH0pXG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyIHBlcm1pc3Npb25zOicsIGVycm9yKVxuICAgICAgICAvLyBPbmx5IGFsbG93IGhvbWUgcGFnZSBvbiBlcnJvciAoZmFpbC1jbG9zZWQpXG4gICAgICAgIGNvbnN0IGRlZmF1bHRQZXJtaXNzaW9uczogVXNlclBlcm1pc3Npb25bXSA9IFtcbiAgICAgICAgICB7IHBhZ2VfcGF0aDogJy9ob21lJywgY2FuX2FjY2VzczogdHJ1ZSB9LFxuICAgICAgICBdXG4gICAgICAgIHNldFBlcm1pc3Npb25zKGRlZmF1bHRQZXJtaXNzaW9ucylcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGlmICghZGF0YSB8fCBkYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zb2xlLmxvZygnTm8gcGVybWlzc2lvbnMgZGF0YSByZXR1cm5lZCBmcm9tIFJQQycpXG4gICAgICAgIC8vIE9ubHkgYWxsb3cgaG9tZSBwYWdlIHdoZW4gbm8gcGVybWlzc2lvbnMgZm91bmRcbiAgICAgICAgY29uc3QgZGVmYXVsdFBlcm1pc3Npb25zOiBVc2VyUGVybWlzc2lvbltdID0gW1xuICAgICAgICAgIHsgcGFnZV9wYXRoOiAnL2hvbWUnLCBjYW5fYWNjZXNzOiB0cnVlIH0sXG4gICAgICAgIF1cbiAgICAgICAgc2V0UGVybWlzc2lvbnMoZGVmYXVsdFBlcm1pc3Npb25zKVxuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgdXNlclBlcm1pc3Npb25zOiBVc2VyUGVybWlzc2lvbltdID0gZGF0YS5tYXAocCA9PiAoe1xuICAgICAgICBwYWdlX3BhdGg6IHAucGFnZV9wYXRoLFxuICAgICAgICBjYW5fYWNjZXNzOiBwLmNhbl9hY2Nlc3NcbiAgICAgIH0pKVxuICAgICAgXG4gICAgICAvLyBEZWJ1ZzogTG9nIHRoZSBwZXJtaXNzaW9ucyByZWNlaXZlZFxuICAgICAgY29uc29sZS5sb2coJ0xvYWRlZCB1c2VyIHBlcm1pc3Npb25zOicsIHVzZXJQZXJtaXNzaW9ucylcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIG5ldyBjYWNoZVxuICAgICAgY29uc3QgbmV3Q2FjaGUgPSBjcmVhdGVQZXJtaXNzaW9uQ2FjaGUodXNlclBlcm1pc3Npb25zKVxuICAgICAgc2V0UGVybWlzc2lvbkNhY2hlKG5ld0NhY2hlKVxuICAgICAgc2V0UGVybWlzc2lvbnModXNlclBlcm1pc3Npb25zKVxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgcGVybWlzc2lvbnM6JywgZXJyb3IpXG4gICAgICAvLyBPbmx5IGFsbG93IGhvbWUgcGFnZSBvbiBlcnJvciAoZmFpbC1jbG9zZWQpXG4gICAgICBjb25zdCBkZWZhdWx0UGVybWlzc2lvbnM6IFVzZXJQZXJtaXNzaW9uW10gPSBbXG4gICAgICAgIHsgcGFnZV9wYXRoOiAnL2hvbWUnLCBjYW5fYWNjZXNzOiB0cnVlIH0sXG4gICAgICBdXG4gICAgICBzZXRQZXJtaXNzaW9ucyhkZWZhdWx0UGVybWlzc2lvbnMpXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGFzUGVybWlzc2lvbiA9IChwYWdlUGF0aDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gaGFzUGFnZVBlcm1pc3Npb24ocGFnZVBhdGgsIHBlcm1pc3Npb25zKVxuICAgIGNvbnNvbGUubG9nKGBQZXJtaXNzaW9uIGNoZWNrIGZvciAke3BhZ2VQYXRofTpgLCByZXN1bHQsICdBdmFpbGFibGUgcGVybWlzc2lvbnM6JywgcGVybWlzc2lvbnMubWFwKHAgPT4gYCR7cC5wYWdlX3BhdGh9OiR7cC5jYW5fYWNjZXNzfWApKVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIGNvbnN0IGNhbkFjY2VzcyA9IChwYWdlUGF0aDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgcmV0dXJuIGhhc1BhZ2VQZXJtaXNzaW9uKHBhZ2VQYXRoLCBwZXJtaXNzaW9ucylcbiAgfVxuXG4gIGNvbnN0IHJlZnJlc2hQZXJtaXNzaW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICBzZXRQZXJtaXNzaW9uQ2FjaGUobnVsbCkgLy8gQ2xlYXIgY2FjaGUgdG8gZm9yY2UgcmVsb2FkXG4gICAgYXdhaXQgbG9hZFBlcm1pc3Npb25zKClcbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbG9hZFBlcm1pc3Npb25zKClcblxuICAgIC8vIExpc3RlbiBmb3IgYXV0aCBjaGFuZ2VzXG4gICAgY29uc3QgeyBkYXRhOiB7IHN1YnNjcmlwdGlvbiB9IH0gPSBzdXBhYmFzZS5hdXRoLm9uQXV0aFN0YXRlQ2hhbmdlKChldmVudCwgc2Vzc2lvbikgPT4ge1xuICAgICAgaWYgKGV2ZW50ID09PSAnU0lHTkVEX0lOJyAmJiBzZXNzaW9uKSB7XG4gICAgICAgIGxvYWRQZXJtaXNzaW9ucygpXG4gICAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnU0lHTkVEX09VVCcpIHtcbiAgICAgICAgLy8gT25seSBhbGxvdyBob21lIHBhZ2Ugd2hlbiBzaWduZWQgb3V0XG4gICAgICAgIGNvbnN0IGRlZmF1bHRQZXJtaXNzaW9uczogVXNlclBlcm1pc3Npb25bXSA9IFtcbiAgICAgICAgICB7IHBhZ2VfcGF0aDogJy9ob21lJywgY2FuX2FjY2VzczogdHJ1ZSB9LFxuICAgICAgICBdXG4gICAgICAgIHNldFBlcm1pc3Npb25zKGRlZmF1bHRQZXJtaXNzaW9ucylcbiAgICAgICAgc2V0UGVybWlzc2lvbkNhY2hlKG51bGwpXG4gICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiAoKSA9PiBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKVxuICB9LCBbXSlcblxuICBjb25zdCB2YWx1ZTogUGVybWlzc2lvbkNvbnRleHRUeXBlID0ge1xuICAgIHBlcm1pc3Npb25zLFxuICAgIGxvYWRpbmcsXG4gICAgaGFzUGVybWlzc2lvbixcbiAgICBjYW5BY2Nlc3MsXG4gICAgcmVmcmVzaFBlcm1pc3Npb25zLFxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8UGVybWlzc2lvbkNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3ZhbHVlfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L1Blcm1pc3Npb25Db250ZXh0LlByb3ZpZGVyPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VQZXJtaXNzaW9ucygpIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoUGVybWlzc2lvbkNvbnRleHQpXG4gIGlmIChjb250ZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZVBlcm1pc3Npb25zIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBQZXJtaXNzaW9uUHJvdmlkZXInKVxuICB9XG4gIHJldHVybiBjb250ZXh0XG59XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiY3JlYXRlUGVybWlzc2lvbkNhY2hlIiwiaXNQZXJtaXNzaW9uQ2FjaGVWYWxpZCIsImhhc1BhZ2VQZXJtaXNzaW9uIiwiUGVybWlzc2lvbkNvbnRleHQiLCJ1bmRlZmluZWQiLCJQZXJtaXNzaW9uUHJvdmlkZXIiLCJjaGlsZHJlbiIsInBlcm1pc3Npb25zIiwic2V0UGVybWlzc2lvbnMiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInBlcm1pc3Npb25DYWNoZSIsInNldFBlcm1pc3Npb25DYWNoZSIsInN1cGFiYXNlIiwiY3JlYXRlQ2xpZW50Q29tcG9uZW50Q2xpZW50IiwibG9hZFBlcm1pc3Npb25zIiwiZGF0YSIsInNlc3Npb24iLCJlcnJvciIsInNlc3Npb25FcnJvciIsImF1dGgiLCJnZXRTZXNzaW9uIiwidXNlciIsImRlZmF1bHRQZXJtaXNzaW9ucyIsInBhZ2VfcGF0aCIsImNhbl9hY2Nlc3MiLCJjb25zb2xlIiwibG9nIiwiaWQiLCJycGMiLCJ1c2VyX3V1aWQiLCJsZW5ndGgiLCJ1c2VyUGVybWlzc2lvbnMiLCJtYXAiLCJwIiwibmV3Q2FjaGUiLCJoYXNQZXJtaXNzaW9uIiwicGFnZVBhdGgiLCJyZXN1bHQiLCJjYW5BY2Nlc3MiLCJyZWZyZXNoUGVybWlzc2lvbnMiLCJzdWJzY3JpcHRpb24iLCJvbkF1dGhTdGF0ZUNoYW5nZSIsImV2ZW50IiwidW5zdWJzY3JpYmUiLCJ2YWx1ZSIsIlByb3ZpZGVyIiwidXNlUGVybWlzc2lvbnMiLCJjb250ZXh0IiwiRXJyb3IiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/contexts/PermissionContext.tsx\n"));

/***/ })

});